!function(){"use strict";window.Framework7=function(a){var t=this;for(var n in t.version="1.0.4",t.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!1,fastClicksDistanceThreshold:0,fastClicksDelayBetweenClicks:50,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!1,swipeBackPageThreshold:0,swipeBackPageActiveArea:1,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,scrollTopOnNavbarClick:!1,scrollTopOnStatusbarClick:!1,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",modalStack:!0,imagesLazyLoadThreshold:0,imagesLazyLoadSequential:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,init:!0},a)t.params[n]=a[n];var r=e,i=Template7;t._compiledTemplates={},t.touchEvents={start:t.support.touch?"touchstart":"mousedown",move:t.support.touch?"touchmove":"mousemove",end:t.support.touch?"touchend":"mouseup"},t.ls=window.localStorage,t.rtl="rtl"===r("body").css("direction"),t.rtl&&r("html").attr("dir","rtl"),void 0!==t.params.statusbarOverlay&&(t.params.statusbarOverlay?r("html").addClass("with-statusbar-overlay"):r("html").removeClass("with-statusbar-overlay")),t.views=[];var o=function(e,a){var n,i={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:t.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:t.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:t.params.allowDuplicateUrls,swipeBackPage:t.params.swipeBackPage,swipeBackPageAnimateShadow:t.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:t.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:t.params.swipeBackPageActiveArea,swipeBackPageThreshold:t.params.swipeBackPageThreshold,animatePages:t.params.animatePages,preloadPreviousPage:t.params.preloadPreviousPage};for(var o in a=a||{},i)void 0===a[o]&&(a[o]=i[o]);var s=this;s.params=a,s.selector=e;var l=r(e);if(s.container=l[0],s.main=l.hasClass(t.params.viewMainClass),s.contentCache={},s.pagesCache={},l[0].f7View=s,s.pagesContainer=l.find(".pages")[0],s.initialPages=[],s.initialNavbars=[],s.params.domCache){var p=l.find(".page");for(n=0;n<p.length;n++)s.initialPages.push(p[n]);if(s.params.dynamicNavbar){var c=l.find(".navbar-inner");for(n=0;n<c.length;n++)s.initialNavbars.push(c[n])}}s.allowPageChange=!0;var d=document.location.href;s.history=[];var u,m,h=d,f=t.params.pushStateSeparator,g=t.params.pushStateRoot;t.params.pushState&&s.main&&(g?h=g:h.indexOf(f)>=0&&h.indexOf(f+"#")<0&&(h=h.split(f)[0])),s.activePage||(0===(u=r(s.pagesContainer).find(".page-on-center")).length&&(u=(u=r(s.pagesContainer).find(".page:not(.cached)")).eq(u.length-1)),u.length>0&&(m=u[0].f7PageData)),s.params.domCache&&u?(s.url=l.attr("data-url")||s.params.url||"#"+u.attr("data-page"),s.pagesCache[s.url]=u.attr("data-page")):s.url=l.attr("data-url")||s.params.url||h,m&&(m.view=s,m.url=s.url,s.activePage=m,u[0].f7PageData=m),s.url&&s.history.push(s.url);var v,w,b,C,y,x,T,k,S,P,M,I=!1,O=!1,E={},L=[],D=[],B=!0,N=[],z=[];if(s.handleTouchStart=function(e){B&&s.params.swipeBackPage&&!I&&!t.swipeoutOpenedEl&&(O=!1,I=!0,v=void 0,E.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,E.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,C=(new Date).getTime(),S=s.params.dynamicNavbar&&l.find(".navbar-inner").length>1)},s.handleTouchMove=function(e){if(I){var a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===v&&(v=!!(v||Math.abs(n-E.y)>Math.abs(a-E.x))),v||e.f7PreventSwipeBack||t.preventSwipeBack)I=!1;else{if(!O){var i=!1;w=l.width();var o=r(e.target),p=o.hasClass("swipeout")?o:o.parents(".swipeout");p.length>0&&(!t.rtl&&p.find(".swipeout-actions-left").length>0&&(i=!0),t.rtl&&p.find(".swipeout-actions-right").length>0&&(i=!0)),(L=o.is(".page")?o:o.parents(".page")).hasClass("no-swipeback")&&(i=!0),D=l.find(".page-on-left:not(.cached)");E.x,l.offset().left,s.params.swipeBackPageActiveArea;if((t.rtl?E.x<l.offset().left-l[0].scrollLeft+w-s.params.swipeBackPageActiveArea:E.x-l.offset().left>s.params.swipeBackPageActiveArea)&&(i=!0),0!==D.length&&0!==L.length||(i=!0),i)return void(I=!1);s.params.swipeBackPageAnimateShadow&&!t.device.android&&0===(P=L.find(".swipeback-page-shadow")).length&&(P=r('<div class="swipeback-page-shadow"></div>'),L.append(P)),S&&(N=l.find(".navbar-on-center:not(.cached)"),z=l.find(".navbar-on-left:not(.cached)"),y=N.find(".left, .center, .right, .subnavbar, .fading"),x=z.find(".left, .center, .right, .subnavbar, .fading"),t.params.animateNavBackIcon&&(T=N.find(".left.sliding .back .icon"),k=z.find(".left.sliding .back .icon"))),r(".picker-modal.modal-in").length>0&&t.closeModal(r(".picker-modal.modal-in"))}e.f7PreventPanelSwipe=!0,O=!0,e.preventDefault();var c=t.rtl?-1:1;(b=(a-E.x-s.params.swipeBackPageThreshold)*c)<0&&(b=0);var d=b/w,u={percentage:d,activePage:L[0],previousPage:D[0],activeNavbar:N[0],previousNavbar:z[0]};s.params.onSwipeBackMove&&s.params.onSwipeBackMove(u),l.trigger("swipebackmove",u);var m=b*c,h=(b/5-w/5)*c;if(1===t.device.pixelRatio&&(m=Math.round(m),h=Math.round(h)),L.transform("translate3d("+m+"px,0,0)"),s.params.swipeBackPageAnimateShadow&&!t.device.android&&(P[0].style.opacity=1-1*d),D.transform("translate3d("+h+"px,0,0)"),s.params.swipeBackPageAnimateOpacity&&(D[0].style.opacity=.9+.1*d),S){var f;for(f=0;f<y.length;f++)if((M=r(y[f])).is(".subnavbar.sliding")||(M[0].style.opacity=1-1.3*d),M[0].className.indexOf("sliding")>=0){var g=d*M[0].f7NavbarRightOffset;1===t.device.pixelRatio&&(g=Math.round(g)),M.transform("translate3d("+g+"px,0,0)"),t.params.animateNavBackIcon&&M[0].className.indexOf("left")>=0&&T.length>0&&T.transform("translate3d("+-g+"px,0,0)")}for(f=0;f<x.length;f++)if((M=r(x[f])).is(".subnavbar.sliding")||(M[0].style.opacity=1.3*d-.3),M[0].className.indexOf("sliding")>=0){var C=M[0].f7NavbarLeftOffset*(1-d);1===t.device.pixelRatio&&(C=Math.round(C)),M.transform("translate3d("+C+"px,0,0)"),t.params.animateNavBackIcon&&M[0].className.indexOf("left")>=0&&k.length>0&&k.transform("translate3d("+-C+"px,0,0)")}}}}},s.handleTouchEnd=function(e){if(!I||!O)return I=!1,void(O=!1);if(I=!1,O=!1,0===b)return r([L[0],D[0]]).transform("").css({opacity:"",boxShadow:""}),void(S&&(y.transform("").css({opacity:""}),x.transform("").css({opacity:""}),T&&T.length>0&&T.transform(""),k&&T.length>0&&k.transform("")));var a=(new Date).getTime()-C,n=!1;if((a<300&&b>10||a>=300&&b>w/2)&&(L.removeClass("page-on-center").addClass("page-on-right"),D.removeClass("page-on-left").addClass("page-on-center"),S&&(N.removeClass("navbar-on-center").addClass("navbar-on-right"),z.removeClass("navbar-on-left").addClass("navbar-on-center")),n=!0),r([L[0],D[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),S&&(y.css({opacity:""}).each(function(){var e=n?this.f7NavbarRightOffset:0,a=r(this);a.transform("translate3d("+e+"px,0,0)"),t.params.animateNavBackIcon&&a.hasClass("left")&&T.length>0&&T.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),x.transform("").css({opacity:""}).each(function(){var e=n?0:this.f7NavbarLeftOffset,a=r(this);a.transform("translate3d("+e+"px,0,0)"),t.params.animateNavBackIcon&&a.hasClass("left")&&k.length>0&&k.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),B=!1,s.allowPageChange=!1,n){var i=s.history[s.history.length-2];s.url=i,t.pageBackCallbacks("before",s,{pageContainer:L[0],url:i,position:"center",newPage:D,oldPage:L,swipeBack:!0}),t.pageAnimCallbacks("before",s,{pageContainer:D[0],url:i,position:"left",newPage:D,oldPage:L,swipeBack:!0})}L.transitionEnd(function(){r([L[0],D[0]]).removeClass("page-transitioning"),S&&(y.removeClass("page-transitioning").css({opacity:""}),x.removeClass("page-transitioning").css({opacity:""}),T&&T.length>0&&T.removeClass("page-transitioning"),k&&k.length>0&&k.removeClass("page-transitioning")),B=!0,s.allowPageChange=!0,n&&(t.params.pushState&&s.main&&history.back(),t.pageBackCallbacks("after",s,{pageContainer:L[0],url:i,position:"center",newPage:D,oldPage:L,swipeBack:!0}),t.pageAnimCallbacks("after",s,{pageContainer:D[0],url:i,position:"left",newPage:D,oldPage:L,swipeBack:!0}),t.router.afterBack(s,L,D)),P&&P.length>0&&P.remove()})},s.attachEvents=function(e){var a=e?"off":"on";l[a](t.touchEvents.start,s.handleTouchStart),l[a](t.touchEvents.move,s.handleTouchMove),l[a](t.touchEvents.end,s.handleTouchEnd)},s.detachEvents=function(){s.attachEvents(!0)},s.params.swipeBackPage&&s.attachEvents(),t.views.push(s),s.main&&(t.mainView=s),s.router={load:function(e){return t.router.load(s,e)},back:function(e){return t.router.back(s,e)},loadPage:function(e){if("string"==typeof(e=e||{})){var a=e;e={},a&&0===a.indexOf("#")&&s.params.domCache?e.pageName=a.split("#")[1]:e.url=a}return t.router.load(s,e)},loadContent:function(e){return t.router.load(s,{content:e})},reloadPage:function(e){return t.router.load(s,{url:e,reload:!0})},reloadContent:function(e){return t.router.load(s,{content:e,reload:!0})},reloadPreviousPage:function(e){return t.router.load(s,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return t.router.load(s,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:s.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(s.params.domCache&&s.pagesCache[e.url]?(e.pageName=s.pagesCache[e.url],e.url=void 0,delete e.url):s.contentCache[e.url]&&(e.content=s.contentCache[e.url],e.url=void 0,delete e.url)),t.router.load(s,e)},refreshPreviousPage:function(){var e={url:s.history[s.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&s.params.domCache&&s.pagesCache[e.url]&&(e.pageName=s.pagesCache[e.url],e.url=void 0,delete e.url),t.router.load(s,e)}},s.loadPage=s.router.loadPage,s.loadContent=s.router.loadContent,s.reloadPage=s.router.reloadPage,s.reloadContent=s.router.reloadContent,s.reloadPreviousPage=s.router.reloadPreviousPage,s.reloadPreviousContent=s.router.reloadPreviousContent,s.refreshPage=s.router.refreshPage,s.refreshPreviousPage=s.router.refreshPreviousPage,s.back=s.router.back,s.hideNavbar=function(){return t.hideNavbar(l.find(".navbar"))},s.showNavbar=function(){return t.showNavbar(l.find(".navbar"))},s.hideToolbar=function(){return t.hideToolbar(l.find(".toolbar"))},s.showToolbar=function(){return t.showToolbar(l.find(".toolbar"))},t.params.pushState&&s.main){var A;g?A=d.split(t.params.pushStateRoot+f)[1]:d.indexOf(f)>=0&&d.indexOf(f+"#")<0&&(A=d.split(f)[1]);var H=!t.params.pushStateNoAnimation&&void 0;if(A)t.router.load(s,{url:A,animatePages:H,pushState:!1});else if(d.indexOf(f+"#")>=0){var R=history.state;R.pageName&&"viewIndex"in R&&t.router.load(s,{pageName:R.pageName,pushState:!1})}}return s.destroy=function(){s.detachEvents(),s=void 0},t.pluginHook("addView",s),s};t.addView=function(e,a){return new o(e,a)},t.getCurrentView=function(e){var a=r(".popover.modal-in .view"),t=r(".popup.modal-in .view"),n=r(".panel.active .view"),i=r(".views"),o=i.children(".view");if(o.length>1&&o.hasClass("tab")&&(o=i.children(".view.active")),a.length>0&&a[0].f7View)return a[0].f7View;if(t.length>0&&t[0].f7View)return t[0].f7View;if(n.length>0&&n[0].f7View)return n[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1){for(var s=[],l=0;l<o.length;l++)o[l].f7View&&s.push(o[l].f7View);return s.length>0&&void 0!==e?s[e]:s.length>1?s:1===s.length?s[0]:void 0}}},t.navbarInitCallback=function(e,a,n,i,o,s){var l={container:n,innerContainer:i},p={url:o,query:r.parseUrlQuery(o||""),container:a,name:r(a).attr("data-page"),view:e,from:s},c={navbar:l,page:p};t.pluginHook("navbarInit",l,p),r(i).trigger("navbarInit",c)},t.sizeNavbars=function(e){(e?r(e).find(".navbar .navbar-inner:not(.cached)"):r(".navbar .navbar-inner:not(.cached)")).each(function(){var e=r(this);if(!e.hasClass("cached")){var a,n,i=t.rtl?e.find(".right"):e.find(".left"),o=t.rtl?e.find(".left"):e.find(".right"),s=e.find(".center"),l=e.find(".subnavbar"),p=0===i.length,c=0===o.length,d=p?0:i.outerWidth(!0),u=c?0:o.outerWidth(!0),m=s.outerWidth(!0),h=e[0].offsetWidth-parseInt(e.css("padding-left"),10)-parseInt(e.css("padding-right"),10),f=e.hasClass("navbar-on-left");c&&(a=h-m),p&&(a=0),p||c||(a=(h-u-m+d)/2);var g=(h-m)/2;h-d-u>m?(g<d&&(g=d),g+m>h-u&&(g=h-u-m),n=g-a):n=0;var v=t.rtl?-1:1,w=n;t.rtl&&p&&c&&s.length>0&&(w=-w),s.css({left:w+"px"}),s.hasClass("sliding")&&(s[0].f7NavbarLeftOffset=-(a+n)*v,s[0].f7NavbarRightOffset=(h-a-n-m)*v,f&&s.transform("translate3d("+s[0].f7NavbarLeftOffset+"px, 0, 0)")),!p&&i.hasClass("sliding")&&(t.rtl?(i[0].f7NavbarLeftOffset=-(h-i.outerWidth())/2*v,i[0].f7NavbarRightOffset=d*v):(i[0].f7NavbarLeftOffset=-d,i[0].f7NavbarRightOffset=(h-i.outerWidth())/2),f&&i.transform("translate3d("+i[0].f7NavbarLeftOffset+"px, 0, 0)")),!c&&o.hasClass("sliding")&&(t.rtl?(o[0].f7NavbarLeftOffset=-u*v,o[0].f7NavbarRightOffset=(h-o.outerWidth())/2*v):(o[0].f7NavbarLeftOffset=-(h-o.outerWidth())/2,o[0].f7NavbarRightOffset=u),f&&o.transform("translate3d("+o[0].f7NavbarLeftOffset+"px, 0, 0)")),l.length&&l.hasClass("sliding")&&(l[0].f7NavbarLeftOffset=t.rtl?l[0].offsetWidth:-l[0].offsetWidth,l[0].f7NavbarRightOffset=-l[0].f7NavbarLeftOffset)}})},t.hideNavbar=function(e){return r(e).addClass("navbar-hidden"),!0},t.showNavbar=function(e){var a=r(e);return a.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){a.removeClass("navbar-hiding")}),!0},t.hideToolbar=function(e){return r(e).addClass("toolbar-hidden"),!0},t.showToolbar=function(e){var a=r(e);a.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){a.removeClass("toolbar-hiding")})};var s=function(e,a){var n={input:null,clearButton:null,cancelButton:null,searchList:null,searchIn:".item-title",searchBy:"",found:null,notFound:null,overlay:null,ignore:".searchbar-ignore",customSearch:!1};for(var i in a=a||{},n)void 0!==a[i]&&null!==a[i]||(a[i]=n[i]);var o=this;o.params=a,e=r(e),o.container=e,o.active=!1,o.input=o.params.input?r(o.params.input):o.container.find('input[type="search"]'),o.clearButton=o.params.clearButton?r(o.params.clearButton):o.container.find(".searchbar-clear"),o.cancelButton=o.params.cancelButton?r(o.params.cancelButton):o.container.find(".searchbar-cancel"),o.searchList=r(o.params.searchList),o.ul=o.searchList.children("ul"),o.isVirtualList=o.searchList.hasClass("virtual-list"),o.pageContainer=o.container.parents(".page").eq(0),o.params.overlay?o.overlay=r(o.params.overlay):o.overlay=o.pageContainer.length>0?o.pageContainer.find(".searchbar-overlay"):r(".searchbar-overlay"),o.params.found?o.found=r(o.params.found):o.found=o.pageContainer.length>0?o.pageContainer.find(".searchbar-found"):r(".searchbar-found"),o.params.notFound?o.notFound=r(o.params.notFound):o.notFound=o.pageContainer.length>0?o.pageContainer.find(".searchbar-not-found"):r(".searchbar-not-found");var s,l,p=t.rtl?"margin-left":"margin-right";function c(e){e.preventDefault()}return o.cancelButton.length>0&&(o.cancelButton.transition(0).show(),o.cancelButton.css(p,-o.cancelButton[0].offsetWidth+"px"),setTimeout(function(){o.cancelButton.transition("")},0)),o.triggerEvent=function(e,a){o.container.trigger(e,a),o.searchList.length>0&&o.searchList.trigger(e,a)},o.enable=function(){function e(){o.searchList.length&&!o.container.hasClass("searchbar-active")&&o.overlay.addClass("searchbar-overlay-active"),o.container.addClass("searchbar-active"),o.cancelButton.length>0&&o.cancelButton.css(p,"0px"),o.triggerEvent("enableSearch"),o.active=!0}t.device.ios?setTimeout(function(){e()},400):e()},o.disable=function(){function e(){o.input.blur(),o.triggerEvent("disableSearch"),o.active=!1}o.input.val("").trigger("change"),o.container.removeClass("searchbar-active searchbar-not-empty"),o.cancelButton.length>0&&o.cancelButton.css(p,-o.cancelButton[0].offsetWidth+"px"),o.searchList.length&&o.overlay.removeClass("searchbar-overlay-active"),t.device.ios?setTimeout(function(){e()},400):e()},o.clear=function(){o.input.val("").trigger("change").focus(),o.triggerEvent("clearSearch")},o.handleInput=function(){setTimeout(function(){var e=o.input.val().trim();o.searchList.length>0&&(o.params.searchIn||o.isVirtualList)&&o.search(e,!0)},0)},o.search=function(e,a){if(e.trim()!==s)if(s=e.trim(),a||(o.active||o.enable(),a||o.input.val(e)),0===e.length?(o.container.removeClass("searchbar-not-empty"),o.searchList.length&&o.container.hasClass("searchbar-active")&&o.overlay.addClass("searchbar-overlay-active")):(o.container.addClass("searchbar-not-empty"),o.searchList.length&&o.container.hasClass("searchbar-active")&&o.overlay.removeClass("searchbar-overlay-active")),o.params.externalSearch)o.triggerEvent("search",{query:e});else{var n=e.trim().toLowerCase().split(" "),i=[];if(o.isVirtualList){if(l=o.searchList[0].f7VirtualList,""===e.trim())return l.resetFilter(),o.notFound.hide(),void o.found.show();if(l.params.searchAll)i=l.params.searchAll(e,l.items)||[];else if(l.params.searchByItem)for(var p=0;p<l.items.length;p++)l.params.searchByItem(e,p,l.params.items[p])&&i.push(p)}else 0===o.ul.length&&(o.ul=o.searchList.children("ul")),o.ul.children("li").removeClass("hidden-by-searchbar").each(function(e,a){a=r(a);var t=[];a.find(o.params.searchIn).each(function(){t.push(r(this).text().trim().toLowerCase())}),t=t.join(" ");for(var s=0,l=0;l<n.length;l++)t.indexOf(n[l])>=0&&s++;s===n.length||o.params.ignore&&a.is(o.params.ignore)?i.push(a[0]):a.addClass("hidden-by-searchbar")}),t.params.searchbarHideDividers&&o.searchList.find(".item-divider, .list-group-title").each(function(){for(var e=r(this),a=e.nextAll("li"),t=!0,n=0;n<a.length;n++){var i=r(a[n]);if(i.hasClass("list-group-title")||i.hasClass("item-divider"))break;i.hasClass("hidden-by-searchbar")||(t=!1)}var s=o.params.ignore&&e.is(o.params.ignore);t&&!s?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),t.params.searchbarHideGroups&&o.searchList.find(".list-group").each(function(){var e=r(this),a=o.params.ignore&&e.is(o.params.ignore);0!==e.find("li:not(.hidden-by-searchbar)").length||a?e.removeClass("hidden-by-searchbar"):e.addClass("hidden-by-searchbar")});o.triggerEvent("search",{query:e,foundItems:i}),0===i.length?(o.notFound.show(),o.found.hide()):(o.notFound.hide(),o.found.show()),o.isVirtualList&&l.filterItems(i)}},o.attachEvents=function(e){var a=e?"off":"on";o.container[a]("submit",c),o.cancelButton[a]("click",o.disable),o.overlay[a]("click",o.disable),o.input[a]("focus",o.enable),o.input[a]("change keydown keypress keyup",o.handleInput),o.clearButton[a]("click",o.clear)},o.detachEvents=function(){o.attachEvents(!0)},o.init=function(){o.attachEvents()},o.destroy=function(){o.detachEvents(),o=null},o.init(),o.container[0].f7Searchbar=o,o};t.searchbar=function(e,a){return new s(e,a)},t.initPageSearchbar=function(e){var a=(e=r(e)).hasClass("searchbar")?e:e.find(".searchbar");if(0!==a.length&&a.hasClass("searchbar-init")){var n=t.searchbar(a,a.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",function a(){n.destroy(),e.off("pageBeforeRemove",a)})}};var l=function(e,a){var t={textarea:null,maxHeight:null};for(var n in a=a||{},t)void 0!==a[n]&&null!==a[n]||(a[n]=t[n]);var i=this;if(i.params=a,i.container=r(e),0!==i.container.length)return i.textarea=i.params.textarea?r(i.params.textarea):i.container.find("textarea"),i.pageContainer=i.container.parents(".page").eq(0),i.pageContent=i.pageContainer.find(".page-content"),i.pageContentPadding=parseInt(i.pageContent.css("padding-bottom")),i.initialBarHeight=i.container[0].offsetHeight,i.initialAreaHeight=i.textarea[0].offsetHeight,i.sizeTextarea=function(){i.textarea.css({height:""});var e=i.textarea[0].offsetHeight,a=e-i.textarea[0].clientHeight,t=i.textarea[0].scrollHeight;if(t+a>e){var n=t+a,r=i.initialBarHeight+(n-i.initialAreaHeight),o=i.params.maxHeight||i.container.parents(".view")[0].offsetHeight-88;r>o&&(n=(r=parseInt(o,10))-i.initialBarHeight+i.initialAreaHeight),i.textarea.css("height",n+"px"),i.container.css("height",r+"px"),i.pageContent.length>0&&(i.pageContent.css("padding-bottom",r+"px"),i.pageContent.scrollTop(i.pageContent[0].scrollHeight-i.pageContent[0].offsetHeight))}else i.pageContent.length>0&&(i.container.css({height:"",bottom:""}),i.pageContent.css({"padding-bottom":""}))},i.clear=function(){i.textarea.val("").trigger("change")},i.value=function(e){if(void 0===e)return i.textarea.val();i.textarea.val(e).trigger("change")},i.textareaTimeout=void 0,i.handleTextarea=function(e){clearTimeout(i.textareaTimeout),i.textareaTimeout=setTimeout(function(){i.sizeTextarea()},0)},i.attachEvents=function(e){var a=e?"off":"on";i.container[a]("submit",o),i.textarea[a]("change keydown keypress keyup paste cut",i.handleTextarea)},i.detachEvents=function(){i.attachEvents(!0)},i.init=function(){i.attachEvents()},i.destroy=function(){i.detachEvents(),i=null},i.init(),i.container[0].f7Messagebar=i,i;function o(e){e.preventDefault()}};function p(e){var a=e.replace(/^./,function(e){return e.toUpperCase()});t["onPage"+a]=function(a,n){return t.onPage(e,a,n)}}t.messagebar=function(e,a){return new l(e,a)},t.initPageMessagebar=function(e){var a=(e=r(e)).hasClass("messagebar")?e:e.find(".messagebar");if(0!==a.length&&a.hasClass("messagebar-init")){var n=t.messagebar(a,a.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",function a(){n.destroy(),e.off("pageBeforeRemove",a)})}},t.cache=[],t.removeFromCache=function(e){for(var a=!1,n=0;n<t.cache.length;n++)t.cache[n].url===e&&(a=n);!1!==a&&t.cache.splice(a,1)},t.xhr=!1,t.get=function(e,a,n,i){var o=e;if(t.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(o=e.split("?")[0]),t.params.cache&&!n&&e.indexOf("nocache")<0&&t.params.cacheIgnore.indexOf(o)<0)for(var s=0;s<t.cache.length;s++)if(t.cache[s].url===o&&(new Date).getTime()-t.cache[s].time<t.params.cacheDuration)return i(t.cache[s].content),!1;return t.xhr=r.ajax({url:e,method:"GET",beforeSend:t.params.onAjaxStart,complete:function(e){200===e.status||0===e.status?(t.params.cache&&!n&&(t.removeFromCache(o),t.cache.push({url:o,time:(new Date).getTime(),content:e.responseText})),i(e.responseText,!1)):i(e.responseText,!0),t.params.onAjaxComplete&&t.params.onAjaxComplete(e)},error:function(e){i(e.responseText,!0),t.params.onAjaxError&&t.params.onAjaxError(e)}}),a&&(a.xhr=t.xhr),t.xhr},t.pageCallbacks={},t.onPage=function(e,a,n){if(a&&a.split(" ").length>1){for(var r=a.split(" "),i=[],o=0;o<r.length;o++)i.push(t.onPage(e,r[o],n));return i.remove=function(){for(var e=0;e<i.length;e++)i[e].remove()},i.trigger=function(){for(var e=0;e<i.length;e++)i[e].trigger()},i}var s=t.pageCallbacks[e][a];return s||(s=t.pageCallbacks[e][a]=[]),t.pageCallbacks[e][a].push(n),{remove:function(){for(var e,a=0;a<s.length;a++)s[a].toString()===n.toString()&&(e=a);void 0!==e&&s.splice(e,1)},trigger:n}};for(var c="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),d=0;d<c.length;d++)t.pageCallbacks[c[d]]={},p(c[d]);t.triggerPageCallbacks=function(e,a,n){var r=t.pageCallbacks[e]["*"];if(r)for(var i=0;i<r.length;i++)r[i](n);var o=t.pageCallbacks[e][a];if(o&&0!==o.length)for(var s=0;s<o.length;s++)o[s](n)},t.pageInitCallback=function(e,a){var n=a.pageContainer;if(!n.f7PageInitialized||e.params.domCache){var i={container:n,url:a.url,query:a.query||r.parseUrlQuery(a.url||""),name:r(n).attr("data-page"),view:e,from:a.position,context:a.context,navbarInnerContainer:a.navbarInnerContainer,fromPage:a.fromPage};if(a.fromPage&&!a.fromPage.navbarInnerContainer&&a.oldNavbarInnerContainer&&(a.fromPage.navbarInnerContainer=a.oldNavbarInnerContainer),n.f7PageInitialized&&e.params.domCache)return t.reinitPage(n),t.pluginHook("pageReinit",i),t.params.onPageReinit&&t.params.onPageBeforeInit(t,i),t.triggerPageCallbacks("reinit",i.name,i),void r(i.container).trigger("pageReinit",{page:i});n.f7PageInitialized=!0,n.f7PageData=i,e&&!a.preloadOnly&&(e.activePage=i),t.pluginHook("pageBeforeInit",i),t.params.onPageBeforeInit&&t.params.onPageBeforeInit(t,i),t.triggerPageCallbacks("beforeInit",i.name,i),r(i.container).trigger("pageBeforeInit",{page:i}),t.initPage(n),t.pluginHook("pageInit",i),t.params.onPageInit&&t.params.onPageInit(t,i),t.triggerPageCallbacks("init",i.name,i),r(i.container).trigger("pageInit",{page:i})}},t.pageRemoveCallback=function(e,a,n){var i;a.f7PageData&&(i=a.f7PageData.context);var o={container:a,name:r(a).attr("data-page"),view:e,url:a.f7PageData&&a.f7PageData.url,query:a.f7PageData&&a.f7PageData.query,navbarInnerContainer:a.f7PageData&&a.f7PageData.navbarInnerContainer,from:n,context:i};t.pluginHook("pageBeforeRemove",o),t.params.onPageBeforeRemove&&t.params.onPageBeforeRemove(t,o),t.triggerPageCallbacks("beforeRemove",o.name,o),r(o.container).trigger("pageBeforeRemove",{page:o})},t.pageBackCallbacks=function(e,a,n){var i,o=n.pageContainer;o.f7PageData&&(i=o.f7PageData.context);var s={container:o,name:r(o).attr("data-page"),url:o.f7PageData&&o.f7PageData.url,query:o.f7PageData&&o.f7PageData.query,view:a,from:n.position,context:i,navbarInnerContainer:o.f7PageData&&o.f7PageData.navbarInnerContainer,swipeBack:n.swipeBack};"after"===e&&(t.pluginHook("pageAfterBack",s),t.params.onPageAfterBack&&t.params.onPageAfterBack(t,s),t.triggerPageCallbacks("afterBack",s.name,s),r(o).trigger("pageAfterBack",{page:s})),"before"===e&&(t.pluginHook("pageBack",s),t.params.onPageBack&&t.params.onPageBack(t,s),t.triggerPageCallbacks("back",s.name,s),r(s.container).trigger("pageBack",{page:s}))},t.pageAnimCallbacks=function(e,a,n){var i,o=n.pageContainer;o.f7PageData&&(i=o.f7PageData.context);var s,l={container:o,url:n.url,query:n.query||r.parseUrlQuery(n.url||""),name:r(o).attr("data-page"),view:a,from:n.position,context:i,swipeBack:n.swipeBack,navbarInnerContainer:o.f7PageData&&o.f7PageData.navbarInnerContainer,fromPage:n.fromPage},p=n.oldPage,c=n.newPage;(o.f7PageData=l,"after"===e&&(t.pluginHook("pageAfterAnimation",l),t.params.onPageAfterAnimation&&t.params.onPageAfterAnimation(t,l),t.triggerPageCallbacks("afterAnimation",l.name,l),r(l.container).trigger("pageAfterAnimation",{page:l})),"before"===e)&&(r(a.container).attr("data-page",l.name),a&&(a.activePage=l),c.hasClass("no-navbar")&&!p.hasClass("no-navbar")&&a.hideNavbar(),c.hasClass("no-navbar")||!p.hasClass("no-navbar")&&!p.hasClass("no-navbar-by-scroll")||a.showNavbar(),c.hasClass("no-toolbar")&&!p.hasClass("no-toolbar")&&a.hideToolbar(),c.hasClass("no-toolbar")||!p.hasClass("no-toolbar")&&!p.hasClass("no-toolbar-by-scroll")||a.showToolbar(),c.hasClass("no-tabbar")&&!p.hasClass("no-tabbar")&&(0===(s=r(a.container).find(".tabbar")).length&&(s=r(a.container).parents("."+t.params.viewsClass).find(".tabbar")),t.hideToolbar(s)),c.hasClass("no-tabbar")||!p.hasClass("no-tabbar")&&!p.hasClass("no-tabbar-by-scroll")||(0===(s=r(a.container).find(".tabbar")).length&&(s=r(a.container).parents("."+t.params.viewsClass).find(".tabbar")),t.showToolbar(s)),p.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),t.pluginHook("pageBeforeAnimation",l),t.params.onPageBeforeAnimation&&t.params.onPageBeforeAnimation(t,l),t.triggerPageCallbacks("beforeAnimation",l.name,l),r(l.container).trigger("pageBeforeAnimation",{page:l}))},t.initPage=function(e){e=r(e),t.sizeNavbars&&t.sizeNavbars(e.parents("."+t.params.viewClass)[0]),t.initPageMessages&&t.initPageMessages(e),t.initFormsStorage&&t.initFormsStorage(e),t.initSmartSelects&&t.initSmartSelects(e),t.initPageSwiper&&t.initPageSwiper(e),t.initPullToRefresh&&t.initPullToRefresh(e),t.initInfiniteScroll&&t.initInfiniteScroll(e),t.initPageSearchbar&&t.initPageSearchbar(e),t.initPageMessagebar&&t.initPageMessagebar(e),t.initScrollToolbars&&t.initScrollToolbars(e),t.initImagesLazyLoad&&t.initImagesLazyLoad(e)},t.reinitPage=function(e){e=r(e),t.sizeNavbars&&t.sizeNavbars(e.parents("."+t.params.viewClass)[0]),t.reinitPageSwiper&&t.reinitPageSwiper(e),t.reinitLazyLoad&&t.reinitLazyLoad(e)},t.initPageWithCallback=function(e){var a=(e=r(e)).parents("."+t.params.viewClass);if(0!==a.length){var n=a[0].f7View||!1,i=!(!n||!n.url)&&n.url;a&&a.attr("data-page",e.attr("data-page")||void 0),t.pageInitCallback(n,{pageContainer:e[0],url:i,position:"center"})}},t.router={temporaryDom:document.createElement("div"),findElement:function(e,a,n,i){i&&(e+=":not(.cached)");var o=(a=r(a)).find(e);return o.length>1&&("string"==typeof n.selector&&(o=a.find(n.selector+" "+e)),o.length>1&&(o=a.find("."+t.params.viewMainClass+" "+e))),1===o.length?o:(i||(o=t.router.findElement(e,a,n,!0)),o&&1===o.length?o:void 0)},animatePages:function(e,a,t,n){var r="page-on-center page-on-right page-on-left";"to-left"===t&&(e.removeClass(r).addClass("pt-page-rotateFoldBottom"),a.removeClass(r).addClass("pt-page-rotateUnfoldTop")),"to-right"===t&&(e.removeClass(r).addClass("page-from-left-to-center"),a.removeClass(r).addClass("page-from-center-to-right"))},prepareNavbar:function(e,a,n){r(e).find(".sliding").each(function(){var e=r(this),i="right"===n?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;t.params.animateNavBackIcon&&(e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-i+"px,0,0)"),"left"===n&&e.hasClass("center")&&r(a).find(".left .back .icon ~ span").length>0&&(i+=r(a).find(".left .back span")[0].offsetLeft)),e.transform("translate3d("+i+"px,0,0)")})},animateNavbars:function(e,a,n,i){var o="navbar-on-right navbar-on-center navbar-on-left";"to-left"===n&&(a.removeClass(o).addClass("navbar-from-right-to-center"),a.find(".sliding").each(function(){var e=r(this);e.transform("translate3d(0px,0,0)"),t.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(o).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e=r(this);t.params.animateNavBackIcon&&(e.hasClass("center")&&a.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=a.find(".sliding.left .back span")[0].offsetLeft),e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),e.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===n&&(e.removeClass(o).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=r(this);e.transform("translate3d(0px,0,0)"),t.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass(o).addClass("navbar-from-center-to-right"),a.find(".sliding").each(function(){var e=r(this);t.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,a,n,r){t.pluginHook("routerPreprocess",e,a,n,r),a=t.pluginProcess("preprocess",a),e&&e.params&&e.params.preprocess?(a=e.params.preprocess(a,n,r),console.log(a),void 0!==a&&r(a)):t.params.preprocess?void 0!==(a=t.params.preprocess(a,n,r))&&r(a):r(a)},preroute:function(e,a){return t.pluginHook("routerPreroute",e,a),!!(t.params.preroute&&!1===t.params.preroute(e,a)||e&&e.params.preroute&&!1===e.params.preroute(e,a))},template7Render:function(e,a){var n,o,s=a.url,l=a.content,p=a.content,c=a.context,d=a.contextName,u=a.template;a.pageName;if("string"==typeof l?s?t.template7Cache[s]?o=i.cache[s]:(o=i.compile(l),i.cache[s]=o):o=i.compile(l):u&&(o=u),c)n=c;else{if(d)if(d.indexOf(".")>=0){for(var m=d.split("."),h=i.data[m[0]],f=1;f<m.length;f++)m[f]&&(h=h[m[f]]);n=h}else n=i.data[d];if(!n&&s&&(n=i.data["url:"+s]),!n&&"string"==typeof l&&!u){var g=l.match(/(data-page=["'][^"^']*["'])/);if(g){var v=g[0].split("data-page=")[1].replace(/['"]/g,"");v&&(n=i.data["page:"+v])}}if(!n&&u&&i.templates)for(var w in i.templates)i.templates[w]===u&&(n=i.data[w]);n||(n={})}if(o&&n){if("function"==typeof n&&(n=n()),s){var b=r.parseUrlQuery(s);for(var C in n.url_query={},b)n.url_query[C]=b[C]}p=o(n)}return{content:p,context:n}}},t.router._load=function(e,a){var n,i,o,s,l,p,c,d,u,m=(a=a||{}).url,h=a.content,f={content:a.content},g=a.template,v=a.pageName,w=r(e.container),b=r(e.pagesContainer),C=a.animatePages,y=void 0===m&&h||g,x=a.pushState;if(void 0===C&&(C=e.params.animatePages),t.pluginHook("routerLoad",e,a),(t.params.template7Pages&&"string"==typeof h||g)&&(f=t.router.template7Render(e,a)).content&&!h&&(h=f.content),t.router.temporaryDom.innerHTML="",!v)if(m||"string"==typeof h)t.router.temporaryDom.innerHTML=f.content;else if("length"in h&&h.length>1)for(var T=0;T<h.length;T++)r(t.router.temporaryDom).append(h[T]);else r(t.router.temporaryDom).append(h);if(u=a.reload&&(a.reloadPrevious?"left":"center"),!(n=v?b.find('.page[data-page="'+v+'"]'):t.router.findElement(".page",t.router.temporaryDom,e))||0===n.length||v&&e.activePage&&e.activePage.name===v)e.allowPageChange=!0;else if(n.addClass(a.reload?"page-on-"+u:"page-on-right"),o=b.children(".page:not(.cached)"),a.reload&&a.reloadPrevious&&1===o.length)e.allowPageChange=!0;else{if(a.reload)i=o.eq(o.length-1);else{if(o.length>1){for(s=0;s<o.length-2;s++)e.params.domCache?r(o[s]).addClass("cached"):(t.pageRemoveCallback(e,o[s],"left"),r(o[s]).remove());e.params.domCache?r(o[s]).addClass("cached"):(t.pageRemoveCallback(e,o[s],"left"),r(o[s]).remove())}i=b.children(".page:not(.cached)")}if(e.params.domCache&&n.removeClass("cached"),e.params.dynamicNavbar)if(d=!0,(p=v?w.find('.navbar-inner[data-page="'+v+'"]'):t.router.findElement(".navbar-inner",t.router.temporaryDom,e))&&0!==p.length||(d=!1),c=w.find(".navbar"),a.reload)l=c.find(".navbar-inner:not(.cached):last-child");else if((l=c.find(".navbar-inner:not(.cached)")).length>0){for(s=0;s<l.length-1;s++)e.params.domCache?r(l[s]).addClass("cached"):r(l[s]).remove();p||1!==l.length||(e.params.domCache?r(l[0]).addClass("cached"):r(l[0]).remove()),l=c.find(".navbar-inner:not(.cached)")}if(d&&(p.addClass(a.reload?"navbar-on-"+u:"navbar-on-right"),e.params.domCache&&p.removeClass("cached"),n[0].f7RelatedNavbar=p[0],p[0].f7RelatedPage=n[0]),!m){var k=v||n.attr("data-page");m=y?"#"+t.params.dynamicPageUrl.replace(/{{name}}/g,k).replace(/{{index}}/g,e.history.length-(a.reload?1:0)):"#"+k,e.params.domCache||(e.contentCache[m]=h),e.params.domCache&&v&&(e.pagesCache[m]=v)}if(t.params.pushState&&!a.reloadPrevious&&e.main){void 0===x&&(x=!0);var S=t.params.pushStateRoot||"",P=a.reload?"replaceState":"pushState";x&&(y||v?y&&h?history[P]({content:h,url:m,viewIndex:t.views.indexOf(e)},"",S+t.params.pushStateSeparator+m):v&&history[P]({pageName:v,url:m,viewIndex:t.views.indexOf(e)},"",S+t.params.pushStateSeparator+m):history[P]({url:m,viewIndex:t.views.indexOf(e)},"",S+t.params.pushStateSeparator+m))}if(e.url=m,a.reload){var M=e.history[e.history.length-(a.reloadPrevious?2:1)];M&&0===M.indexOf("#")&&M in e.contentCache&&M!==m&&(e.contentCache[M]=null,delete e.contentCache[M]),e.history[e.history.length-(a.reloadPrevious?2:1)]=m}else e.history.push(m);var I=!1;if(e.params.uniqueHistory){var O=e.history,E=m;if(e.params.uniqueHistoryIgnoreGetParameters)for(O=[],E=m.split("?")[0],s=0;s<e.history.length;s++)O.push(e.history[s].split("?")[0]);O.indexOf(E)!==O.lastIndexOf(E)&&(e.history=e.history.slice(0,O.indexOf(E)),e.history.push(m),I=!0)}if(a.reloadPrevious?(i=i.prev(".page"),n.insertBefore(i),d&&(l=l.prev(".navbar-inner"),p.insertAfter(l))):(b.append(n[0]),d&&c.append(p[0])),a.reload&&(e.params.domCache&&e.initialPages.indexOf(i[0])>=0?(i.addClass("cached"),d&&l.addClass("cached")):(t.pageRemoveCallback(e,i[0],u),i.remove(),d&&l.remove())),t.pageInitCallback(e,{pageContainer:n[0],url:m,position:a.reload?u:"right",navbarInnerContainer:d?p&&p[0]:void 0,oldNavbarInnerContainer:d?l&&l[0]:void 0,context:f.context,query:a.query,fromPage:i&&i.length&&i[0].f7PageData}),d&&t.navbarInitCallback(e,n[0],c[0],p[0],m,a.reload?u:"right"),a.reload)return e.allowPageChange=!0,void(I&&e.refreshPreviousPage());d&&C&&t.router.prepareNavbar(p,l,"right");n[0].clientLeft;t.pageAnimCallbacks("before",e,{pageContainer:n[0],url:m,position:"right",oldPage:i,newPage:n,query:a.query,fromPage:i&&i.length&&i[0].f7PageData}),C?(t.router.animatePages(i,n,"to-left",e),d&&setTimeout(function(){t.router.animateNavbars(l,p,"to-left",e)},0),n.animationEnd(function(e){L()})):(d&&p.find(".sliding, .sliding .back .icon").transform(""),L())}function L(){e.allowPageChange=!0,n.removeClass("pt-page-rotateUnfoldTop page-on-right page-on-left").addClass("page-on-center"),i.removeClass("pt-page-rotateFoldBottom page-on-center page-on-right").addClass("page-on-left"),d&&(p.removeClass("navbar-from-right-to-center navbar-on-left navbar-on-right").addClass("navbar-on-center"),l.removeClass("navbar-from-center-to-left navbar-on-center navbar-on-right").addClass("navbar-on-left")),t.pageAnimCallbacks("after",e,{pageContainer:n[0],url:m,position:"right",oldPage:i,newPage:n,query:a.query,fromPage:i&&i.length&&i[0].f7PageData}),t.params.pushState&&e.main&&t.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(i.addClass("cached"),l.addClass("cached")):0===m.indexOf("#")&&0===n.attr("data-page").indexOf("smart-select-")||(t.pageRemoveCallback(e,i[0],"left"),i.remove(),d&&l.remove())),e.params.uniqueHistory&&I&&e.refreshPreviousPage()}},t.router.load=function(e,a){if(t.router.preroute(e,a))return!1;var n=(a=a||{}).url,i=a.content,o=a.pageName;o&&o.indexOf("?")>0&&(a.query=r.parseUrlQuery(o),a.pageName=o=o.split("?")[0]);var s=a.template;if(!0===e.params.reloadPages&&(a.reload=!0),!e.allowPageChange)return!1;if(n&&e.url===n&&!a.reload&&!e.params.allowDuplicateUrls)return!1;function l(r){t.router.preprocess(e,r,n,function(n){a.content=n,t.router._load(e,a)})}e.allowPageChange=!1,t.xhr&&e.xhr&&e.xhr===t.xhr&&(t.xhr.abort(),t.xhr=!1),i||o?l(i):s?t.router._load(e,a):a.url&&"#"!==a.url?t.get(a.url,e,a.ignoreCache,function(a,t){t?e.allowPageChange=!0:l(a)}):e.allowPageChange=!0},t.router._back=function(e,a){var n,i,o,s,l,p,c,d=(a=a||{}).url,u=a.content,m={content:a.content},h=a.template,f=a.animatePages,g=a.preloadOnly,v=a.pushState,w=(a.ignoreCache,a.force),b=a.pageName,C=r(e.container),y=r(e.pagesContainer),x=y.children(".page:not(.cached)"),T=!0;function k(){t.pageBackCallbacks("after",e,{pageContainer:n[0],url:d,position:"center",oldPage:n,newPage:i}),t.pageAnimCallbacks("after",e,{pageContainer:i[0],url:d,position:"left",oldPage:n,newPage:i,query:a.query,fromPage:n&&n.length&&n[0].f7PageData}),t.router.afterBack(e,n[0],i[0])}function S(){if(t.router.temporaryDom.innerHTML="",d||"string"==typeof u)t.router.temporaryDom.innerHTML=m.content;else if("length"in u&&u.length>1)for(var a=0;a<u.length;a++)r(t.router.temporaryDom).append(u[a]);else r(t.router.temporaryDom).append(u);i=t.router.findElement(".page",t.router.temporaryDom,e),e.params.dynamicNavbar&&(s=t.router.findElement(".navbar-inner",t.router.temporaryDom,e))}function P(){if(i&&0!==i.length){var u,h;if(e.params.dynamicNavbar&&void 0===c&&(c=!(!s||0===s.length)),i.addClass("page-on-left").removeClass("cached"),c&&(l=C.find(".navbar"),p=C.find(".navbar-inner:not(.cached)"),s.addClass("navbar-on-left").removeClass("cached")),w)u=r(x[x.length-2]),c&&(h=r(u[0]&&u[0].f7RelatedNavbar||p[p.length-2])),e.params.domCache&&e.initialPages.indexOf(u[0])>=0?(u.length&&u[0]!==i[0]&&u.addClass("cached"),c&&h.length&&h[0]!==s[0]&&h.addClass("cached")):(u.length&&u.remove(),c&&h.length&&h.remove()),x=y.children(".page:not(.cached)"),c&&(p=C.find(".navbar-inner:not(.cached)")),e.history.indexOf(d)>=0?e.history=e.history.slice(0,e.history.indexOf(d)+2):e.history[[e.history.length-2]]?e.history[e.history.length-2]=d:e.history.unshift(d);if(n=r(x[x.length-1]),e.params.domCache&&n[0]===i[0]&&0===(n=y.children(".page.page-on-center")).length&&e.activePage&&(n=r(e.activePage.container)),c&&!o&&(o=r(p[p.length-1]),e.params.domCache&&(o[0]===s[0]&&(o=l.children(".navbar-inner.navbar-on-center:not(.cached)")),0===o.length&&(o=l.children('.navbar-inner[data-page="'+n.attr("data-page")+'"]'))),0!==o.length&&s[0]!==o[0]||(c=!1)),c&&(T&&s.insertBefore(o),s[0].f7RelatedPage=i[0],i[0].f7RelatedNavbar=s[0]),T&&i.insertBefore(n),t.pageInitCallback(e,{pageContainer:i[0],url:d,position:"left",navbarInnerContainer:c?s[0]:void 0,oldNavbarInnerContainer:c?o&&o[0]:void 0,context:m.context,query:a.query,fromPage:n&&n.length&&n[0].f7PageData,preloadOnly:g}),c&&t.navbarInitCallback(e,i[0],l[0],s[0],d,"right"),c&&s.hasClass("navbar-on-left")&&f&&t.router.prepareNavbar(s,o,"left"),g)e.allowPageChange=!0;else{e.url=d;i[0].clientLeft;t.pageBackCallbacks("before",e,{pageContainer:n[0],url:d,position:"center",oldPage:n,newPage:i}),t.pageAnimCallbacks("before",e,{pageContainer:i[0],url:d,position:"left",oldPage:n,newPage:i,query:a.query,fromPage:n&&n.length&&n[0].f7PageData}),f?(t.router.animatePages(i,n,"to-right",e),c&&setTimeout(function(){t.router.animateNavbars(s,o,"to-right",e)},0),i.animationEnd(function(){k()})):(c&&s.find(".sliding, .sliding .back .icon").transform(""),k())}}else e.allowPageChange=!0}return void 0===f&&(f=e.params.animatePages),t.pluginHook("routerBack",e,a),(t.params.template7Pages&&"string"==typeof u||h)&&(m=t.router.template7Render(e,a)).content&&!u&&(u=m.content),t.params.pushState&&e.main&&(void 0===v&&(v=!0),!g&&history.state&&v&&history.back()),x.length>1&&!w?g?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],d=e.url,i=r(x[x.length-2]),n=r(x[x.length-1]),e.params.dynamicNavbar&&(c=!0,p=C.find(".navbar-inner:not(.cached)"),s=r(p[0]),o=r(p[1]),0!==s.length&&0!==o.length&&o[0]!==s[0]||(c=!1)),T=!1,void P()):w?d&&d===e.url||b&&e.activePage&&e.activePage.name===b?void(e.allowPageChange=!0):u?(S(),void P()):b&&e.params.domCache?(b&&(d="#"+b),(i=r(C).find('.page[data-page="'+b+'"]'))[0].f7PageData&&i[0].f7PageData.url&&(d=i[0].f7PageData.url),e.params.dynamicNavbar&&0===(s=r(C).find('.navbar-inner[data-page="'+b+'"]')).length&&(s=r(i[0].f7RelatedNavbar)),void P()):void(e.allowPageChange=!0):(g||(e.url=e.history[e.history.length-2],d=e.url),u?(S(),void P()):b?(i=r(C).find('.page[data-page="'+b+'"]'),e.params.dynamicNavbar&&(s=r(C).find('.navbar-inner[data-page="'+b+'"]')),void P()):void(e.allowPageChange=!0))},t.router.back=function(e,a){if(t.router.preroute(e,a))return!1;var n=(a=a||{}).url,i=a.content,o=a.pageName;o&&o.indexOf("?")>0&&(a.query=r.parseUrlQuery(o),a.pageName=o=o.split("?")[0]);var s=a.force;if(!e.allowPageChange)return!1;function l(r){t.router.preprocess(e,r,n,function(n){a.content=n,t.router._back(e,a)})}if(e.allowPageChange=!1,t.xhr&&e.xhr&&e.xhr===t.xhr&&(t.xhr.abort(),t.xhr=!1),r(e.pagesContainer).find(".page:not(.cached)").length>1&&!s)t.router._back(e,a);else{if(s){if(!n&&i)return void l(i);if(!n&&o)return o&&(n="#"+o),void l();if(n)return void t.get(a.url,e,a.ignoreCache,function(a,t){t?e.allowPageChange=!0:l(a)})}else{if(!(n=a.url=e.history[e.history.length-2]))return void(e.allowPageChange=!0);if(0===n.indexOf("#")&&e.contentCache[n])return void l(e.contentCache[n]);if(0===n.indexOf("#")&&e.params.domCache)return o||(a.pageName=n.split("#")[1]),void l();if(0!==n.indexOf("#"))return void t.get(a.url,e,a.ignoreCache,function(a,t){t?e.allowPageChange=!0:l(a)})}e.allowPageChange=!0}},t.router.afterBack=function(e,a,n){a=r(a),n=r(n),e.params.domCache&&e.initialPages.indexOf(a[0])>=0?a.removeClass("page-from-center-to-right").addClass("cached"):(a.remove(),t.pageRemoveCallback(e,a[0],"right")),n.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var i,o=e.history.pop();if(e.params.dynamicNavbar){var s=r(e.container).find(".navbar-inner:not(.cached)"),l=r(a[0].f7RelatedNavbar||s[1]);e.params.domCache&&e.initialNavbars.indexOf(l[0])>=0?l.removeClass("navbar-from-center-to-right").addClass("cached"):l.remove(),i=r(s[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&r(e.container).find(".page.cached").each(function(){var a=r(this),t=(a.index(),a[0].f7PageData&&a[0].f7PageData.url);t&&e.history.indexOf(t)<0&&e.initialPages.indexOf(this)<0&&(a[0].f7RelatedNavbar&&r(a[0].f7RelatedNavbar).remove(),a.remove())}),!e.params.domCache&&o&&o.indexOf("#")>-1&&o in e.contentCache&&(e.contentCache[o]=null,delete e.contentCache[o]),t.params.pushState&&e.main&&t.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var p,c,d=e.history[e.history.length-2];d&&e.pagesCache[d]?((p=r(e.container).find('.page[data-page="'+e.pagesCache[d]+'"]')).insertBefore(n),i&&((c=r(e.container).find('.navbar-inner[data-page="'+e.pagesCache[d]+'"]')).insertBefore(i),c&&0!==c.length||(c=i.prev(".navbar-inner.cached")))):(p=n.prev(".page.cached"),i&&(c=i.prev(".navbar-inner.cached"))),p&&p.length>0&&p.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),c&&c.length>0&&c.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else t.router.back(e,{preloadOnly:!0})};var u=document.createElement("div");t.modalStack=[],t.modalStackClearQueue=function(){t.modalStack.length&&t.modalStack.shift()()},t.modal=function(e){e=e||{};var a="";if(t.params.modalTemplate)t._compiledTemplates.modal||(t._compiledTemplates.modal=i.compile(t.params.modalTemplate)),a=t._compiledTemplates.modal(e);else{var n="";if(e.buttons&&e.buttons.length>0)for(var o=0;o<e.buttons.length;o++)n+='<span class="modal-button'+(e.buttons[o].bold?" modal-button-bold":"")+'">'+e.buttons[o].text+"</span>";var s=e.title?'<div class="modal-title">'+e.title+"</div>":"",l=e.text?'<div class="modal-text">'+e.text+"</div>":"",p=e.afterText?e.afterText:"";a='<div class="modal '+(e.buttons&&0!==e.buttons.length?"":"modal-no-buttons")+'"><div class="modal-inner">'+(s+l+p)+'</div><div class="modal-buttons '+(e.verticalButtons?"modal-buttons-vertical":"")+'">'+n+"</div></div>"}u.innerHTML=a;var c=r(u).children();return r("body").append(c[0]),c.find(".modal-button").each(function(a,n){r(n).on("click",function(n){!1!==e.buttons[a].close&&t.closeModal(c),e.buttons[a].onClick&&e.buttons[a].onClick(c,n),e.onClick&&e.onClick(c,a)})}),t.openModal(c),c[0]},t.alert=function(e,a,n){return"function"==typeof a&&(n=arguments[1],a=void 0),t.modal({text:e||"",title:void 0===a?t.params.modalTitle:a,buttons:[{text:t.params.modalButtonOk,bold:!0,onClick:n}]})},t.confirm=function(e,a,n,r){return"function"==typeof a&&(r=arguments[2],n=arguments[1],a=void 0),t.modal({text:e||"",title:void 0===a?t.params.modalTitle:a,buttons:[{text:t.params.modalButtonCancel,onClick:r},{text:t.params.modalButtonOk,bold:!0,onClick:n}]})},t.prompt=function(e,a,n,i){return"function"==typeof a&&(i=arguments[2],n=arguments[1],a=void 0),t.modal({text:e||"",title:void 0===a?t.params.modalTitle:a,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:t.params.modalButtonCancel},{text:t.params.modalButtonOk,bold:!0}],onClick:function(e,a){0===a&&i&&i(r(e).find(".modal-text-input").val()),1===a&&n&&n(r(e).find(".modal-text-input").val())}})},t.modalLogin=function(e,a,n,i){return"function"==typeof a&&(i=arguments[2],n=arguments[1],a=void 0),t.modal({text:e||"",title:void 0===a?t.params.modalTitle:a,afterText:'<input type="text" name="modal-username" placeholder="'+t.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+t.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:t.params.modalButtonCancel},{text:t.params.modalButtonOk,bold:!0}],onClick:function(e,a){var t=r(e).find('.modal-text-input[name="modal-username"]').val(),o=r(e).find('.modal-text-input[name="modal-password"]').val();0===a&&i&&i(t,o),1===a&&n&&n(t,o)}})},t.modalPassword=function(e,a,n,i){return"function"==typeof a&&(i=arguments[2],n=arguments[1],a=void 0),t.modal({text:e||"",title:void 0===a?t.params.modalTitle:a,afterText:'<input type="password" name="modal-password" placeholder="'+t.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:t.params.modalButtonCancel},{text:t.params.modalButtonOk,bold:!0}],onClick:function(e,a){var t=r(e).find('.modal-text-input[name="modal-password"]').val();0===a&&i&&i(t),1===a&&n&&n(t)}})},t.showPreloader=function(e){return t.modal({title:e||t.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},t.hidePreloader=function(){t.closeModal(".modal.modal-in")},t.showIndicator=function(){r("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},t.hideIndicator=function(){r(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},t.actions=function(e,a){var n,o,s,l,p=!1;if(1===arguments.length?a=e:t.device.ios?t.device.ipad&&(p=!0):r(window).width()>=768&&(p=!0),(a=a||[]).length>0&&!r.isArray(a[0])&&(a=[a]),p){t._compiledTemplates.actionsPopover||(t._compiledTemplates.actionsPopover=i.compile('<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>'));var c=t._compiledTemplates.actionsPopover(a);n=r(t.popover(c,e,!0)),o=".list-block ul",s=".list-button"}else{if(t.params.modalActionsTemplate)t._compiledTemplates.actions||(t._compiledTemplates.actions=i.compile(t.params.modalActionsTemplate)),l=t._compiledTemplates.actions(a);else{for(var d="",m=0;m<a.length;m++)for(var h=0;h<a[m].length;h++){0===h&&(d+='<div class="actions-modal-group">');var f=a[m][h],g=f.label?"actions-modal-label":"actions-modal-button";f.bold&&(g+=" actions-modal-button-bold"),f.color&&(g+=" color-"+f.color),f.bg&&(g+=" bg-"+f.bg),d+='<span class="'+g+'">'+f.text+"</span>",h===a[m].length-1&&(d+="</div>")}l='<div class="actions-modal">'+d+"</div>"}u.innerHTML=l,n=r(u).children(),r("body").append(n[0]),o=".actions-modal-group",s=".actions-modal-button"}return n.find(o).each(function(e,i){var o=e;r(i).children().each(function(e,i){var l,c=e,d=a[o][c];!p&&r(i).is(s)&&(l=r(i)),p&&r(i).find(s).length>0&&(l=r(i).find(s)),l&&l.on("click",function(e){!1!==d.close&&t.closeModal(n),d.onClick&&d.onClick(n,e)})})}),p||t.openModal(n),n[0]},t.popover=function(e,a,n){if(void 0===n&&(n=!0),"string"==typeof e&&e.indexOf("<")>=0){var i=document.createElement("div");if(i.innerHTML=e.trim(),!(i.childNodes.length>0))return!1;e=i.childNodes[0],n&&e.classList.add("remove-on-close"),r("body").append(e)}if(e=r(e),a=r(a),0===e.length||0===a.length)return!1;function o(){e.css({left:"",top:""});var t,n,i=e.width(),o=e.height(),s=e.find(".popover-angle"),l=s.width()/2;s.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var p=a.outerWidth(),c=a.outerHeight(),d=a.offset(),u=a.parents(".page");u.length>0&&(d.top=d.top-u[0].scrollTop);var m=r(window).height(),h=r(window).width(),f=0,g=0,v=0,w="top";o+l<d.top?f=d.top-o-l:o+l<m-d.top-c?(w="bottom",f=d.top+c+l):(w="middle",v=f=c/2+d.top-o/2,f<0?f=5:f+o>m&&(f=m-o-5),v-=f),"top"===w||"bottom"===w?(v=g=p/2+d.left-i/2,g<5&&(g=5),g+i>h&&(g=h-i-5),"top"===w&&s.addClass("on-bottom"),"bottom"===w&&s.addClass("on-top"),t=i/2-l+(v-=g),t=Math.max(Math.min(t,i-2*l-6),6),s.css({left:t+"px"})):"middle"===w&&(g=d.left-i-l,s.addClass("on-right"),g<5&&(g=d.left+p+l,s.removeClass("on-right").addClass("on-left")),g+i>h&&(g=h-i-5,s.removeClass("on-right").addClass("on-left")),n=o/2-l+v,n=Math.max(Math.min(n,o-2*l-6),6),s.css({top:n+"px"})),e.css({top:f+"px",left:g+"px"})}return 0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),o(),r(window).on("resize",o),e.on("close",function(){r(window).off("resize",o)}),e.find("."+t.params.viewClass).length>0&&t.sizeNavbars(e.find("."+t.params.viewClass)[0]),t.openModal(e),e[0]},t.popup=function(e,a){if(void 0===a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var n=document.createElement("div");if(n.innerHTML=e.trim(),!(n.childNodes.length>0))return!1;e=n.childNodes[0],a&&e.classList.add("remove-on-close"),r("body").append(e)}return 0!==(e=r(e)).length&&(e.show(),e.find("."+t.params.viewClass).length>0&&t.sizeNavbars(e.find("."+t.params.viewClass)[0]),t.openModal(e),e[0])},t.pickerModal=function(e,a){if(void 0===a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){if(!((e=r(e)).length>0))return!1;a&&e.addClass("remove-on-close"),r("body").append(e[0])}return 0!==(e=r(e)).length&&(e.show(),t.openModal(e),e[0])},t.loginScreen=function(e){return e||(e=".login-screen"),0!==(e=r(e)).length&&(e.show(),e.find("."+t.params.viewClass).length>0&&t.sizeNavbars(e.find("."+t.params.viewClass)[0]),t.openModal(e),e[0])},t.openModal=function(e){var a=(e=r(e)).hasClass("modal");if(!(r(".modal.modal-in:not(.modal-out)").length&&t.params.modalStack&&a)){e.hasClass("popover");var n,i=e.hasClass("popup"),o=e.hasClass("login-screen"),s=e.hasClass("picker-modal");a&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"})),o||s||(0!==r(".modal-overlay").length||i||r("body").append('<div class="modal-overlay"></div>'),0===r(".popup-overlay").length&&i&&r("body").append('<div class="popup-overlay"></div>'),n=r(i?".popup-overlay":".modal-overlay"));e[0].clientLeft;return e.trigger("open"),s&&r("body").addClass("with-picker-modal"),o||s||n.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(a){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0}t.modalStack.push(function(){t.openModal(e)})},t.closeModal=function(e){if(void 0===(e=r(e||".modal-in"))||0!==e.length){var a=e.hasClass("modal"),n=e.hasClass("popover"),i=e.hasClass("popup"),o=e.hasClass("login-screen"),s=e.hasClass("picker-modal"),l=e.hasClass("remove-on-close"),p=r(i?".popup-overlay":".modal-overlay");return i?e.length===r(".popup.modal-in").length&&p.removeClass("modal-overlay-visible"):s||p.removeClass("modal-overlay-visible"),e.trigger("close"),s&&(r("body").removeClass("with-picker-modal"),r("body").addClass("picker-modal-closing")),n?(e.removeClass("modal-in modal-out").trigger("closed").hide(),l&&e.remove()):(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(a){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),s&&r("body").removeClass("picker-modal-closing"),i||o||s?(e.removeClass("modal-out").hide(),l&&e.length>0&&e.remove()):e.remove()}),a&&t.params.modalStack&&t.modalStackClearQueue()),!0}},t.allowPanelOpen=!0,t.openPanel=function(e){if(!t.allowPanelOpen)return!1;var a=r(".panel-"+e);if(0===a.length||a.hasClass("active"))return!1;t.closePanel(),t.allowPanelOpen=!1;var n=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open"),a.find("."+t.params.viewClass).length>0&&t.sizeNavbars&&t.sizeNavbars(a.find("."+t.params.viewClass)[0]);a[0].clientLeft;var i="reveal"===n?r("."+t.params.viewsClass):a;return function e(){i.transitionEnd(function(n){r(n.target).is(i)?(a.hasClass("active")?a.trigger("opened"):a.trigger("closed"),t.allowPanelOpen=!0):e()})}(),r("body").addClass("with-panel-"+e+"-"+n),!0},t.closePanel=function(){var e=r(".panel.active");if(0===e.length)return!1;var a=e.hasClass("panel-reveal")?"reveal":"cover",n=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var i="reveal"===a?r("."+t.params.viewsClass):e;e.trigger("close"),t.allowPanelOpen=!1,i.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),r("body").removeClass("panel-closing"),t.allowPanelOpen=!0)}),r("body").addClass("panel-closing").removeClass("with-panel-"+n+"-"+a)},t.initSwipePanels=function(){var e,a;if(t.params.swipePanel){if(e=r(".panel.panel-"+t.params.swipePanel),a=t.params.swipePanel,0===e.length)return}else{if(!t.params.swipePanelOnlyClose)return;if(0===r(".panel").length)return}var n,i,o,s,l,p,c,d,u,m,h=r(".panel-overlay"),f={},g=r("."+t.params.viewsClass);r(document).on(t.touchEvents.start,function(l){if(t.allowPanelOpen&&(t.params.swipePanel||t.params.swipePanelOnlyClose)&&!n&&!(r(".modal-in, .photo-browser-in").length>0)&&(t.params.swipePanelCloseOpposite||t.params.swipePanelOnlyClose||!(r(".panel.active").length>0)||e.hasClass("active"))){if(f.x="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,f.y="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY,t.params.swipePanelCloseOpposite||t.params.swipePanelOnlyClose){if(r(".panel.active").length>0)a=r(".panel.active").hasClass("panel-left")?"left":"right";else{if(t.params.swipePanelOnlyClose)return;a=t.params.swipePanel}if(!a)return}if(e=r(".panel.panel-"+a),c=e.hasClass("active"),t.params.swipePanelActiveArea&&!c){if("left"===a&&f.x>t.params.swipePanelActiveArea)return;if("right"===a&&f.x<window.innerWidth-t.params.swipePanelActiveArea)return}i=!1,n=!0,o=void 0,s=(new Date).getTime(),m=void 0}}),r(document).on(t.touchEvents.move,function(r){if(n&&!r.f7PreventPanelSwipe){var v="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX,w="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(void 0===o&&(o=!!(o||Math.abs(w-f.y)>Math.abs(v-f.x))),o)n=!1;else if(!m&&(m=v>f.x?"to-right":"to-left","left"===a&&"to-left"===m&&!e.hasClass("active")||"right"===a&&"to-right"===m&&!e.hasClass("active")))n=!1;else{if(t.params.swipePanelNoFollow)return(new Date).getTime()-s<300&&("to-left"===m&&("right"===a&&t.openPanel(a),"left"===a&&e.hasClass("active")&&t.closePanel()),"to-right"===m&&("left"===a&&t.openPanel(a),"right"===a&&e.hasClass("active")&&t.closePanel())),n=!1,void(i=!1);i||(u=e.hasClass("panel-cover")?"cover":"reveal",c||(e.show(),h.show()),d=e[0].offsetWidth,e.transition(0),e.find("."+t.params.viewClass).length>0&&t.sizeNavbars&&t.sizeNavbars(e.find("."+t.params.viewClass)[0])),i=!0,r.preventDefault();var b=c?0:-t.params.swipePanelThreshold;"right"===a&&(b=-b),l=v-f.x+b,"right"===a?((p=l-(c?d:0))>0&&(p=0),p<-d&&(p=-d)):((p=l+(c?d:0))<0&&(p=0),p>d&&(p=d)),"reveal"===u?(g.transform("translate3d("+p+"px,0,0)").transition(0),h.transform("translate3d("+p+"px,0,0)"),t.pluginHook("swipePanelSetTransform",g[0],e[0],Math.abs(p/d))):(e.transform("translate3d("+p+"px,0,0)").transition(0),t.pluginHook("swipePanelSetTransform",g[0],e[0],Math.abs(p/d)))}}}),r(document).on(t.touchEvents.end,function(o){if(!n||!i)return n=!1,void(i=!1);n=!1,i=!1;var l,m=(new Date).getTime()-s,f=0===p||Math.abs(p)===d;if("swap"==(l=c?p===-d?"reset":m<300&&Math.abs(p)>=0||m>=300&&Math.abs(p)<=d/2?"left"===a&&p===d?"reset":"swap":"reset":0===p?"reset":m<300&&Math.abs(p)>0||m>=300&&Math.abs(p)>=d/2?"swap":"reset")&&(t.allowPanelOpen=!0,c?(t.closePanel(),f&&(e.css({display:""}),r("body").removeClass("panel-closing"))):t.openPanel(a),f&&(t.allowPanelOpen=!0)),"reset"===l)if(c)t.allowPanelOpen=!0,t.openPanel(a);else if(t.closePanel(),f)t.allowPanelOpen=!0,e.css({display:""});else{var v="reveal"===u?g:e;r("body").addClass("panel-closing"),v.transitionEnd(function(){t.allowPanelOpen=!0,e.css({display:""}),r("body").removeClass("panel-closing")})}"reveal"===u&&(g.transition(""),g.transform("")),e.transition("").transform(""),h.css({display:""}).transform("")})},t.initImagesLazyLoad=function(e){var a,n;if(((e=r(e)).hasClass("lazy")?e=(a=e).parents(".page"):a=e.find(".lazy"),0!==a.length)&&(e.hasClass("page-content")?(n=e,e=e.parents(".page")):n=e.find(".page-content"),0!==n.length)){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";"string"==typeof t.params.imagesLazyLoadPlaceholder&&(i=t.params.imagesLazyLoadPlaceholder),!1!==t.params.imagesLazyLoadPlaceholder&&a.attr("src",i);var o=[],s=!1;e[0].f7DestroyImagesLazyLoad=c,p(),e.hasClass("page")&&e.once("pageBeforeRemove",c),l(),e.once("pageAfterAnimation",l)}function l(){(a=e.find(".lazy")).each(function(e,a){(function(e){var a=e.getBoundingClientRect(),n=t.params.imagesLazyLoadThreshold||0;return a.top>=0-n&&a.left>=0-n&&a.top<=window.innerHeight+n&&a.left<=window.innerWidth+n})((a=r(a))[0])&&function e(a){var n=(a=r(a)).attr("data-background"),i=n||a.attr("data-src");if(i)if(t.params.imagesLazyLoadSequential&&s)o.indexOf(a[0])<0&&o.push(a[0]);else{s=!0;var l=new Image;l.onload=p,l.onerror=p,l.src=i}function p(){a.removeClass("lazy").addClass("lazy-loaded"),n?a.css("background-image","url("+i+")"):a.attr("src",i),t.params.imagesLazyLoadSequential&&(s=!1,o.length>0&&e(o.shift()))}}(a)})}function p(e){var t=e?"off":"on";a[t]("lazy",l),n[t]("lazy",l),n[t]("scroll",l),r(window)[t]("resize",l)}function c(){p(!0)}},t.destroyImagesLazyLoad=function(e){(e=r(e)).length>0&&e[0].f7DestroyImagesLazyLoad&&e[0].f7DestroyLazyLoad()},t.reinitImagesLazyLoad=function(e){(e=r(e)).length>0&&e.trigger("lazy")};var m=function(e,a){var t={autoLayout:!0,newMessagesFirst:!1,messageTemplate:'{{#if day}}<div class="messages-date">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>{{/if}}<div class="message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} message-appear-from-{{position}}">{{#if name}}<div class="message-name">{{name}}</div>{{/if}}<div class="message-text">{{text}}</div>{{#if avatar}}<div class="message-avatar" style="background-image:url({{avatar}})"></div>{{/if}}{{#if label}}<div class="message-label">{{label}}</div>{{/if}}</div>'};for(var n in a=a||{},t)void 0!==a[n]&&null!==a[n]||(a[n]=t[n]);var i=this;if(i.params=a,i.container=r(e),0!==i.container.length)return i.params.autoLayout&&i.container.addClass("messages-auto-layout"),i.pageContainer=i.container.parents(".page").eq(0),i.pageContent=i.pageContainer.find(".page-content"),i.template=Template7.compile(i.params.messageTemplate),i.layout=function(){i.container.hasClass("messages-auto-layout")||i.container.addClass("messages-auto-layout"),i.container.find(".message").each(function(){var e=r(this);e.find(".message-text img").length>0&&e.addClass("message-pic"),e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),i.container.find(".message").each(function(){var e=r(this),a=e.hasClass("message-sent"),t=e.next(".message-"+(a?"sent":"received")),n=e.prev(".message-"+(a?"sent":"received"));0===t.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===n.length?e.addClass("message-first"):e.removeClass("message-first"),n.length>0&&n.find(".message-name").length>0&&e.find(".message-name").length>0&&n.find(".message-name").text()!==e.find(".message-name").text()&&(n.addClass("message-last message-with-tail"),e.addClass("message-first"))})},i.appendMessage=function(e){return i.addMessage(e,"append")},i.prependMessage=function(e){return i.addMessage(e,"prepend")},i.addMessage=function(e,a){if(void 0===a&&(a=i.params.newMessagesFirst?"prepend":"append"),(e=e||{}).type=e.type||"sent",!e.text)return!1;e.hasImage=e.text.indexOf("<img")>=0,e.position="append"===a?"bottom":"top";var t=i.template(e);i.container[a](t),i.params.autoLayout&&i.layout(),("append"===a&&!i.params.newMessagesFirst||"prepend"===a&&i.params.newMessagesFirst)&&i.scrollMessages()},i.clean=function(){i.container.html("")},i.scrollMessages=function(e){void 0===e&&(e=400);var a=i.pageContent[0].scrollTop,t=i.params.newMessagesFirst?0:i.pageContent[0].scrollHeight-i.pageContent[0].offsetHeight;t!==a&&i.pageContent.scrollTop(t,e)},i.init=function(){i.params.autoLayout&&i.layout(),i.scrollMessages(0)},i.destroy=function(){i=null},i.init(),i.container[0].f7Messages=i,i};t.messages=function(e,a){return new m(e,a)},t.initPageMessages=function(e){var a=(e=r(e)).find(".messages");if(0!==a.length&&a.hasClass("messages-init")){var n=t.messages(a,a.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",function a(){n.destroy(),e.off("pageBeforeRemove",a)})}},t.swipeoutOpenedEl=void 0,t.allowSwipeout=!0,t.initSwipeout=function(e){var a,n,i,o,s,l,p,c,d,u,m,h,f,g,v,w,b,C,y,x,T,k,S,P={};function M(e){t.allowSwipeout&&(n=!1,a=!0,i=void 0,P.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,P.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=(new Date).getTime())}function I(e){if(a){var o="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,M="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===i&&(i=!!(i||Math.abs(M-P.y)>Math.abs(o-P.x))),i)a=!1;else{if(!n){if(r(".list-block.sortable-opened").length>0)return;l=r(this),p=l.find(".swipeout-content"),c=l.find(".swipeout-actions-right"),d=l.find(".swipeout-actions-left"),u=m=v=w=y=C=null,k=d.hasClass("swipeout-actions-no-fold")||t.params.swipeoutActionsNoFold,S=c.hasClass("swipeout-actions-no-fold")||t.params.swipeoutActionsNoFold,d.length>0&&(u=d.outerWidth(),v=d.children("a"),C=d.find(".swipeout-overswipe")),c.length>0&&(m=c.outerWidth(),w=c.children("a"),y=c.find(".swipeout-overswipe")),(f=l.hasClass("swipeout-opened"))&&(g=l.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),l.removeClass("transitioning"),t.params.swipeoutNoFollow||(l.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),l.removeClass("swipeout-opened"))}if(n=!0,e.preventDefault(),s=o-P.x,h=s,f&&("right"===g?h-=m:h+=u),h>0&&0===d.length||h<0&&0===c.length){if(!f)return void(a=n=!1);h=0}var I,O,E,L;if(b=h<0?"to-left":h>0?"to-right":b||"to-left",e.f7PreventPanelSwipe=!0,t.params.swipeoutNoFollow)return f?("right"===g&&s>0&&t.swipeoutClose(l),"left"===g&&s<0&&t.swipeoutClose(l)):(s<0&&c.length>0&&t.swipeoutOpen(l,"right"),s>0&&d.length>0&&t.swipeoutOpen(l,"left")),a=!1,void(n=!1);if(x=!1,T=!1,c.length>0)for(E=h/m,h<-m&&(h=-m-Math.pow(-h-m,.8),y.length>0&&(T=!0)),I=0;I<w.length;I++)void 0===w[I]._buttonOffset&&(w[I]._buttonOffset=w[I].offsetLeft),O=w[I]._buttonOffset,L=r(w[I]),y.length>0&&L.hasClass("swipeout-overswipe")&&L.css({left:(T?-O:0)+"px"}),L.transform("translate3d("+(h-O*(1+Math.max(E,-1)))+"px,0,0)");if(d.length>0)for(E=h/u,h>u&&(h=u+Math.pow(h-u,.8),C.length>0&&(x=!0)),I=0;I<v.length;I++)void 0===v[I]._buttonOffset&&(v[I]._buttonOffset=u-v[I].offsetLeft-v[I].offsetWidth),O=v[I]._buttonOffset,L=r(v[I]),C.length>0&&L.hasClass("swipeout-overswipe")&&L.css({left:(x?O:0)+"px"}),v.length>1&&L.css("z-index",v.length-I),L.transform("translate3d("+(h+O*(1-Math.min(E,1)))+"px,0,0)");p.transform("translate3d("+h+"px,0,0)")}}}function O(e){if(!a||!n)return a=!1,void(n=!1);a=!1,n=!1;var i,g,C,y,P,M,I=(new Date).getTime()-o;if("to-left"===b?S:k,C="to-left"===b?c:d,g="to-left"===b?m:u,i=I<300&&(s<-10&&"to-left"===b||s>10&&"to-right"===b)||I>=300&&Math.abs(h)>g/2?"open":"close",I<300&&(0===Math.abs(h)&&(i="close"),Math.abs(h)===g&&(i="open")),"open"===i){t.swipeoutOpenedEl=l,l.trigger("open"),l.addClass("swipeout-opened transitioning");var O="to-left"===b?-g:g;if(p.transform("translate3d("+O+"px,0,0)"),C.addClass("swipeout-actions-opened"),y="to-left"===b?w:v)for(P=0;P<y.length;P++)r(y[P]).transform("translate3d("+O+"px,0,0)");T&&c.find(".swipeout-overswipe")[0].click(),x&&d.find(".swipeout-overswipe")[0].click()}else l.trigger("close"),t.swipeoutOpenedEl=void 0,l.addClass("transitioning").removeClass("swipeout-opened"),p.transform(""),C.removeClass("swipeout-actions-opened");if(v&&v.length>0&&v!==y)for(P=0;P<v.length;P++)void 0===(M=v[P]._buttonOffset)&&(v[P]._buttonOffset=u-v[P].offsetLeft-v[P].offsetWidth),r(v[P]).transform("translate3d("+M+"px,0,0)");if(w&&w.length>0&&w!==y)for(P=0;P<w.length;P++)void 0===(M=w[P]._buttonOffset)&&(w[P]._buttonOffset=w[P].offsetLeft),r(w[P]).transform("translate3d("+-M+"px,0,0)");p.transitionEnd(function(e){f&&"open"===i||closed&&"close"===i||(l.trigger("open"===i?"opened":"closed"),f&&"close"===i&&(c.length>0&&w.transform(""),d.length>0&&v.transform("")))})}r(document).on(t.touchEvents.start,function(e){if(t.swipeoutOpenedEl){var a=r(e.target);t.swipeoutOpenedEl.is(a[0])||a.parents(".swipeout").is(t.swipeoutOpenedEl)||a.hasClass("modal-in")||a.parents(".modal.modal-in").length>0||a.hasClass("modal-overlay")||t.swipeoutClose(t.swipeoutOpenedEl)}}),e?(r(e).on(t.touchEvents.start,M),r(e).on(t.touchEvents.move,I),r(e).on(t.touchEvents.end,O)):(r(document).on(t.touchEvents.start,".list-block li.swipeout",M),r(document).on(t.touchEvents.move,".list-block li.swipeout",I),r(document).on(t.touchEvents.end,".list-block li.swipeout",O))},t.swipeoutOpen=function(e,a,n){if(e=r(e),2===arguments.length&&"function"==typeof arguments[1]&&(n=a),0!==e.length&&(e.length>1&&(e=r(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){a||(a=e.find(".swipeout-actions-right").length>0?"right":"left");var i=e.find(".swipeout-actions-"+a);if(0!==i.length){i.hasClass("swipeout-actions-no-fold")||t.params.swipeoutActionsNoFold;e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),i.addClass("swipeout-actions-opened");var o,s=i.children("a"),l=i.outerWidth(),p="right"===a?-l:l;if(s.length>1){for(o=0;o<s.length;o++)"right"===a?r(s[o]).transform("translate3d("+-s[o].offsetLeft+"px,0,0)"):r(s[o]).css("z-index",s.length-o).transform("translate3d("+(l-s[o].offsetWidth-s[o].offsetLeft)+"px,0,0)");s[1].clientLeft}for(e.addClass("transitioning"),o=0;o<s.length;o++)r(s[o]).transform("translate3d("+p+"px,0,0)");e.find(".swipeout-content").transform("translate3d("+p+"px,0,0)").transitionEnd(function(){e.trigger("opened"),n&&n.call(e[0])}),t.swipeoutOpenedEl=e}}},t.swipeoutClose=function(e,a){if(0!==(e=r(e)).length&&e.hasClass("swipeout-opened")){var n,i=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",o=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),s=(o.hasClass("swipeout-actions-no-fold")||t.params.swipeoutActionsNoFold,o.children("a")),l=o.outerWidth();t.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning"),e.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(c),n=setTimeout(c,500);for(var p=0;p<s.length;p++)"right"===i?r(s[p]).transform("translate3d("+-s[p].offsetLeft+"px,0,0)"):r(s[p]).transform("translate3d("+(l-s[p].offsetWidth-s[p].offsetLeft)+"px,0,0)"),r(s[p]).css({left:"0px"});t.swipeoutOpenedEl&&t.swipeoutOpenedEl[0]===e[0]&&(t.swipeoutOpenedEl=void 0)}function c(){t.allowSwipeout=!0,s.transform(""),e.trigger("closed"),a&&a.call(e[0]),n&&clearTimeout(n)}},t.swipeoutDelete=function(e,a){if(0!==(e=r(e)).length){e.length>1&&(e=r(e[0])),t.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(e.trigger("deleted"),a&&a.call(e[0]),e.parents(".virtual-list").length>0){var t=e.parents(".virtual-list")[0].f7VirtualList,n=e[0].f7VirtualListIndex;t&&void 0!==n&&t.deleteItem(n)}else e.remove()});e.find(".swipeout-content").transform("translate3d(-100%,0,0)")}},t.sortableToggle=function(e){return 0===(e=r(e)).length&&(e=r(".list-block.sortable")),e.toggleClass("sortable-opened"),e.hasClass("sortable-opened")?e.trigger("open"):e.trigger("close"),e},t.sortableOpen=function(e){return 0===(e=r(e)).length&&(e=r(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},t.sortableClose=function(e){return 0===(e=r(e)).length&&(e=r(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},t.initSortable=function(){var e,a,n,i,o,s,l,p,c,d,u;function m(t){if(e&&i){"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX;var m="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;a||(i.addClass("sorting"),u.addClass("sortable-sorting"),l=i[0].offsetTop,p=i.parent().height()-i[0].offsetTop-i.height(),o=i[0].offsetHeight),a=!0,t.preventDefault(),t.f7PreventPanelSwipe=!0;var h=m-n;h<-l&&(h=-l),h>p&&(h=p),i.transform("translate3d(0,"+h+"px,0)"),d=c=void 0,s.each(function(){var e=r(this);if(e[0]!==i[0]){var a=e[0].offsetTop,t=e.height(),n=i[0].offsetTop+h;n>=a-t/2&&i.index()<e.index()?(e.transform("translate3d(0, "+-o+"px,0)"),c=e,d=void 0):n<=a+t/2&&i.index()>e.index()?(e.transform("translate3d(0, "+o+"px,0)"),c=void 0,d||(d=e)):r(this).transform("translate3d(0, 0%,0)")}})}}function h(n){if(t.allowPanelOpen=t.allowSwipeout=!0,!e||!a)return e=!1,void(a=!1);var r,o,l;n.preventDefault(),s.transform(""),i.removeClass("sorting"),u.removeClass("sortable-sorting"),c&&(i.insertAfter(c),i.trigger("sort")),d&&(i.insertBefore(d),i.trigger("sort")),(c||d)&&u.hasClass("virtual-list")&&(r=u[0].f7VirtualList,o=i[0].f7VirtualListIndex,l=d?d[0].f7VirtualListIndex:c[0].f7VirtualListIndex,r&&r.moveItem(o,l)),c=d=void 0,e=!1,a=!1}r(document).on(t.touchEvents.start,".list-block.sortable .sortable-handler",function(o){a=!1,e=!0,n="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY,i=r(this).parent(),s=i.parent().find("li"),u=i.parents(".sortable"),o.preventDefault(),t.allowPanelOpen=t.allowSwipeout=!1}),t.support.touch?(r(document).on(t.touchEvents.move,".list-block.sortable .sortable-handler",m),r(document).on(t.touchEvents.end,".list-block.sortable .sortable-handler",h)):(r(document).on(t.touchEvents.move,m),r(document).on(t.touchEvents.end,h))},t.initSmartSelects=function(e){var a,t=r(e);0!==t.length&&(0!==(a=t.is(".smart-select")?t:t.find(".smart-select")).length&&a.each(function(){var e=r(this),a=e.find("select");if(0!==a.length){var t=a[0];if(0!==t.length){for(var n=[],i=0;i<t.length;i++)t[i].selected&&n.push(t[i].textContent.trim());var o=e.find(".item-after");if(0===o.length)e.find(".item-inner").append('<div class="item-after">'+n.join(", ")+"</div>");else{var s=o.text();if(o.hasClass("smart-select-value"))for(i=0;i<t.length;i++)t[i].selected=t[i].textContent.trim()===s.trim();else o.text(n.join(", "))}}}}))},t.smartSelectAddOption=function(e,a,n){var i=(e=r(e)).parents(".smart-select");void 0===n?e.append(a):r(a).insertBefore(e.find("option").eq(n)),t.initSmartSelects(i);var o=i.find("select").attr("name");r('.page.smart-select-page[data-select-name="'+o+'"]').length>0&&t.smartSelectOpen(i,!0)},t.smartSelectOpen=function(e,a){if(0!==(e=r(e)).length){var n=e.parents("."+t.params.viewClass);if(0!==n.length&&(n=n[0].f7View)){var o=e.attr("data-open-in");o||(o=t.params.smartSelectInPopup?"popup":"page");var s=e.dataset(),l=s.pageTitle||e.find(".item-title").text(),p=s.backText||t.params.smartSelectBackText,c=s.popupCloseText||s.backText||t.params.smartSelectPopupCloseText,d=void 0!==s.backOnSelect?s.backOnSelect:t.params.smartSelectBackOnSelect,u=s.formTheme||t.params.smartSelectFormTheme,m=s.navbarTheme||t.params.smartSelectNavbarTheme,h=s.virtualList,f=s.virtualListHeight,g=e.find("select")[0],v=r(g),w=v.dataset();if(!(g.disabled||e.hasClass("disabled")||v.hasClass("disabled"))){for(var b,C,y,x,T,k,S,P,M,I,O,E=[],L=(new Date).getTime(),D=g.multiple?"checkbox":"radio",B=D+"-"+L,N=g.name,z=0;z<g.length;z++)(b=r(g[z]))[0].disabled||(y=(O=b.dataset()).optionImage||w.optionImage,x=O.optionIcon||w.optionIcon,C=y||x||"checkbox"===D,M=O.optionColor,I=O.optionClass,k=(T=b.parent("optgroup")[0])&&T.label,S=!1,T&&T!==P&&(S=!0,P=T),E.push({value:b[0].value,text:b[0].textContent.trim(),selected:b[0].selected,group:T,groupLabel:k,showGroupLabel:S,image:y,icon:x,color:M,className:I,disabled:b[0].disabled,inputType:D,id:L,hasMedia:C,checkbox:"checkbox"===D,inputName:B,test:this}));t._compiledTemplates.smartSelectItem||(t._compiledTemplates.smartSelectItem=i.compile(t.params.smartSelectItemTemplate||'{{#if showGroupLabel}}<li class="item-divider">{{groupLabel}}</li>{{/if}}<li{{#if className}} class="{{className}}"{{/if}}><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div></label></li>'));var A=t._compiledTemplates.smartSelectItem,H="";if(!h)for(var R=0;R<E.length;R++)H+=A(E[R]);t._compiledTemplates.smartSelectNavbar||(t._compiledTemplates.smartSelectNavbar=i.compile(t.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>'));var V,F=t._compiledTemplates.smartSelectNavbar({pageTitle:l,backText:p,closeText:c,openIn:o,navbarTheme:m,inPopup:"popup"===o,inPage:"page"===o,leftTemplate:"popup"===o?t.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,c):t.params.smartSelectBackTemplate.replace(/{{backText}}/g,p)}),q="",Y="";"page"===o?(V="static",e.parents(".navbar-through").length>0&&(V="through"),e.parents(".navbar-fixed").length>0&&(V="fixed"),Y=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",q=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+V):V="fixed";var G,W,j="smart-select-"+B,X=void 0===e.data("searchbar")?t.params.smartSelectSearchbar:"true"===e.data("searchbar");X&&(G=e.data("searchbar-placeholder")||"Search",W=e.data("searchbar-cancel")||"Cancel");var _,U=("through"===V?F:"")+'<div class="pages">  <div data-page="'+j+'" data-select-name="'+N+'" class="page smart-select-page '+q+" "+Y+'">'+("fixed"===V?F:"")+(X?'<form class="searchbar searchbar-init" data-search-list=".smart-select-list-'+L+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+G+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+W+'</a></form><div class="searchbar-overlay"></div>':"")+'    <div class="page-content">'+("static"===V?F:"")+'      <div class="list-block '+(h?"virtual-list":"")+" smart-select-list-"+L+" "+(u?"theme-"+u:"")+'">        <ul>'+(h?"":H)+"        </ul>      </div>    </div>  </div></div>";"popup"===o?(a?(_=r(".popup.smart-select-popup .view")).html(U):(_=t.popup('<div class="popup smart-select-popup smart-select-popup-'+B+'"><div class="view navbar-fixed">'+U+"</div></div>"),_=r(_)),t.initPage(_.find(".page")),J(_)):(r(document).once("pageInit",".smart-select-page",function(e){var a=e.detail.page;a.name===j&&J(a.container)}),n.router.load({content:U,reload:!!a||void 0}))}}}function J(a){if(h){var i=t.virtualList(r(a).find(".virtual-list"),{items:E,template:A,height:f||void 0,searchByItem:function(e,a,t){return t.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0}});r(a).once("popup"===o?"closed":"pageBeforeRemove",function(){i&&i.destroy&&i.destroy()})}r(a).on("change",'input[name="'+B+'"]',function(){var a=this.value,r=[];if("checkbox"===this.type)for(var i=0;i<g.options.length;i++){var s=g.options[i];s.value===a&&(s.selected=this.checked),s.selected&&r.push(s.textContent.trim())}else r=[e.find('option[value="'+a+'"]').text()],g.value=a;v.trigger("change"),e.find(".item-after").text(r.join(", ")),d&&"radio"===D&&("popup"===o?t.closeModal(_):n.router.back())})}};var h=function(e,a){var n={cols:1,height:44,cache:!0,dynamicHeightBufferSize:1};for(var o in a=a||{},n)void 0===a[o]&&(a[o]=n[o]);var s,l=this;l.listBlock=r(e),l.params=a,l.items=a.items,a.template&&("string"==typeof a.template?l.template=i.compile(a.template):"function"==typeof a.template&&(l.template=a.template)),l.pageContent=l.listBlock.parents(".page-content"),void 0!==l.params.updatableScroll?s=l.params.updatableScroll:(s=!0,t.device.ios&&t.device.osVersion.split(".")[0]<8&&(s=!1)),l.ul=l.params.ul?r(l.params.ul):l.listBlock.children("ul"),0===l.ul.length&&(l.listBlock.append("<ul></ul>"),l.ul=l.listBlock.children("ul")),l.domCache={},l.displayDomCache={},l.tempDomElement=document.createElement("ul"),l.lastRepaintY=null,l.fragment=document.createDocumentFragment(),l.filterItems=function(e,a){l.filteredItems=[];e[0],e[e.length-1];for(var t=0;t<e.length;t++)l.filteredItems.push(l.items[e[t]]);void 0===a&&(a=!0),a&&(l.pageContent[0].scrollTop=0),l.update()},l.resetFilter=function(){l.filteredItems=null,delete l.filteredItems,l.update()};var p,c,d,u,m,h,f=0,g="function"==typeof l.params.height;return l.setListSize=function(){var e=l.filteredItems||l.items;if(p=l.pageContent[0].offsetHeight,g){h=0,l.heights=[];for(var a=0;a<e.length;a++){var t=l.params.height(e[a]);h+=t,l.heights.push(t)}}else h=e.length*l.params.height/l.params.cols,c=Math.ceil(p/l.params.height),d=l.params.rowsBefore||2*c,u=l.params.rowsAfter||c,m=c+d+u,f=d/2*l.params.height;s&&l.ul.css({height:h+"px"})},l.render=function(e,a){e&&(l.lastRepaintY=null);var t=-(l.listBlock[0].getBoundingClientRect().top+l.pageContent[0].getBoundingClientRect().top);if(void 0!==a&&(t=a),null===l.lastRepaintY||Math.abs(t-l.lastRepaintY)>f||!s&&l.pageContent[0].scrollTop+p>=l.pageContent[0].scrollHeight){l.lastRepaintY=t;var n,r,i,o=l.filteredItems||l.items,c=0,u=0;if(g){var h,v,w=0;for(f=p,h=0;h<l.heights.length;h++)v=l.heights[h],void 0===n&&(w+v>=t-2*p*l.params.dynamicHeightBufferSize?n=h:c+=v),void 0===r&&((w+v>=t+2*p*l.params.dynamicHeightBufferSize||h===l.heights.length-1)&&(r=h+1),u+=v),w+=v;r=Math.min(r,o.length)}else(n=(parseInt(t/l.params.height)-d)*l.params.cols)<0&&(n=0),r=Math.min(n+m*l.params.cols,o.length);l.reachEnd=!1;for(var b=n;b<r;b++){var C,y;y=l.items.indexOf(o[b]),b===n&&(l.currentFromIndex=y),b===r-1&&(l.currentToIndex=y),y===l.items.length-1&&(l.reachEnd=!0),l.domCache[y]?C=l.domCache[y]:(l.template?l.tempDomElement.innerHTML=l.template(o[b],{index:y}):l.params.renderItem?l.tempDomElement.innerHTML=l.params.renderItem(y,o[b]):l.tempDomElement.innerHTML=o[b],C=l.tempDomElement.childNodes[0],l.params.cache&&(l.domCache[y]=C)),C.f7VirtualListIndex=y,b===n&&(i=g?c:b*l.params.height/l.params.cols),C.style.top=i+"px",l.params.onItemBeforeInsert&&l.params.onItemBeforeInsert(l,C),l.fragment.appendChild(C)}s||(l.ul[0].style.height=g?u+"px":b*l.params.height/l.params.cols+"px"),l.params.onBeforeClear&&l.params.onBeforeClear(l,l.fragment),l.ul[0].innerHTML="",l.params.onItemsBeforeInsert&&l.params.onItemsBeforeInsert(l,l.fragment),l.ul[0].appendChild(l.fragment),l.params.onItemsAfterInsert&&l.params.onItemsAfterInsert(l,l.fragment),void 0!==a&&e&&l.pageContent.scrollTop(a,0)}},l.scrollToItem=function(e){if(e>l.items.length)return!1;var a,t=0;if(g)for(var n=0;n<e;n++)t+=l.heights[n];else t=e*l.params.height;return a=l.listBlock[0].offsetTop,l.render(!0,a+t-parseInt(l.pageContent.css("padding-top"),10)),!0},l.handleScroll=function(e){l.render()},l.handleResize=function(e){l.setListSize(),l.render(!0)},l.attachEvents=function(e){var a=e?"off":"on";l.pageContent[a]("scroll",l.handleScroll),r(window)[a]("resize",l.handleResize)},l.init=function(){l.attachEvents(),l.setListSize(),l.render()},l.appendItems=function(e){for(var a=0;a<e.length;a++)l.items.push(e[a]);l.update()},l.appendItem=function(e){l.appendItems([e])},l.replaceAllItems=function(e){l.items=e,delete l.filteredItems,l.domCache={},l.update()},l.replaceItem=function(e,a){l.items[e]=a,l.params.cache&&delete l.domCache[e],l.update()},l.prependItems=function(e){for(var a=e.length-1;a>=0;a--)l.items.unshift(e[a]);if(l.params.cache){var t={};for(var n in l.domCache)t[parseInt(n,10)+e.length]=l.domCache[n];l.domCache=t}l.update()},l.prependItem=function(e){l.prependItems([e])},l.moveItem=function(e,a){if(e!==a){var t=l.items.splice(e,1)[0];if(a>=l.items.length?(l.items.push(t),a=l.items.length-1):l.items.splice(a,0,t),l.params.cache){var n={};for(var r in l.domCache){var i=parseInt(r,10),o=e<a?e:a,s=e<a?a:e,p=e<a?-1:1;(i<o||i>s)&&(n[i]=l.domCache[i]),i===o&&(n[s]=l.domCache[i]),i>o&&i<=s&&(n[i+p]=l.domCache[i])}l.domCache=n}l.update()}},l.insertItemBefore=function(e,a){if(0!==e)if(e>=l.items.length)l.appendItem(a);else{if(l.items.splice(e,0,a),l.params.cache){var t={};for(var n in l.domCache){var r=parseInt(n,10);r>=e&&(t[r+1]=l.domCache[r])}l.domCache=t}l.update()}else l.prependItem(a)},l.deleteItems=function(e){for(var a,t=0,n=0;n<e.length;n++){var r=e[n];void 0!==a&&r>a&&(t=-n),r+=t,a=e[n];var i=l.items.splice(r,1)[0];if(l.filteredItems&&l.filteredItems.indexOf(i)>=0&&l.filteredItems.splice(l.filteredItems.indexOf(i),1),l.params.cache){var o={};for(var s in l.domCache){var p=parseInt(s,10);p===r?delete l.domCache[r]:parseInt(s,10)>r?o[p-1]=l.domCache[s]:o[p]=l.domCache[s]}l.domCache=o}}l.update()},l.deleteAllItems=function(){l.items=[],delete l.filteredItems,l.params.cache&&(l.domCache={}),l.update()},l.deleteItem=function(e){l.deleteItems([e])},l.clearCache=function(){l.domCache={}},l.update=function(){l.setListSize(),l.render(!0)},l.destroy=function(){l.attachEvents(!0),delete l.items,delete l.domCache},l.init(),l.listBlock[0].f7VirtualList=l,l};function f(){var e,a=r(this),t=a[0].scrollTop,n=a[0].scrollHeight,i=a[0].offsetHeight,o=a[0].getAttribute("data-distance"),s=a.find(".virtual-list"),l=a.hasClass("infinite-scroll-top");if(o||(o=50),"string"==typeof o&&o.indexOf("%")>=0&&(o=parseInt(o,10)/100*i),o>i&&(o=i),l)t<o&&a.trigger("infinite");else if(t+i>=n-o){if(s.length>0&&(e=s[0].f7VirtualList)&&!e.reachEnd)return;a.trigger("infinite")}}function g(){t.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}t.virtualList=function(e,a){return new h(e,a)},t.reinitVirtualList=function(e){var a=r(e).find(".virtual-list");if(0!==a.length)for(var t=0;t<a.length;t++){var n=a[t].f7VirtualList;n&&n.update()}},t.initPullToRefresh=function(e){var a=r(e);if(a.hasClass("pull-to-refresh-content")||(a=a.find(".pull-to-refresh-content")),a&&0!==a.length){var n,i,o,s,l,p,c,d,u,m,h={},f=!1,g=!1,v=0,w=a.hasClass("page")?a:a.parents(".page"),b=!1;(w.find(".navbar").length>0||w.parents(".navbar-fixed, .navbar-through").length>0||w.hasClass("navbar-fixed")||w.hasClass("navbar-through"))&&(b=!0),w.hasClass("no-navbar")&&(b=!1),b||a.addClass("pull-to-refresh-no-navbar"),(l=a).attr("data-ptr-distance")?m=!0:u=44,a.on(t.touchEvents.start,C),a.on(t.touchEvents.move,y),a.on(t.touchEvents.end,x),0!==w.length&&(a[0].f7DestroyPullToRefresh=T,w.on("pageBeforeRemove",function e(){T(),w.off("pageBeforeRemove",e)}))}function C(e){if(n){if("android"!==t.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}i=!1,n=!0,o=void 0,d=void 0,h.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,h.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,(new Date).getTime(),l=r(this)}function y(e){if(n){var a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===o&&(o=!!(o||Math.abs(r-h.y)>Math.abs(a-h.x))),o){if(c=l[0].scrollTop,void 0===d&&0!==c&&(d=!0),!i){if(l.removeClass("transitioning"),c>l[0].offsetHeight)return void(n=!1);m&&(u=l.attr("data-ptr-distance")).indexOf("%")>=0&&(u=l[0].offsetHeight*parseInt(u,10)/100),v=l.hasClass("refreshing")?u:0,g=l[0].scrollHeight===l[0].offsetHeight||"ios"!==t.device.os}if(i=!0,!((s=r-h.y)>0&&c<=0||c<0))return l.removeClass("pull-up pull-down"),void(f=!1);"ios"===t.device.os&&parseInt(t.device.osVersion.split(".")[0],10)>7&&0===c&&!d&&(g=!0),g&&(e.preventDefault(),p=Math.pow(s,.85)+v,l.transform("translate3d(0,"+p+"px,0)")),g&&Math.pow(s,.85)>u||!g&&s>=2*u?(f=!0,l.addClass("pull-up").removeClass("pull-down")):(f=!1,l.removeClass("pull-up").addClass("pull-down"))}else n=!1}}function x(e){if(!n||!i)return n=!1,void(i=!1);p&&(l.addClass("transitioning"),p=0),l.transform(""),f?(l.addClass("refreshing"),l.trigger("refresh",{done:function(){t.pullToRefreshDone(l)}})):l.removeClass("pull-down"),n=!1,i=!1}function T(){a.off(t.touchEvents.start,C),a.off(t.touchEvents.move,y),a.off(t.touchEvents.end,x)}},t.pullToRefreshDone=function(e){0===(e=r(e)).length&&(e=r(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down")})},t.pullToRefreshTrigger=function(e){0===(e=r(e)).length&&(e=r(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){t.pullToRefreshDone(e)}}))},t.destroyPullToRefresh=function(e){var a=(e=r(e)).hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");0!==a.length&&a[0].f7DestroyPullToRefresh&&a[0].f7DestroyPullToRefresh()},t.attachInfiniteScroll=function(e){r(e).on("scroll",f)},t.detachInfiniteScroll=function(e){r(e).off("scroll",f)},t.initInfiniteScroll=function(e){var a=(e=r(e)).find(".infinite-scroll");0!==a.length&&(t.attachInfiniteScroll(a),e.on("pageBeforeRemove",function n(){t.detachInfiniteScroll(a),e.off("pageBeforeRemove",n)}))},t.initScrollToolbars=function(e){var a=(e=r(e)).find(".page-content");if(0!==a.length){var n=(t.params.hideNavbarOnPageScroll||a.hasClass("hide-navbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-navbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),i=(t.params.hideToolbarOnPageScroll||a.hasClass("hide-toolbar-on-scroll")||a.hasClass("hide-bars-on-scroll"))&&!(a.hasClass("keep-toolbar-on-scroll")||a.hasClass("keep-bars-on-scroll")),o=(t.params.hideTabbarOnPageScroll||a.hasClass("hide-tabbar-on-scroll"))&&!a.hasClass("keep-tabbar-on-scroll");if(n||i||o){var s=a.parents("."+t.params.viewClass);if(0!==s.length){var l,p=s.find(".navbar"),c=s.find(".toolbar");o&&0===(l=s.find(".tabbar")).length&&(l=s.parents("."+t.params.viewsClass).find(".tabbar"));var d,u,m,h,f,g,v,w,b=p.length>0,C=c.length>0,y=l&&l.length>0;d=u=a[0].scrollTop;var x=C&&i?c[0].offsetHeight:0,T=(y&&o?l[0].offsetHeight:0)||x;a.on("scroll",k),a[0].f7ScrollToolbarsHandler=k}}}function k(r){e.hasClass("page-on-left")||(u=a[0].scrollTop,m=a[0].scrollHeight,h=a[0].offsetHeight,f=t.params.showBarsOnPageScrollEnd&&u+h>=m-T,g=p.hasClass("navbar-hidden"),v=c.hasClass("toolbar-hidden"),w=l&&l.hasClass("toolbar-hidden"),"show"===(d>u||f?"show":u>44?"hide":"show")?(b&&n&&g&&(t.showNavbar(p),e.removeClass("no-navbar-by-scroll"),g=!1),C&&i&&v&&(t.showToolbar(c),e.removeClass("no-toolbar-by-scroll"),v=!1),y&&o&&w&&(t.showToolbar(l),e.removeClass("no-tabbar-by-scroll"),w=!1)):(b&&n&&!g&&(t.hideNavbar(p),e.addClass("no-navbar-by-scroll"),g=!0),C&&i&&!v&&(t.hideToolbar(c),e.addClass("no-toolbar-by-scroll"),v=!0),y&&o&&!w&&(t.hideToolbar(l),e.addClass("no-tabbar-by-scroll"),w=!0)),d=u)}},t.destroyScrollToolbars=function(e){var a=(e=r(e)).find(".page-content");0!==a.length&&(a[0].f7ScrollToolbarsHandler&&a.off("scroll",a[0].f7ScrollToolbarsHandler))},t.showTab=function(e,a,n){var i=r(e);if(2===arguments.length&&"boolean"==typeof a&&(n=a),0===i.length)return!1;if(i.hasClass("active"))return n&&i.trigger("show"),!1;var o=i.parent(".tabs");if(0===o.length)return!1;t.allowSwipeout=!0;var s=o.parent().hasClass("tabs-animated-wrap");s&&o.transform("translate3d("+100*-i.index()+"%,0,0)");var l,p=o.children(".tab.active").removeClass("active");(i.addClass("active"),i.trigger("show"),!s&&i.find(".navbar").length>0)&&(l=i.hasClass(t.params.viewClass)?i[0]:i.parents("."+t.params.viewClass)[0],t.sizeNavbars(l));if(a?a=r(a):(!(a=r("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+i.attr("id")+'"]'))||a&&0===a.length)&&r("[data-tab]").each(function(){i.is(r(this).attr("data-tab"))&&(a=r(this))}),0!==a.length){var c;if(p&&p.length>0){var d=p.attr("id");d&&(c=r('.tab-link[href="#'+d+'"]')),(!c||c&&0===c.length)&&r("[data-tab]").each(function(){p.is(r(this).attr("data-tab"))&&(c=r(this))})}return a&&a.length>0&&a.addClass("active"),c&&c.length>0&&c.removeClass("active"),!0}},t.accordionToggle=function(e){0!==(e=r(e)).length&&(e.hasClass("accordion-item-expanded")?t.accordionClose(e):t.accordionOpen(e))},t.accordionOpen=function(e){var a=(e=r(e)).parents(".accordion-list").eq(0),n=e.children(".accordion-item-content");0===n.length&&(n=e.find(".accordion-item-content"));var i=a.length>0&&e.parent().children(".accordion-item-expanded");i.length>0&&t.accordionClose(i),n.css("height",n[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){n.transition(0),n.css("height","auto");n[0].clientLeft;n.transition(""),e.trigger("opened")}else n.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},t.accordionClose=function(e){var a=(e=r(e)).children(".accordion-item-content");0===a.length&&(a=e.find(".accordion-item-content")),e.removeClass("accordion-item-expanded"),a.transition(0),a.css("height",a[0].scrollHeight+"px");a[0].clientLeft;a.transition(""),a.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){a.transition(0),a.css("height","auto");a[0].clientLeft;a.transition(""),e.trigger("opened")}else a.css("height",""),e.trigger("closed")}),e.trigger("close")},t.initFastClicks=function(){var e,a,n,i,o,s,l,p,c,d,u,m;function h(e){var a,n=r(e.target),i=n.parents(t.params.activeStateElements);return n.is(t.params.activeStateElements)&&(a=n),i.length>0&&(a=a?a.add(i):i),a||n}function f(){c.addClass("active-state")}function g(e){c.removeClass("active-state")}t.params.activeState&&r("html").addClass("watch-active-state"),t.device.ios&&t.device.webView&&window.addEventListener("touchstart",function(){}),t.support.touch?(document.addEventListener("click",function(e){var a,o,s=!1;if(i)return n=null,i=!1,!0;if("submit"===e.target.type&&0===e.detail)return!0;if(!n){var l=e.target&&e.target.nodeName.toLowerCase();l&&"input"!==l&&"label"!==l&&"textarea"!==l&&"select"!==l&&(s=!0)}return u||(s=!0),document.activeElement===n&&(s=!0),e.forwardedTouchEvent&&(s=!0),e.cancelable||(s=!0),s||(e.stopImmediatePropagation(),e.stopPropagation(),n?(o=!0,((a=r(a=n)).is("label")||a.parents("label").length>0)&&(o=!t.device.android&&!(!t.device.ios||!a.is("input"))),(o||p)&&e.preventDefault()):e.preventDefault(),n=null),m=setTimeout(function(){u=!1},100),s},!0),document.addEventListener("touchstart",function(g){if(p=!1,g.targetTouches.length>1)return!0;var v,w,b;if(m&&clearTimeout(m),v=g.target,w=r(v),!(u=("input"!==v.nodeName.toLowerCase()||"file"!==v.type)&&!(w.hasClass("no-fastclick")||w.parents(".no-fastclick").length>0)))return i=!1,!0;if(t.device.ios){var C=window.getSelection();if(C.rangeCount&&C.focusNode!==document.body&&(!C.isCollapsed||document.activeElement===C.focusNode))return o=!0,!0;o=!1}t.device.android&&function(e){var a="button checkbox file image radio submit input textarea".split(" ");return!(!document.activeElement||e===document.activeElement||document.activeElement===document.body||a.indexOf(e.nodeName.toLowerCase())>=0)}(g.target)&&document.activeElement.blur(),i=!0,n=g.target,(new Date).getTime(),e=g.targetTouches[0].pageX,a=g.targetTouches[0].pageY,t.device.ios&&(s=void 0,r(n).parents().each(function(){this.scrollHeight>this.offsetHeight&&!s&&((s=this).f7ScrollTop=s.scrollTop)})),g.timeStamp-l<t.params.fastClicksDelayBetweenClicks&&g.preventDefault(),t.params.activeState&&(c=h(g),0===(b=c.parents(".page-content, .panel")).length||("yes"!==b.prop("scrollHandlerSet")&&(b.on("scroll",function(){clearTimeout(d)}),b.prop("scrollHandlerSet","yes")),0)?f():d=setTimeout(f,80))}),document.addEventListener("touchmove",function(r){if(i){var o=!1,s=t.params.fastClicksDistanceThreshold;if(s){var l=r.targetTouches[0].pageX,c=r.targetTouches[0].pageY;(Math.abs(l-e)>s||Math.abs(c-a)>s)&&(o=!0)}else o=!0;o&&(i=!1,n=null,p=!0),t.params.activeState&&(clearTimeout(d),g())}}),document.addEventListener("touchend",function(e){if(clearTimeout(d),!i)return!o&&u&&(t.device.android&&!e.cancelable||e.preventDefault()),!0;if(document.activeElement===e.target)return!0;if(o||e.preventDefault(),e.timeStamp-l<t.params.fastClicksDelayBetweenClicks)return setTimeout(g,0),!0;if(l=e.timeStamp,i=!1,t.device.ios&&s&&s.scrollTop!==s.f7ScrollTop)return!1;t.params.activeState&&(f(),setTimeout(g,0)),function(e){if(document.activeElement===e)return!1;var a=e.nodeName.toLowerCase(),n="button checkbox file image radio submit".split(" ");return!e.disabled&&!e.readOnly&&("textarea"===a||("select"===a?!t.device.android:"input"===a&&n.indexOf(e.type)<0||void 0))}(n)&&n.focus(),document.activeElement&&n!==document.activeElement&&document.activeElement!==document.body&&"label"!==n.nodeName.toLowerCase()&&document.activeElement.blur(),e.preventDefault();var a=e.changedTouches[0],r=document.createEvent("MouseEvents"),p="click";return t.device.android&&"select"===n.nodeName.toLowerCase()&&(p="mousedown"),r.initMouseEvent(p,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,n.dispatchEvent(r),!1}),document.addEventListener("touchcancel",function(e){i=!1,n=null})):t.params.activeState&&(document.addEventListener("mousedown",function(e){h(e).addClass("active-state"),"which"in e&&3===e.which&&setTimeout(function(){r(".active-state").removeClass("active-state")},0)}),document.addEventListener("mousemove",function(e){r(".active-state").removeClass("active-state")}),document.addEventListener("mouseup",function(e){r(".active-state").removeClass("active-state")}))},t.initClickEvents=function(){r(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker",function(e){var a=r(this),n=a.attr("href"),s="a"===a[0].nodeName.toLowerCase();if(s&&a.is(t.params.externalLinks))"_system"===a.attr("target")&&(e.preventDefault(),window.open(n,"_system"));else{var l,p,c,d,u,m=a.dataset();if(a.hasClass("smart-select")&&t.smartSelectOpen&&t.smartSelectOpen(a),a.hasClass("open-panel")&&(1===r(".panel").length?r(".panel").hasClass("panel-left")?t.openPanel("left"):t.openPanel("right"):"right"===m.panel?t.openPanel("right"):t.openPanel("left")),a.hasClass("close-panel")&&t.closePanel(),a.hasClass("panel-overlay")&&t.params.panelsCloseByOutside&&t.closePanel(),a.hasClass("open-popover")&&(l=m.popover?m.popover:".popover",t.popover(l,a)),a.hasClass("close-popover")&&t.closeModal(".popover.modal-in"),a.hasClass("open-popup")&&(p=m.popup?m.popup:".popup",t.popup(p)),a.hasClass("close-popup")&&(p=m.popup?m.popup:".popup.modal-in",t.closeModal(p)),a.hasClass("open-login-screen")&&(c=m.loginScreen?m.loginScreen:".login-screen",t.loginScreen(c)),a.hasClass("close-login-screen")&&t.closeModal(".login-screen.modal-in"),a.hasClass("modal-overlay")&&(r(".modal.modal-in").length>0&&t.params.modalCloseByOutside&&t.closeModal(".modal.modal-in"),r(".actions-modal.modal-in").length>0&&t.params.actionsCloseByOutside&&t.closeModal(".actions-modal.modal-in"),r(".popover.modal-in").length>0&&t.closeModal(".popover.modal-in")),a.hasClass("popup-overlay")&&r(".popup.modal-in").length>0&&t.params.popupCloseByOutside&&t.closeModal(".popup.modal-in"),a.hasClass("close-picker")){var h=r(".picker-modal.modal-in");h.length>0?t.closeModal(h):(h=r(".popover.modal-in .picker-modal")).length>0&&t.closeModal(h.parents(".popover"))}if(a.hasClass("open-picker")&&(d=m.picker?m.picker:".picker-modal",t.pickerModal(d,a)),a.hasClass("tab-link")&&(u=!0,t.showTab(m.tab||a.attr("href"),a)),a.hasClass("swipeout-close")&&t.swipeoutClose(a.parents(".swipeout-opened")),a.hasClass("swipeout-delete"))if(m.confirm){var f=m.confirm,g=m.confirmTitle;g?t.confirm(f,g,function(){t.swipeoutDelete(a.parents(".swipeout"))}):t.confirm(f,function(){t.swipeoutDelete(a.parents(".swipeout"))})}else t.swipeoutDelete(a.parents(".swipeout"));if(a.hasClass("toggle-sortable")&&t.sortableToggle(m.sortable),a.hasClass("open-sortable")&&t.sortableOpen(m.sortable),a.hasClass("close-sortable")&&t.sortableClose(m.sortable),a.hasClass("accordion-item-toggle")||a.hasClass("item-link")&&a.parent().hasClass("accordion-item")){var v=a.parent(".accordion-item");0===v.length&&(v=a.parents(".accordion-item")),0===v.length&&(v=a.parents("li")),t.accordionToggle(v)}if((!t.params.ajaxLinks||a.is(t.params.ajaxLinks))&&s&&t.params.router){s&&e.preventDefault();var w=n&&n.length>0&&"#"!==n&&!u,b=m.template;if(w||a.hasClass("back")||b){var C,y,x;if(m.view?C=r(m.view)[0].f7View:(C=a.parents("."+t.params.viewClass)[0]&&a.parents("."+t.params.viewClass)[0].f7View)&&C.params.linksView&&("string"==typeof C.params.linksView?C=r(C.params.linksView)[0].f7View:C.params.linksView instanceof o&&(C=C.params.linksView)),C||t.mainView&&(C=t.mainView),!C)return;if(b)n=void 0;else{if(0===n.indexOf("#")&&"#"!==n){if(!C.params.domCache)return;y=n.split("#")[1],n=void 0}if("#"===n&&!a.hasClass("back"))return}void 0!==m.animatePages?x=m.animatePages:(a.hasClass("with-animation")&&(x=!0),a.hasClass("no-animation")&&(x=!1));var T={animatePages:x,ignoreCache:m.ignoreCache,force:m.force,reload:m.reload,reloadPrevious:m.reloadPrevious,pageName:y,url:n};if(t.params.template7Pages){T.contextName=m.contextName;var k=m.context;k&&(T.context=JSON.parse(k))}b&&b in i.templates&&(T.template=i.templates[b]),a.hasClass("back")?C.router.back(T):C.router.load(T)}}}}),(t.params.scrollTopOnNavbarClick||t.params.scrollTopOnStatusbarClick)&&r(document).on("click",".statusbar-overlay, .navbar .center",function(e){var a=r(this),n=r(e.target);if(!("a"===a[0].nodeName.toLowerCase()||a.parents("a").length>0||"a"===n[0].nodeName.toLowerCase()||n.parents("a").length>0)){var i;if(t.params.scrollTopOnNavbarClick&&a.is(".navbar .center")){var o=a.parents(".navbar");0===(i=o.parents(".page-content")).length&&(o.parents(".page").length>0&&(i=o.parents(".page").find(".page-content")),0===i.length&&o.nextAll(".pages").length>0&&(i=o.nextAll(".pages").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")))}t.params.scrollTopOnStatusbarClick&&a.is(".statusbar-overlay")&&(i=r(".popup.modal-in").length>0?r(".popup.modal-in").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):r(".panel.active").length>0?r(".panel.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):r(".views > .view.active").length>0?r(".views > .view.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):r(".views").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")),i&&i.length>0&&(i.hasClass("tab")&&(i=i.parent(".tabs").children(".page-content.active")),i.length>0&&i.scrollTop(0,300))}}),t.support.touch&&r(document).on(t.params.fastClicks?"touchstart":"touchmove",".panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay",function(e){e.preventDefault()})},t.initResize=function(){r(window).on("resize",t.resize),r(window).on("orientationchange",t.orientationchange)},t.resize=function(){t.sizeNavbars&&t.sizeNavbars(),g()},t.orientationchange=function(){t.device&&t.device.minimalUi&&(90!==window.orientation&&-90!==window.orientation||(document.body.scrollTop=0)),g()},t.formsData={},t.formStoreData=function(e,a){t.formsData[e]=a,t.ls["f7form-"+e]=JSON.stringify(a)},t.formDeleteData=function(e){t.formsData[e]&&(t.formsData[e]="",delete t.formsData[e]),t.ls["f7form-"+e]&&(t.ls["f7form-"+e]="",t.ls.removeItem("f7form-"+e))},t.formGetData=function(e){return t.ls["f7form-"+e]?JSON.parse(t.ls["f7form-"+e]):t.formsData[e]?t.formsData[e]:void 0},t.formToJSON=function(e){if(1!==(e=r(e)).length)return!1;var a={},t=["submit","image","button","file"],n=[];return e.find("input, select, textarea").each(function(){var i=r(this),o=i.attr("name"),s=i.attr("type"),l=this.nodeName.toLowerCase();if(!(t.indexOf(s)>=0)&&!(n.indexOf(o)>=0)&&o)if("select"===l&&i.attr("multiple"))n.push(o),a[o]=[],e.find('select[name="'+o+'"] option').each(function(){this.selected&&a[o].push(this.value)});else switch(s){case"checkbox":n.push(o),a[o]=[],e.find('input[name="'+o+'"]').each(function(){this.checked&&a[o].push(this.value)});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked&&(a[o]=this.value)});break;default:a[o]=i.val()}}),e.trigger("formToJSON",{formData:a}),a},t.formFromJSON=function(e,a){if(1!==(e=r(e)).length)return!1;var t=["submit","image","button","file"],n=[];e.find("input, select, textarea").each(function(){var i=r(this),o=i.attr("name"),s=i.attr("type"),l=this.nodeName.toLowerCase();if(a[o]&&!(t.indexOf(s)>=0)&&!(n.indexOf(o)>=0)&&o)if("select"===l&&i.attr("multiple"))n.push(o),e.find('select[name="'+o+'"] option').each(function(){a[o].indexOf(this.value)>=0?this.selected=!0:this.selected=!1});else switch(s){case"checkbox":n.push(o),e.find('input[name="'+o+'"]').each(function(){a[o].indexOf(this.value)>=0?this.checked=!0:this.checked=!1});break;case"radio":n.push(o),e.find('input[name="'+o+'"]').each(function(){a[o]===this.value?this.checked=!0:this.checked=!1});break;default:i.val(a[o])}}),e.trigger("formFromJSON",{formData:a})},t.initFormsStorage=function(e){if(0!==(e=r(e)).length){var a=e.find("form.store-data");0!==a.length&&(a.each(function(){var e=this.getAttribute("id");if(e){var a=t.formGetData(e);a&&t.formFromJSON(this,a)}}),a.on("change submit",n),e.on("pageBeforeRemove",function t(){a.off("change submit",n),e.off("pageBeforeRemove",t)}))}function n(){var e=r(this),a=e[0].id;if(a){var n=t.formToJSON(e);n&&(t.formStoreData(a,n),e.trigger("store",{data:n}))}}},r(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var a=r(this);if("change"!==e.type||a.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault();var n=a.attr("method")||"GET",i=a.attr("enctype"),o=a.attr("action");if(o){var s;s="POST"===n?new FormData(a[0]):r.serializeObject(t.formToJSON(a[0]));var l=r.ajax({method:n,url:o,contentType:i,data:s,beforeSend:function(e){a.trigger("beforeSubmit",{data:s,xhr:e})},error:function(e){a.trigger("submitError",{data:s,xhr:e})},success:function(e){a.trigger("submitted",{data:e,xhr:l})}})}}}),t.pushStateQueue=[],t.pushStateClearQueue=function(){if(0!==t.pushStateQueue.length){var e,a=t.pushStateQueue.pop();!0===t.params.pushStateNoAnimation&&(e=!1),"back"===a.action&&t.router.back(a.view,{animatePages:e}),"loadPage"===a.action&&t.router.load(a.view,{url:a.stateUrl,animatePages:e,pushState:!1}),"loadContent"===a.action&&t.router.load(a.view,{content:a.stateContent,animatePages:e,pushState:!1}),"loadPageName"===a.action&&t.router.load(a.view,{pageName:a.statePageName,animatePages:e,pushState:!1})}},t.initPushState=function(){var e=!0;r(window).on("load",function(){setTimeout(function(){e=!1},0)}),r(window).on("popstate",function(a){if(!e){var n=t.mainView;if(n){var r=a.state;if(r||(r={viewIndex:t.views.indexOf(n),url:n.history[0]}),!(r.viewIndex<0)){var i,o=t.views[r.viewIndex],s=r&&r.url||void 0,l=r&&r.content||void 0,p=r&&r.pageName||void 0;!0===t.params.pushStateNoAnimation&&(i=!1),s!==o.url&&(o.history.indexOf(s)>=0?o.allowPageChange?t.router.back(o,{url:void 0,animatePages:i,pushState:!1,preloadOnly:!1}):t.pushStateQueue.push({action:"back",view:o}):l?o.allowPageChange?t.router.load(o,{content:l,animatePages:i,pushState:!1}):t.pushStateQueue.unshift({action:"loadContent",stateContent:l,view:o}):p?o.allowPageChange?t.router.load(o,{pageName:p,animatePages:i,pushState:!1}):t.pushStateQueue.unshift({action:"loadPageName",statePageName:p,view:o}):o.allowPageChange?t.router.load(o,{url:s,animatePages:i,pushState:!1}):t.pushStateQueue.unshift({action:"loadPage",stateUrl:s,view:o}))}}}})},t.swiper=function(e,a){return new Swiper(e,a)},t.initPageSwiper=function(e){var a=r(e),n=a.find(".swiper-init");if(0!==n.length)for(var i=0;i<n.length;i++){var o,s=n.eq(i);o=s.data("swiper")?JSON.parse(s.data("swiper")):s.dataset(),l(t.swiper(s[0],o))}function l(e){a.on("pageBeforeRemove",function t(){e.destroy(),a.off("pageBeforeRemove",t)})}},t.reinitPageSwiper=function(e){var a=r(e).find(".swiper-init");if(0!==a.length)for(var t=0;t<a.length;t++){var n=a[0].swiper;n&&n.update(!0)}};var v=function(e){var a,n=this,i={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};for(var o in e=e||{},i)void 0===e[o]&&(e[o]=i[o]);n.params=e;var s="dark"===n.params.theme?"color-white":"",l=n.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===n.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+s+'"></i><span>'+n.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+n.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',p=n.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev '+s+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-next '+s+'"></i></a></div></div>',c=n.params.template||'<div class="photo-browser photo-browser-'+n.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div></div>',d=n.params.lazyLoading?n.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+("dark"===n.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>':n.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',u=n.params.captionsTheme||n.params.theme,m=n.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+u+'">{{captions}}</div>',h=n.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',f=n.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>',g="",v="";for(a=0;a<n.params.photos.length;a++){var w=n.params.photos[a],b="";"string"==typeof w||w instanceof String?b=w.indexOf("<")>=0||w.indexOf(">")>=0?f.replace(/{{html}}/g,w):d.replace(/{{url}}/g,w):"object"==typeof w&&(w.hasOwnProperty("html")&&w.html.length>0?b=f.replace(/{{html}}/g,w.html):w.hasOwnProperty("url")&&w.url.length>0&&(b=d.replace(/{{url}}/g,w.url)),w.hasOwnProperty("caption")&&w.caption.length>0?v+=h.replace(/{{caption}}/g,w.caption).replace(/{{captionIndex}}/g,a):b=b.replace(/{{caption}}/g,"")),g+=b}var C=c.replace("{{navbar}}",n.params.navbar?l:"").replace("{{noNavbar}}",n.params.navbar?"":"no-navbar").replace("{{photos}}",g).replace("{{captions}}",m.replace(/{{captions}}/g,v)).replace("{{toolbar}}",n.params.toolbar?p:"");n.activeIndex=n.params.initialSlide,n.openIndex=n.activeIndex,n.opened=!1,n.open=function(e){if(void 0===e&&(e=n.activeIndex),e=parseInt(e,10),n.opened&&n.swiper)n.swiper.slideTo(e);else{if(n.opened=!0,n.openIndex=e,"standalone"===n.params.type&&r("body").append(C),"popup"===n.params.type&&(n.popup=t.popup('<div class="popup photo-browser-popup">'+C+"</div>"),r(n.popup).on("closed",n.onPopupClose)),"page"===n.params.type)return r(document).on("pageBeforeInit",n.onPageBeforeInit),r(document).on("pageBeforeRemove",n.onPageBeforeRemove),n.params.view||(n.params.view=t.mainView),void n.params.view.loadContent(C);n.layout(n.openIndex),n.params.onOpen&&n.params.onOpen(n)}},n.close=function(){n.opened=!1,n.swiperContainer&&0!==n.swiperContainer.length&&(n.params.onClose&&n.params.onClose(n),n.attachEvents(!0),"standalone"===n.params.type&&n.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){n.container.remove()}),n.swiper.destroy(),n.swiper=n.swiperContainer=n.swiperWrapper=n.slides=y=x=T=void 0)},n.onPopupClose=function(e){n.close(),r(n.popup).off("pageBeforeInit",n.onPopupClose)},n.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&n.layout(n.openIndex),r(document).off("pageBeforeInit",n.onPageBeforeInit)},n.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&n.close(),r(document).off("pageBeforeRemove",n.onPageBeforeRemove)},n.onSliderTransitionStart=function(e){n.activeIndex=e.activeIndex;var a=e.activeIndex+1,t=e.slides.length;if(n.params.loop&&(t-=2,(a-=e.loopedSlides)<1&&(a=t+a),a>t&&(a-=t)),n.container.find(".photo-browser-current").text(a),n.container.find(".photo-browser-total").text(t),r(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isBeginning&&!n.params.loop&&r(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isEnd&&!n.params.loop&&r(".photo-browser-next").addClass("photo-browser-link-inactive"),n.captions.length>0){n.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var i=n.params.loop?e.slides.eq(e.activeIndex).attr("data-swiper-slide-index"):n.activeIndex;n.captionsContainer.find('[data-caption-index="'+i+'"]').addClass("photo-browser-caption-active")}var o=e.slides.eq(e.previousIndex).find("video");o.length>0&&"pause"in o[0]&&o[0].pause(),n.params.onSlideChangeStart&&n.params.onSlideChangeStart(e)},n.onSliderTransitionEnd=function(e){n.params.zoom&&y&&e.previousIndex!==e.activeIndex&&(x.transform("translate3d(0,0,0) scale(1)"),T.transform("translate3d(0,0,0)"),y=x=T=void 0,k=S=1),n.params.onSlideChangeEnd&&n.params.onSlideChangeEnd(e)},n.layout=function(e){"page"===n.params.type?n.container=r(".photo-browser-swiper-container").parents(".view"):n.container=r(".photo-browser"),"standalone"===n.params.type&&(n.container.addClass("photo-browser-in"),t.sizeNavbars(n.container)),n.swiperContainer=n.container.find(".photo-browser-swiper-container"),n.swiperWrapper=n.container.find(".photo-browser-swiper-wrapper"),n.slides=n.container.find(".photo-browser-slide"),n.captionsContainer=n.container.find(".photo-browser-captions"),n.captions=n.container.find(".photo-browser-caption");var a={nextButton:n.params.nextButton||".photo-browser-next",prevButton:n.params.prevButton||".photo-browser-prev",indexButton:n.params.indexButton,initialSlide:e,spaceBetween:n.params.spaceBetween,speed:n.params.speed,loop:n.params.loop,lazyLoading:n.params.lazyLoading,lazyLoadingInPrevNext:n.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:n.params.lazyLoadingOnTransitionStart,preloadImages:!n.params.lazyLoading,onTap:function(e,a){n.params.onTap&&n.params.onTap(e,a)},onClick:function(e,a){n.params.exposition&&n.toggleExposition(),n.params.onClick&&n.params.onClick(e,a)},onDoubleTap:function(e,a){n.toggleZoom(r(a.target).parents(".photo-browser-slide")),n.params.onDoubleTap&&n.params.onDoubleTap(e,a)},onTransitionStart:function(e){n.onSliderTransitionStart(e)},onTransitionEnd:function(e){n.onSliderTransitionEnd(e)},onLazyImageLoad:function(e,a,t){n.params.onLazyImageLoad&&n.params.onLazyImageLoad(n,a,t)},onLazyImageReady:function(e,a,t){r(a).removeClass("photo-browser-slide-lazy"),n.params.onLazyImageReady&&n.params.onLazyImageReady(n,a,t)}};n.params.swipeToClose&&"page"!==n.params.type&&(a.onTouchStart=n.swipeCloseTouchStart,a.onTouchMoveOpposite=n.swipeCloseTouchMove,a.onTouchEnd=n.swipeCloseTouchEnd),n.swiper=t.swiper(n.swiperContainer,a),0===e&&n.onSliderTransitionStart(n.swiper),n.attachEvents()},n.attachEvents=function(e){var a=e?"off":"on";if(n.params.zoom){var r=n.params.loop?n.swiper.slides:n.slides;r[a]("gesturestart",n.onSlideGestureStart),r[a]("gesturechange",n.onSlideGestureChange),r[a]("gestureend",n.onSlideGestureEnd),r[a](t.touchEvents.start,n.onSlideTouchStart),r[a](t.touchEvents.move,n.onSlideTouchMove),r[a](t.touchEvents.end,n.onSlideTouchEnd)}n.container.find(".photo-browser-close-link")[a]("click",n.close)};n.exposed=!1,n.toggleExposition=function(){n.container&&n.container.toggleClass("photo-browser-exposed"),n.params.expositionHideCaptions&&n.captionsContainer.toggleClass("photo-browser-captions-exposed"),n.exposed=!n.exposed},n.enableExposition=function(){n.container&&n.container.addClass("photo-browser-exposed"),n.params.expositionHideCaptions&&n.captionsContainer.addClass("photo-browser-captions-exposed"),n.exposed=!0},n.disableExposition=function(){n.container&&n.container.removeClass("photo-browser-exposed"),n.params.expositionHideCaptions&&n.captionsContainer.removeClass("photo-browser-captions-exposed"),n.exposed=!1};var y,x,T,k=1,S=1,P=!1;n.onSlideGestureStart=function(e){y||(y=r(this),x=y.find("img, svg, canvas"),0!==(T=x.parent(".photo-browser-zoom-container")).length)?(x.transition(0),P=!0):x=void 0},n.onSlideGestureChange=function(e){x&&0!==x.length&&((k=e.scale*S)>n.params.maxZoom&&(k=n.params.maxZoom-1+Math.pow(k-n.params.maxZoom+1,.5)),k<n.params.minZoom&&(k=n.params.minZoom+1-Math.pow(n.params.minZoom-k+1,.5)),x.transform("translate3d(0,0,0) scale("+k+")"))},n.onSlideGestureEnd=function(e){x&&0!==x.length&&(k=Math.max(Math.min(k,n.params.maxZoom),n.params.minZoom),x.transition(n.params.speed).transform("translate3d(0,0,0) scale("+k+")"),S=k,P=!1,1===k&&(y=void 0))},n.toggleZoom=function(){y||(y=n.swiper.slides.eq(n.swiper.activeIndex),x=y.find("img, svg, canvas"),T=x.parent(".photo-browser-zoom-container")),x&&0!==x.length&&(T.transition(300).transform("translate3d(0,0,0)"),k&&1!==k?(k=S=1,x.transition(300).transform("translate3d(0,0,0) scale(1)"),y=void 0):(k=S=n.params.maxZoom,x.transition(300).transform("translate3d(0,0,0) scale("+k+")")))};var M,I,O,E,L,D,B,N,z,A,H,R,V,F,q,Y,G,W={},j={};n.onSlideTouchStart=function(e){x&&0!==x.length&&(M||("android"===t.device.os&&e.preventDefault(),M=!0,W.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,W.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},n.onSlideTouchMove=function(e){if(x&&0!==x.length&&(n.swiper.allowClick=!1,M&&y)){I||(z=x[0].offsetWidth,A=x[0].offsetHeight,H=r.getTranslate(T[0],"x")||0,R=r.getTranslate(T[0],"y")||0,T.transition(0));var a=z*k,t=A*k;a<n.swiper.width&&t<n.swiper.height||(L=Math.min(n.swiper.width/2-a/2,0),B=-L,D=Math.min(n.swiper.height/2-t/2,0),N=-D,j.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,j.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,I||P||!(Math.floor(L)===Math.floor(H)&&j.x<W.x||Math.floor(B)===Math.floor(H)&&j.x>W.x)?(e.preventDefault(),e.stopPropagation(),I=!0,O=j.x-W.x+H,E=j.y-W.y+R,O<L&&(O=L+1-Math.pow(L-O+1,.8)),O>B&&(O=B-1+Math.pow(O-B+1,.8)),E<D&&(E=D+1-Math.pow(D-E+1,.8)),E>N&&(E=N-1+Math.pow(E-N+1,.8)),V||(V=j.x),Y||(Y=j.y),F||(F=Date.now()),q=(j.x-V)/(Date.now()-F)/2,G=(j.y-Y)/(Date.now()-F)/2,Math.abs(j.x-V)<2&&(q=0),Math.abs(j.y-Y)<2&&(G=0),V=j.x,Y=j.y,F=Date.now(),T.transform("translate3d("+O+"px, "+E+"px,0)")):M=!1)}},n.onSlideTouchEnd=function(e){if(x&&0!==x.length){if(!M||!I)return M=!1,void(I=!1);M=!1,I=!1;var a=300,t=300,r=O+q*a,i=E+G*t;0!==q&&(a=Math.abs((r-O)/q)),0!==G&&(t=Math.abs((i-E)/G));var o=Math.max(a,t);O=r,E=i;var s=z*k,l=A*k;L=Math.min(n.swiper.width/2-s/2,0),B=-L,D=Math.min(n.swiper.height/2-l/2,0),N=-D,O=Math.max(Math.min(O,B),L),E=Math.max(Math.min(E,N),D),T.transition(o).transform("translate3d("+O+"px, "+E+"px,0)")}};var X,_,U,J,Q,K=!1,Z=!0,$=!1;return n.swipeCloseTouchStart=function(e,a){Z&&(K=!0)},n.swipeCloseTouchMove=function(e,a){if(K){$||($=!0,_="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,J=n.swiper.slides.eq(n.swiper.activeIndex),Q=(new Date).getTime()),a.preventDefault(),U="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,X=_-U;var t=1-Math.abs(X)/300;J.transform("translate3d(0,"+-X+"px,0)"),n.swiper.container.css("opacity",t).transition(0)}},n.swipeCloseTouchEnd=function(e,a){if(K=!1,$){$=!1,Z=!1;var r=Math.abs(X),i=(new Date).getTime()-Q;i<300&&r>20||i>=300&&r>100?setTimeout(function(){"standalone"===n.params.type&&n.close(),"popup"===n.params.type&&t.closeModal(n.popup),n.params.onSwipeToClose&&n.params.onSwipeToClose(n),Z=!0},0):(0!==r?J.addClass("transitioning").transitionEnd(function(){Z=!0,J.removeClass("transitioning")}):Z=!0,n.swiper.container.css("opacity","").transition(""),J.transform(""))}else $=!1},n};t.photoBrowser=function(e){return new v(e)};var w=function(e){var a=this,n={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker">{{closeText}}</a></div></div></div>'};for(var i in e=e||{},n)void 0===e[i]&&(e[i]=n[i]);a.params=e,a.cols=[],a.initialized=!1,a.inline=!!a.params.container;var o=t.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!t.device.android;function s(){var e=!1;return a.params.convertToPopover||a.params.onlyInPopover?(!a.inline&&a.params.input&&(a.params.onlyInPopover?e=!0:t.device.ios?e=!!t.device.ipad:r(window).width()>=768&&(e=!0)),e):e}function l(){return!!(a.opened&&a.container&&a.container.length>0&&a.container.parents(".popover").length>0)}function p(){if(a.opened)for(var e=0;e<a.cols.length;e++)a.cols[e].divider||(a.cols[e].calcSize(),a.cols[e].setValue(a.cols[e].value,0,!1))}function c(e){if(e.preventDefault(),!a.opened&&(a.open(),a.params.scrollToInput&&!s())){var t=a.input.parents(".page-content");if(0===t.length)return;var n,r=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10),o=t[0].offsetHeight-r-a.container.height(),l=t[0].scrollHeight-r-a.container.height(),p=a.input.offset().top-r+a.input[0].offsetHeight;if(p>o){var c=t.scrollTop()+p-o;c+o>l&&(n=c+o-l+i,o===l&&(n=a.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(c,300)}}}function d(e){l()||(a.input&&a.input.length>0?e.target!==a.input[0]&&0===r(e.target).parents(".picker-modal").length&&a.close():0===r(e.target).parents(".picker-modal").length&&a.close())}function u(){a.opened=!1,a.input.parents(".page-content").css({"padding-bottom":""}),a.params.onClose&&a.params.onClose(a),a.container.find(".picker-items-col").each(function(){a.destroyPickerCol(this)})}return a.setValue=function(e,t){for(var n=0,r=0;r<a.cols.length;r++)a.cols[r]&&!a.cols[r].divider&&(a.cols[r].setValue(e[n],t),n++)},a.updateValue=function(){for(var e=[],t=[],n=0;n<a.cols.length;n++)a.cols[n].divider||(e.push(a.cols[n].value),t.push(a.cols[n].displayValue));e.indexOf(void 0)>=0||(a.value=e,a.displayValue=t,a.params.onChange&&a.params.onChange(a,a.value,a.displayValue),a.input&&a.input.length>0&&(r(a.input).val(a.params.formatValue?a.params.formatValue(a,a.value,a.displayValue):a.value.join(" ")),r(a.input).trigger("change")))},a.initPickerCol=function(e,n){var i=r(e),s=i.index(),l=a.cols[s];if(!l.divider){var p,c,d,u;l.container=i,l.wrapper=l.container.find(".picker-items-col-wrapper"),l.items=l.wrapper.find(".picker-item"),l.replaceValues=function(e,t){l.destroyEvents(),l.values=e,l.displayValues=t;var n=a.columnHTML(l,!0);l.wrapper.html(n),l.items=l.wrapper.find(".picker-item"),l.calcSize(),l.setValue(l.values[0],0,!0),l.initEvents()},l.calcSize=function(){var e,t;a.params.rotateEffect&&(l.container.removeClass("picker-items-col-absolute"),l.width||l.container.css({width:""})),e=0,t=l.container[0].offsetHeight,l.wrapper[0].offsetHeight,p=l.items[0].offsetHeight,c=p*l.items.length,d=t/2-c+p/2,u=t/2-p/2,l.width&&(e=l.width,parseInt(e,10)===e&&(e+="px"),l.container.css({width:e})),a.params.rotateEffect&&(l.width||(l.items.each(function(){var a=r(this);a.css({width:"auto"}),e=Math.max(e,a[0].offsetWidth),a.css({width:""})}),l.container.css({width:e+2+"px"})),l.container.addClass("picker-items-col-absolute"))},l.calcSize(),l.wrapper.transform("translate3d(0,"+u+"px,0)").transition(0);var m;l.setValue=function(e,t,n){void 0===t&&(t="");var i=l.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==i&&-1!==i){var o=-i*p+u;l.wrapper.transition(t),l.wrapper.transform("translate3d(0,"+o+"px,0)"),a.params.updateValuesOnMomentum&&l.activeIndex&&l.activeIndex!==i&&(r.cancelAnimationFrame(m),l.wrapper.transitionEnd(function(){r.cancelAnimationFrame(m)}),M()),l.updateItems(i,o,t,n)}},l.updateItems=function(e,t,n,i){void 0===t&&(t=r.getTranslate(l.wrapper[0],"y")),void 0===e&&(e=-Math.round((t-u)/p)),e<0&&(e=0),e>=l.items.length&&(e=l.items.length-1);var s=l.activeIndex;l.activeIndex=e,l.wrapper.find(".picker-selected, .picker-after-selected, .picker-before-selected").removeClass("picker-selected picker-after-selected picker-before-selected"),l.items.transition(n);var c=l.items.eq(e).addClass("picker-selected").transform("");c.prevAll().addClass("picker-before-selected"),c.nextAll().addClass("picker-after-selected");if((i||void 0===i)&&(l.value=c.attr("data-picker-value"),l.displayValue=l.displayValues?l.displayValues[e]:l.value,s!==e&&(l.onChange&&l.onChange(a,l.value,l.displayValue),a.updateValue())),a.params.rotateEffect){Math.floor((t-u)/p);l.items.each(function(){var e=r(this),a=(e.index()*p-(u-t))/p,n=Math.ceil(l.height/p/2)+1,i=-18*a;i>180&&(i=180),i<-180&&(i=-180),Math.abs(a)>n?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-t+u)+"px, "+(o?-110:0)+"px) rotateX("+i+"deg)")})}},n&&l.updateItems(0,u,0);var h,f,g,v,w,b,C,y,x,T,k,S,P=!0;l.initEvents=function(e){var a=e?"off":"on";l.container[a](t.touchEvents.start,I),l.container[a](t.touchEvents.move,O),l.container[a](t.touchEvents.end,E),l.items[a]("click",L)},l.destroyEvents=function(){l.initEvents(!0)},l.container[0].f7DestroyPickerCol=function(){l.destroyEvents()},l.initEvents()}function M(){m=r.requestAnimationFrame(function(){l.updateItems(void 0,void 0,0),M()})}function I(e){f||h||(e.preventDefault(),h=!0,g=v="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),P=!0,C=x=r.getTranslate(l.wrapper[0],"y"))}function O(e){h&&(e.preventDefault(),P=!1,v="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,f||(r.cancelAnimationFrame(m),f=!0,C=x=r.getTranslate(l.wrapper[0],"y"),l.wrapper.transition(0)),e.preventDefault(),y=void 0,(x=C+(v-g))<d&&(x=d-Math.pow(d-x,.8),y="min"),x>u&&(x=u+Math.pow(x-u,.8),y="max"),l.wrapper.transform("translate3d(0,"+x+"px,0)"),l.updateItems(void 0,x,0,a.params.updateValuesOnTouchmove),k=x-T||x,S=(new Date).getTime(),T=x)}function E(e){if(h&&f){var t;h=f=!1,l.wrapper.transition(""),y&&("min"===y?l.wrapper.transform("translate3d(0,"+d+"px,0)"):l.wrapper.transform("translate3d(0,"+u+"px,0)")),(b=(new Date).getTime())-w>300?t=x:(Math.abs(k/(b-S)),t=x+k*a.params.momentumRatio),t=Math.max(Math.min(t,u),d);var n=-Math.floor((t-u)/p);a.params.freeMode||(t=-n*p+u),l.wrapper.transform("translate3d(0,"+parseInt(t,10)+"px,0)"),l.updateItems(n,t,"",!0),a.params.updateValuesOnMomentum&&(M(),l.wrapper.transitionEnd(function(){r.cancelAnimationFrame(m)})),setTimeout(function(){P=!0},100)}else h=f=!1}function L(e){if(P){r.cancelAnimationFrame(m);var a=r(this).attr("data-picker-value");l.setValue(a)}}},a.destroyPickerCol=function(e){"f7DestroyPickerCol"in(e=r(e))[0]&&e[0].f7DestroyPickerCol()},r(window).on("resize",p),a.columnHTML=function(e,a){var t="",n="";if(e.divider)n+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var r=0;r<e.values.length;r++)t+='<div class="picker-item" data-picker-value="'+e.values[r]+'">'+(e.displayValues?e.displayValues[r]:e.values[r])+"</div>";n+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+t+"</div></div>"}return a?t:n},a.layout=function(){var e,t;a.cols=[];var n="";for(t=0;t<a.params.cols.length;t++){var r=a.params.cols[t];n+=a.columnHTML(a.params.cols[t]),a.cols.push(r)}e='<div class="'+("picker-modal picker-columns "+(a.params.cssClass||"")+(a.params.rotateEffect?" picker-3d":""))+'">'+(a.params.toolbar?a.params.toolbarTemplate.replace(/{{closeText}}/g,a.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',a.pickerHTML=e},a.params.input&&(a.input=r(a.params.input),a.params.inputReadOnly&&a.input.prop("readOnly",!0),a.inline||a.input.on("click",c),a.params.inputReadOnly&&a.input.on("focus mousedown",function(e){e.preventDefault()})),a.inline||r("html").on("click",d),a.opened=!1,a.open=function(){var e=s();a.opened||(a.layout(),e?(a.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+a.pickerHTML+"</div></div>",a.popover=t.popover(a.pickerHTML,a.params.input,!0),a.container=r(a.popover).find(".picker-modal"),r(a.popover).on("close",function(){u()})):a.inline?(a.container=r(a.pickerHTML),a.container.addClass("picker-modal-inline"),r(a.params.container).append(a.container)):(a.container=r(t.pickerModal(a.pickerHTML)),r(a.container).on("close",function(){u()})),a.container[0].f7Picker=a,a.container.find(".picker-items-col").each(function(){var e=!0;(!a.initialized&&a.params.value||a.initialized&&a.value)&&(e=!1),a.initPickerCol(this,e)}),a.initialized?a.value&&a.setValue(a.value,0):a.params.value&&a.setValue(a.params.value,0)),a.opened=!0,a.initialized=!0,a.params.onOpen&&a.params.onOpen(a)},a.close=function(){if(a.opened&&!a.inline)return l()?void t.closeModal(a.popover):void t.closeModal(a.container)},a.destroy=function(){a.close(),a.params.input&&a.input.off("click focus",c),r("html").off("click",d),r(window).off("resize",p)},a.inline&&a.open(),a};t.picker=function(e){return new w(e)};var b,C=function(e){var a=this,n={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><span class="current-month-value"></span><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'};for(var i in e=e||{},n)void 0===e[i]&&(e[i]=n[i]);a.params=e,a.initialized=!1,a.inline=!!a.params.container,a.isH="horizontal"===a.params.direction;var o=a.isH&&t.rtl?-1:1;function s(){var e=!1;return a.params.convertToPopover||a.params.onlyInPopover?(!a.inline&&a.params.input&&(a.params.onlyInPopover?e=!0:t.device.ios?e=!!t.device.ipad:r(window).width()>=768&&(e=!0)),e):e}function l(){return!!(a.opened&&a.container&&a.container.length>0&&a.container.parents(".popover").length>0)}function p(e){if(e.preventDefault(),!a.opened&&(a.open(),a.params.scrollToInput&&!s())){var t=a.input.parents(".page-content");if(0===t.length)return;var n,r=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10),o=t[0].offsetHeight-r-a.container.height(),l=t[0].scrollHeight-r-a.container.height(),p=a.input.offset().top-r+a.input[0].offsetHeight;if(p>o){var c=t.scrollTop()+p-o;c+o>l&&(n=c+o-l+i,o===l&&(n=a.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(c,300)}}}function c(e){l()||(a.input&&a.input.length>0?e.target!==a.input[0]&&0===r(e.target).parents(".picker-modal").length&&a.close():0===r(e.target).parents(".picker-modal").length&&a.close())}function d(){a.opened=!1,a.input.parents(".page-content").css({"padding-bottom":""}),a.params.onClose&&a.params.onClose(a),a.destroyCalendarEvents()}return a.animating=!1,a.addValue=function(e){if(a.params.multiple){var t;a.value||(a.value=[]);for(var n=0;n<a.value.length;n++)new Date(e).getTime()===new Date(a.value[n]).getTime()&&(t=n);void 0===t?a.value.push(e):a.value.splice(t,1),a.updateValue()}else a.value=[e],a.updateValue()},a.setValue=function(e){a.value=e,a.updateValue()},a.updateValue=function(){var e,t,n,i,o,s,l,p;for(a.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),e=0;e<a.value.length;e++){var c=new Date(a.value[e]);a.wrapper.find('.picker-calendar-day[data-date="'+c.getFullYear()+"-"+c.getMonth()+"-"+c.getDate()+'"]').addClass("picker-calendar-day-selected")}if(a.params.onChange&&a.params.onChange(a,a.value),a.input&&a.input.length>0){if(a.params.formatValue)t=a.params.formatValue(a,a.value);else{for(t=[],e=0;e<a.value.length;e++)t.push((n=a.value[e],i=void 0,o=void 0,s=void 0,l=void 0,p=void 0,i=(n=new Date(n)).getFullYear(),o=n.getMonth(),s=o+1,l=n.getDate(),p=n.getDay(),a.params.dateFormat.replace(/yyyy/g,i).replace(/yy/g,(i+"").substring(2)).replace(/mm/g,s<10?"0"+s:s).replace(/m/g,s).replace(/MM/g,a.params.monthNames[o]).replace(/M/g,a.params.monthNamesShort[o]).replace(/dd/g,l<10?"0"+l:l).replace(/d/g,l).replace(/DD/g,a.params.dayNames[p]).replace(/D/g,a.params.dayNamesShort[p])));t=t.join(", ")}r(a.input).val(t),r(a.input).trigger("change")}},a.initCalendarEvents=function(){var e,n,i,s,l,p,c,d,u,m,h,f,g,v=!0;function w(t){n||e||(e=!0,i=p="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s=p="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,c=(new Date).getTime(),h=0,v=!0,g=void 0,d=a.monthsTranslate)}function b(t){e&&(l="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,p="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===g&&(g=!!(g||Math.abs(p-s)>Math.abs(l-i))),a.isH&&g?e=!1:(t.preventDefault(),a.animating?e=!1:(v=!1,n||(n=!0,u=a.wrapper[0].offsetWidth,m=a.wrapper[0].offsetHeight,a.wrapper.transition(0)),t.preventDefault(),f=a.isH?l-i:p-s,h=f/(a.isH?u:m),d=100*(a.monthsTranslate*o+h),a.wrapper.transform("translate3d("+(a.isH?d:0)+"%, "+(a.isH?0:d)+"%, 0)"))))}function C(r){e&&n?(e=n=!1,(new Date).getTime()-c<300?Math.abs(f)<10?a.resetMonth():f>=10?t.rtl?a.nextMonth():a.prevMonth():t.rtl?a.prevMonth():a.nextMonth():h<=-.5?t.rtl?a.prevMonth():a.nextMonth():h>=.5?t.rtl?a.nextMonth():a.prevMonth():a.resetMonth(),setTimeout(function(){v=!0},100)):e=n=!1}function y(e){if(v){var t=r(e.target).parents(".picker-calendar-day");if(0===t.length&&r(e.target).hasClass("picker-calendar-day")&&(t=r(e.target)),0!==t.length&&(!t.hasClass("picker-calendar-day-selected")||a.params.multiple)&&!t.hasClass("picker-calendar-day-disabled")){t.hasClass("picker-calendar-day-next")&&a.nextMonth(),t.hasClass("picker-calendar-day-prev")&&a.prevMonth();var n=t.attr("data-year"),i=t.attr("data-month"),o=t.attr("data-day");a.params.onDayClick&&a.params.onDayClick(a,t[0],n,i,o),a.addValue(new Date(n,i,o).getTime()),a.params.closeOnSelect&&a.close()}}}a.container.find(".picker-calendar-prev-month").on("click",a.prevMonth),a.container.find(".picker-calendar-next-month").on("click",a.nextMonth),a.container.find(".picker-calendar-prev-year").on("click",a.prevYear),a.container.find(".picker-calendar-next-year").on("click",a.nextYear),a.wrapper.on("click",y),a.params.touchMove&&(a.wrapper.on(t.touchEvents.start,w),a.wrapper.on(t.touchEvents.move,b),a.wrapper.on(t.touchEvents.end,C)),a.container[0].f7DestroyCalendarEvents=function(){a.container.find(".picker-calendar-prev-month").off("click",a.prevMonth),a.container.find(".picker-calendar-next-month").off("click",a.nextMonth),a.container.find(".picker-calendar-prev-year").off("click",a.prevYear),a.container.find(".picker-calendar-next-year").off("click",a.nextYear),a.wrapper.off("click",y),a.params.touchMove&&(a.wrapper.off(t.touchEvents.start,w),a.wrapper.off(t.touchEvents.move,b),a.wrapper.off(t.touchEvents.end,C))}},a.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in a.container[0]&&a.container[0].f7DestroyCalendarEvents()},a.daysInMonth=function(e){var a=new Date(e);return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},a.monthHTML=function(e,t){var n=(e=new Date(e)).getFullYear(),r=e.getMonth();e.getDate();"next"===t&&(e=11===r?new Date(n+1,0):new Date(n,r+1,1)),"prev"===t&&(e=0===r?new Date(n-1,11):new Date(n,r-1,1)),"next"!==t&&"prev"!==t||(r=e.getMonth(),n=e.getFullYear());var i=a.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),o=a.daysInMonth(e),s=new Date(e.getFullYear(),e.getMonth()).getDay();0===s&&(s=7);var l,p,c,d=[],u="",m=a.params.firstDay-1+0,h=(new Date).setHours(0,0,0,0),f=a.params.minDate?new Date(a.params.minDate).getTime():null,g=a.params.maxDate?new Date(a.params.maxDate).getTime():null;if(a.value&&a.value.length)for(p=0;p<a.value.length;p++)d.push(new Date(a.value[p]).setHours(0,0,0,0));for(p=1;p<=6;p++){var v="";for(c=1;c<=7;c++){var w=c,b=++m-s,C="";b<0?(b=i+b+1,C+=" picker-calendar-day-prev",l=new Date(r-1<0?n-1:n,r-1<0?11:r-1,b).getTime()):(b+=1)>o?(b-=o,C+=" picker-calendar-day-next",l=new Date(r+1>11?n+1:n,r+1>11?0:r+1,b).getTime()):l=new Date(n,r,b).getTime(),l===h&&(C+=" picker-calendar-day-today"),d.indexOf(l)>=0&&(C+=" picker-calendar-day-selected"),a.params.weekendDays.indexOf(w-1)>=0&&(C+=" picker-calendar-day-weekend"),(f&&l<f||g&&l>g)&&(C+=" picker-calendar-day-disabled");var y=(l=new Date(l)).getFullYear(),x=l.getMonth();v+='<div data-year="'+y+'" data-month="'+x+'" data-day="'+b+'" class="picker-calendar-day'+C+'" data-date="'+y+"-"+x+"-"+b+'"><span>'+b+"</span></div>"}u+='<div class="picker-calendar-row">'+v+"</div>"}return u='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+r+'">'+u+"</div>"},a.animating=!1,a.updateCurrentMonthYear=function(e){void 0===e?(a.currentMonth=parseInt(a.months.eq(1).attr("data-month"),10),a.currentYear=parseInt(a.months.eq(1).attr("data-year"),10)):(a.currentMonth=parseInt(a.months.eq("next"===e?a.months.length-1:0).attr("data-month"),10),a.currentYear=parseInt(a.months.eq("next"===e?a.months.length-1:0).attr("data-year"),10)),a.container.find(".current-month-value").text(a.params.monthNames[a.currentMonth]),a.container.find(".current-year-value").text(a.currentYear)},a.onMonthChangeStart=function(e){a.updateCurrentMonthYear(e),a.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?a.months.length-1:0;a.months.eq(t).addClass("picker-calendar-month-current"),a.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),a.params.onMonthYearChangeStart&&a.params.onMonthYearChangeStart(a,a.currentYear,a.currentMonth)},a.onMonthChangeEnd=function(e,t){var n,r,i;a.animating=!1,a.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),void 0===e&&(e="next",t=!0),t?(a.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),r=a.monthHTML(new Date(a.currentYear,a.currentMonth),"prev"),n=a.monthHTML(new Date(a.currentYear,a.currentMonth),"next")):i=a.monthHTML(new Date(a.currentYear,a.currentMonth),e),("next"===e||t)&&a.wrapper.append(i||n),("prev"===e||t)&&a.wrapper.prepend(i||r),a.months=a.wrapper.find(".picker-calendar-month"),a.setMonthsTranslate(a.monthsTranslate),a.params.onMonthAdd&&a.params.onMonthAdd(a,"next"===e?a.months.eq(a.months.length-1)[0]:a.months.eq(0)[0]),a.params.onMonthYearChangeEnd&&a.params.onMonthYearChangeEnd(a,a.currentYear,a.currentMonth)},a.setMonthsTranslate=function(e){e=e||a.monthsTranslate||0,void 0===a.monthsTranslate&&(a.monthsTranslate=e),a.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*o,n=100*-e*o,r=100*-(e-1)*o;a.months.eq(0).transform("translate3d("+(a.isH?t:0)+"%, "+(a.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),a.months.eq(1).transform("translate3d("+(a.isH?n:0)+"%, "+(a.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),a.months.eq(2).transform("translate3d("+(a.isH?r:0)+"%, "+(a.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next")},a.nextMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",a.params.animate||(e=0));var t=parseInt(a.months.eq(a.months.length-1).attr("data-month"),10),n=parseInt(a.months.eq(a.months.length-1).attr("data-year"),10),i=new Date(n,t).getTime(),s=!a.animating;if(a.params.maxDate&&i>new Date(a.params.maxDate).getTime())return a.resetMonth();if(a.monthsTranslate--,t===a.currentMonth){var l=100*-a.monthsTranslate*o,p=r(a.monthHTML(i,"next")).transform("translate3d("+(a.isH?l:0)+"%, "+(a.isH?0:l)+"%, 0)").addClass("picker-calendar-month-next");a.wrapper.append(p[0]),a.months=a.wrapper.find(".picker-calendar-month"),a.params.onMonthAdd&&a.params.onMonthAdd(a,a.months.eq(a.months.length-1)[0])}a.animating=!0,a.onMonthChangeStart("next");var c=100*a.monthsTranslate*o;a.wrapper.transition(e).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)"),s&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd("next")}),a.params.animate||a.onMonthChangeEnd("next")},a.prevMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",a.params.animate||(e=0));var t=parseInt(a.months.eq(0).attr("data-month"),10),n=parseInt(a.months.eq(0).attr("data-year"),10),i=new Date(n,t+1,-1).getTime(),s=!a.animating;if(a.params.minDate&&i<new Date(a.params.minDate).getTime())return a.resetMonth();if(a.monthsTranslate++,t===a.currentMonth){var l=100*-a.monthsTranslate*o,p=r(a.monthHTML(i,"prev")).transform("translate3d("+(a.isH?l:0)+"%, "+(a.isH?0:l)+"%, 0)").addClass("picker-calendar-month-prev");a.wrapper.prepend(p[0]),a.months=a.wrapper.find(".picker-calendar-month"),a.params.onMonthAdd&&a.params.onMonthAdd(a,a.months.eq(0)[0])}a.animating=!0,a.onMonthChangeStart("prev");var c=100*a.monthsTranslate*o;a.wrapper.transition(e).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)"),s&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd("prev")}),a.params.animate||a.onMonthChangeEnd("prev")},a.resetMonth=function(e){void 0===e&&(e="");var t=100*a.monthsTranslate*o;a.wrapper.transition(e).transform("translate3d("+(a.isH?t:0)+"%, "+(a.isH?0:t)+"%, 0)")},a.setYearMonth=function(e,t,n){var r;if(void 0===e&&(e=a.currentYear),void 0===t&&(t=a.currentMonth),void 0!==n&&"object"!=typeof n||(n="",a.params.animate||(n=0)),r=e<a.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),a.params.maxDate&&r>new Date(a.params.maxDate).getTime())return!1;if(a.params.minDate&&r<new Date(a.params.minDate).getTime())return!1;var i=new Date(a.currentYear,a.currentMonth).getTime(),s=r>i?"next":"prev",l=a.monthHTML(new Date(e,t));a.monthsTranslate=a.monthsTranslate||0;var p,c,d=a.monthsTranslate,u=!a.animating;r>i?(a.monthsTranslate--,a.animating||a.months.eq(a.months.length-1).remove(),a.wrapper.append(l),a.months=a.wrapper.find(".picker-calendar-month"),p=100*-(d-1)*o,a.months.eq(a.months.length-1).transform("translate3d("+(a.isH?p:0)+"%, "+(a.isH?0:p)+"%, 0)").addClass("picker-calendar-month-next")):(a.monthsTranslate++,a.animating||a.months.eq(0).remove(),a.wrapper.prepend(l),a.months=a.wrapper.find(".picker-calendar-month"),p=100*-(d+1)*o,a.months.eq(0).transform("translate3d("+(a.isH?p:0)+"%, "+(a.isH?0:p)+"%, 0)").addClass("picker-calendar-month-prev")),a.params.onMonthAdd&&a.params.onMonthAdd(a,"next"===s?a.months.eq(a.months.length-1)[0]:a.months.eq(0)[0]),a.animating=!0,a.onMonthChangeStart(s),c=100*a.monthsTranslate*o,a.wrapper.transition(n).transform("translate3d("+(a.isH?c:0)+"%, "+(a.isH?0:c)+"%, 0)"),u&&a.wrapper.transitionEnd(function(){a.onMonthChangeEnd(s,!0)}),a.params.animate||a.onMonthChangeEnd(s)},a.nextYear=function(){a.setYearMonth(a.currentYear+1)},a.prevYear=function(){a.setYearMonth(a.currentYear-1)},a.layout=function(){var e,t,n,r=a.value&&a.value.length?a.value[0]:(new Date).setHours(0,0,0,0),i='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(a.monthHTML(r,"prev")+a.monthHTML(r)+a.monthHTML(r,"next"))+"</div></div>",o="";if(a.params.weekHeader){for(n=0;n<7;n++){var s=n+a.params.firstDay>6?n-7+a.params.firstDay:n+a.params.firstDay,l=a.params.dayNamesShort[s];o+='<div class="picker-calendar-week-day '+(a.params.weekendDays.indexOf(s)>=0?"picker-calendar-week-day-weekend":"")+'"> '+l+"</div>"}o='<div class="picker-calendar-week-days">'+o+"</div>"}t="picker-modal picker-calendar "+(a.params.cssClass||"");var p=a.params.toolbar?a.params.toolbarTemplate.replace(/{{closeText}}/g,a.params.toolbarCloseText):"";a.params.toolbar&&(p=a.params.toolbarTemplate.replace(/{{closeText}}/g,a.params.toolbarCloseText).replace(/{{monthPicker}}/g,a.params.monthPicker?a.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,a.params.yearPicker?a.params.yearPickerTemplate:"")),e='<div class="'+t+'">'+p+'<div class="picker-modal-inner">'+o+i+"</div></div>",a.pickerHTML=e},a.params.input&&(a.input=r(a.params.input),a.params.inputReadOnly&&a.input.prop("readOnly",!0),a.inline||a.input.on("click",p),a.params.inputReadOnly&&a.input.on("focus mousedown",function(e){e.preventDefault()})),a.inline||r("html").on("click",c),a.opened=!1,a.open=function(){var e=s(),n=!1;a.opened||(a.value||a.params.value&&(a.value=a.params.value,n=!0),a.layout(),e?(a.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+a.pickerHTML+"</div></div>",a.popover=t.popover(a.pickerHTML,a.params.input,!0),a.container=r(a.popover).find(".picker-modal"),r(a.popover).on("close",function(){d()})):a.inline?(a.container=r(a.pickerHTML),a.container.addClass("picker-modal-inline"),r(a.params.container).append(a.container)):(a.container=r(t.pickerModal(a.pickerHTML)),r(a.container).on("close",function(){d()})),a.container[0].f7Calendar=a,a.wrapper=a.container.find(".picker-calendar-months-wrapper"),a.months=a.wrapper.find(".picker-calendar-month"),a.updateCurrentMonthYear(),a.monthsTranslate=0,a.setMonthsTranslate(),a.initCalendarEvents(),n&&a.updateValue()),a.opened=!0,a.initialized=!0,a.params.onMonthAdd&&a.months.each(function(){a.params.onMonthAdd(a,this)}),a.params.onOpen&&a.params.onOpen(a)},a.close=function(){if(a.opened&&!a.inline)return l()?void t.closeModal(a.popover):void t.closeModal(a.container)},a.destroy=function(){a.close(),a.params.input&&a.input.off("click focus",p),r("html").off("click",c)},a.inline&&a.open(),a};t.calendar=function(e){return new C(e)},t.addNotification=function(e){if(e){void 0===e.media&&(e.media=t.params.notificationMedia),void 0===e.title&&(e.title=t.params.notificationTitle),void 0===e.subtitle&&(e.subtitle=t.params.notificationSubtitle),void 0===e.closeIcon&&(e.closeIcon=t.params.notificationCloseIcon),void 0===e.hold&&(e.hold=t.params.notificationHold),void 0===e.closeOnClick&&(e.closeOnClick=t.params.notificationCloseOnClick),b||(b=document.createElement("div"));var a=r(".notifications");0===a.length&&(r("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),a=r(".notifications"));var n,i=a.children("ul");n=e.custom?"<li>"+e.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(e.media?'<div class="item-media">'+e.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(e.title?'<div class="item-title">'+e.title+"</div>":"")+(e.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(e.subtitle?'<div class="item-subtitle">'+e.subtitle+"</div>":"")+(e.message?'<div class="item-text">'+e.message+"</div>":"")+"</div></div></li>",b.innerHTML=n;var o=r(b).children();o.on("click",function(a){var n=!1;r(a.target).is(".close-notification")||r(a.target).parents(".close-notification").length>0?n=!0:(e.onClick&&e.onClick(a,o[0]),e.closeOnClick&&(n=!0)),n&&t.closeNotification(o[0])}),e.onClose&&o.data("f7NotificationOnClose",function(){e.onClose(o[0])}),e.additionalClass&&o.addClass(e.additionalClass),e.hold&&setTimeout(function(){o.length>0&&t.closeNotification(o[0])},e.hold),i.prepend(o[0]),a.show();var s=o.outerHeight();o.css("marginTop",-s+"px"),o.transition(0);o[0].clientLeft;return o.transition(""),o.css("marginTop","0px"),a.transform("translate3d(0, 0,0)"),o.removeClass("notification-hidden"),o[0]}},t.closeNotification=function(e){if(0!==(e=r(e)).length&&!e.hasClass("notification-item-removing")){var a=r(".notifications"),t=e.outerHeight();e.css("height",t+"px").transition(0);e[0].clientLeft;e.css("height","0px").transition("").addClass("notification-item-removing"),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===a.find(".notification-item:not(.notification-item-removing)").length&&a.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===a.find(".notification-item").length&&a.hide()})}},t.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||t.params.templates||{},Template7.data=Template7.data||t.params.template7Data||{},Template7.cache=Template7.cache||{},t.templates=Template7.templates,t.template7Data=Template7.data,t.template7Cache=Template7.cache,t.params.precompileTemplates&&r('script[type="text/template7"]').each(function(){var e=r(this).attr("id");e&&(Template7.templates[e]=Template7.compile(r(this).html()))}))};var y=[];return t.initPlugins=function(){for(var e in t.plugins){var a=t.plugins[e](t,t.params[e]);a&&y.push(a)}},t.pluginHook=function(e){for(var a=0;a<y.length;a++)y[a].hooks&&e in y[a].hooks&&y[a].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},t.pluginPrevent=function(e){for(var a=!1,t=0;t<y.length;t++)y[t].prevents&&e in y[t].prevents&&y[t].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(a=!0);return a},t.pluginProcess=function(e,a){for(var t=a,n=0;n<y.length;n++)y[n].preprocess&&process in y[n].preprocess&&(t=y[n].preprocess[process](a,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return t},t.init=function(){t.initTemplate7Templates&&t.initTemplate7Templates(),t.initPlugins&&t.initPlugins(),t.getDeviceInfo&&t.getDeviceInfo(),t.initFastClicks&&t.params.fastClicks&&t.initFastClicks(),t.initClickEvents&&t.initClickEvents(),r(".page:not(.cached)").each(function(){t.initPageWithCallback(this)}),t.initResize&&t.initResize(),t.initPushState&&t.params.pushState&&t.initPushState(),t.initSwipeout&&t.params.swipeout&&t.initSwipeout(),t.initSortable&&t.params.sortable&&t.initSortable(),t.initSwipePanels&&(t.params.swipePanel||t.params.swipePanelOnlyClose)&&t.initSwipePanels(),t.params.onAppInit&&t.params.onAppInit(),t.pluginHook("appInit")},t.params.init&&t.init(),t};var e=function(){var e=function(e){var a=0;for(a=0;a<e.length;a++)this[a]=e[a];return this.length=e.length,this},a=function(a,t){var n=[],r=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var i,o,s=a.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),(o=document.createElement(l)).innerHTML=a,r=0;r<o.childNodes.length;r++)n.push(o.childNodes[r])}else for(i=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],r=0;r<i.length;r++)i[r]&&n.push(i[r])}else if(a.nodeType||a===window||a===document)n.push(a);else if(a.length>0&&a[0].nodeType)for(r=0;r<a.length;r++)n.push(a[r]);return new e(n)};e.prototype={addClass:function(e){if(void 0===e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&this[n].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&this[n].classList.remove(a[t]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&this[n].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var n in e)this[t][n]=e[n],this[t].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e)},prop:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t][e]=a;else for(var n in e)this[t][n]=e[n];return this},data:function(e,a){if(void 0!==a){for(var t=0;t<this.length;t++){var n=this[t];n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=a}return this}if(this[0]){var r=this[0].getAttribute("data-"+e);return r||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)}},dataset:function(){var e=this[0];if(e){var t={};if(e.dataset)for(var n in e.dataset)t[n]=e.dataset[n];else for(var r=0;r<e.attributes.length;r++){var i=e.attributes[r];i.name.indexOf("data-")>=0&&(t[a.camelCase(i.name.split("data-")[1])]=i.value)}for(var o in t)"false"===t[o]?t[o]=!1:"true"===t[o]?t[o]=!0:parseFloat(t[o])===1*t[o]&&(t[o]=1*t[o]);return t}},val:function(e){if(void 0===e)return this[0]?this[0].value:void 0;for(var a=0;a<this.length;a++)this[a].value=e;return this},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,n,r){function i(e){var r=e.target;if(a(r).is(t))n.call(r,e);else for(var i=a(r).parents(),o=0;o<i.length;o++)a(i[o]).is(t)&&n.call(i[o],e)}var o,s,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof t||!1===t)for("function"==typeof t&&(n=arguments[1],r=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],n,r);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:n,liveListener:i}),this[o].addEventListener(l[s],i,r);return this},off:function(e,a,t,n){for(var r=e.split(" "),i=0;i<r.length;i++)for(var o=0;o<this.length;o++)if("function"==typeof a||!1===a)"function"==typeof a&&(t=arguments[1],n=arguments[2]||!1),this[o].removeEventListener(r[i],t,n);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===t&&this[o].removeEventListener(r[i],this[o].dom7LiveListeners[s].liveListener,n);return this},once:function(e,a,t,n){var r=this;"function"==typeof a&&(a=!1,t=arguments[1],n=arguments[2]),r.on(e,a,function i(o){t(o),r.off(e,a,i,n)},n)},trigger:function(e,a){for(var t=0;t<this.length;t++){var n;try{n=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(t){(n=document.createEvent("Event")).initEvent(e,!0,!0),n.detail=a}this[t].dispatchEvent(n)}return this},transitionEnd:function(e){var a,t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;function r(i){if(i.target===this)for(e.call(this,i),a=0;a<t.length;a++)n.off(t[a],r)}if(e)for(a=0;a<t.length;a++)n.on(t[a],r);return this},animationEnd:function(e){var a,t=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],n=this;function r(i){for(e(i),a=0;a<t.length;a++)n.off(t[a],r)}if(e)for(a=0;a<t.length;a++)n.on(t[a],r);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,n=e.clientTop||t.clientTop||0,r=e.clientLeft||t.clientLeft||0,i=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:a.top+i-n,left:a.left+o-r}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var n in e)this[t].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var a=0;a<this.length;a++)this[a].textContent=e},is:function(t){if(!this[0])return!1;var n,r;if("string"==typeof t){var i=this[0];if(i===document)return t===document;if(i===window)return t===window;if(i.matches)return i.matches(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector)return i.mozMatchesSelector(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);for(n=a(t),r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(n=t.nodeType?[t]:t,r=0;r<n.length;r++)if(n[r]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var a=0;a<this.length;a++)if(this[a]===e)return a},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}},eq:function(a){if(void 0===a)return this;var t,n=this.length;return new e(a>n-1?[]:a<0?(t=n+a)<0?[]:[this[t]]:[this[a]])},append:function(a){var t,n;for(t=0;t<this.length;t++)if("string"==typeof a){var r=document.createElement("div");for(r.innerHTML=a;r.firstChild;)this[t].appendChild(r.firstChild)}else if(a instanceof e)for(n=0;n<a.length;n++)this[t].appendChild(a[n]);else this[t].appendChild(a);return this},prepend:function(a){var t,n;for(t=0;t<this.length;t++)if("string"==typeof a){var r=document.createElement("div");for(r.innerHTML=a,n=r.childNodes.length-1;n>=0;n--)this[t].insertBefore(r.childNodes[n],this[t].childNodes[0])}else if(a instanceof e)for(n=0;n<a.length;n++)this[t].insertBefore(a[n],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),n=0;n<this.length;n++)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(t.length>1)for(var r=0;r<t.length;r++)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r])},insertAfter:function(e){for(var t=a(e),n=0;n<this.length;n++)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(t.length>1)for(var r=0;r<t.length;r++)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r].nextSibling)},next:function(t){return this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?new e([this[0].nextElementSibling]):new e([]):this[0].nextElementSibling?new e([this[0].nextElementSibling]):new e([]):new e([])},nextAll:function(t){var n=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var i=r.nextElementSibling;t?a(i).is(t)&&n.push(i):n.push(i),r=i}return new e(n)},prev:function(t){return this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?new e([this[0].previousElementSibling]):new e([]):this[0].previousElementSibling?new e([this[0].previousElementSibling]):new e([]):new e([])},prevAll:function(t){var n=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var i=r.previousElementSibling;t?a(i).is(t)&&n.push(i):n.push(i),r=i}return new e(n)},parent:function(e){for(var t=[],n=0;n<this.length;n++)e?a(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n].parentNode;r;)e?a(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],n=0;n<this.length;n++)for(var r=this[n].querySelectorAll(a),i=0;i<r.length;i++)t.push(r[i]);return new e(t)},children:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].childNodes,o=0;o<i.length;o++)t?1===i[o].nodeType&&a(i[o]).is(t)&&n.push(i[o]):1===i[o].nodeType&&n.push(i[o]);return new e(a.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(){var e,t;for(e=0;e<arguments.length;e++){var n=a(arguments[e]);for(t=0;t<n.length;t++)this[this.length]=n[t],this.length++}return this}},function(){var t="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),n="resize scroll".split(" ");function r(t){e.prototype[t]=function(e){var r;if(void 0===e){for(r=0;r<this.length;r++)n.indexOf(t)<0&&(t in this[r]?this[r][t]():a(this[r]).trigger(t));return this}return this.on(t,e)}}for(var i=0;i<t.length;i++)r(t[i])}();var t={};a.ajaxSetup=function(e){e.type&&(e.method=e.type),a.each(e,function(e,a){t[e]=a})};var n=0;return a.ajax=function(e){var r={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},i=["beforeSend","error","complete","success","statusCode"];function o(n,r,i){var o=arguments;n&&a(document).trigger(n,r),i&&(i in t&&t[i](o[3],o[4],o[5],o[6]),e[i]&&e[i](o[3],o[4],o[5],o[6]))}e.type&&(e.method=e.type),a.each(t,function(e,a){i.indexOf(e)<0&&(r[e]=a)}),a.each(r,function(a,t){a in e||(e[a]=t)}),e.url||(e.url=window.location.toString());var s,l=e.url.indexOf("?")>=0?"&":"?",p=e.method.toUpperCase();"GET"!==p&&"HEAD"!==p||!e.data||(s="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:a.serializeObject(e.data),e.url+=l+s);if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var c,d="f7jsonp_"+Date.now()+n++,u=e.url.split("callback="),m=u[0]+"callback="+d;if(u[1].indexOf("&")>=0){var h=u[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");h.length>0&&(m+="&"+h)}var f=document.createElement("script");return f.type="text/javascript",f.onerror=function(){clearTimeout(c),o(void 0,void 0,"error",null,"scripterror")},f.src=m,window[d]=function(e){clearTimeout(c),o(void 0,void 0,"success",e),f.parentNode.removeChild(f),f=null,delete window[d]},document.querySelector("head").appendChild(f),void(e.timeout>0&&(c=setTimeout(function(){f.parentNode.removeChild(f),f=null,o(void 0,void 0,"error",null,"timeout")},e.timeout)))}"GET"!==p&&"HEAD"!==p||!1===e.cache&&(e.url+=l+"_nocache="+Date.now());var g=new XMLHttpRequest;g.requestUrl=e.url,g.open(p,e.url,e.async,e.user,e.password);var v,w=null;if(("POST"===p||"PUT"===p)&&e.data)if(e.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(e.data.constructor)>=0)w=e.data;else{var b="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?g.setRequestHeader("Content-Type","multipart/form-data; boundary="+b):g.setRequestHeader("Content-Type",e.contentType),w="";var C=a.serializeObject(e.data);if("multipart/form-data"===e.contentType){b="---------------------------"+Date.now().toString(16),C=C.split("&");for(var y=[],x=0;x<C.length;x++)y.push('Content-Disposition: form-data; name="'+C[x].split("=")[0]+'"\r\n\r\n'+C[x].split("=")[1]+"\r\n");w="--"+b+"\r\n"+y.join("--"+b+"\r\n")+"--"+b+"--\r\n"}else w="application/x-www-form-urlencoded"===e.contentType?C:C.replace(/&/g,"\r\n")}else w=e.data;return e.headers&&a.each(e.headers,function(e,a){g.setRequestHeader(e,a)}),void 0===e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||g.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields&&a.each(e.xhrFields,function(e,a){g[e]=a}),g.onload=function(a){var n;if(v&&clearTimeout(v),200===g.status||0===g.status)if("json"===e.dataType)try{n=JSON.parse(g.responseText),o("ajaxSuccess",{xhr:g},"success",n,g.status,g)}catch(e){o("ajaxError",{xhr:g,parseerror:!0},"error",g,"parseerror")}else o("ajaxSuccess",{xhr:g},"success",g.responseText,g.status,g);else o("ajaxError",{xhr:g},"error",g,g.status);e.statusCode&&(t.statusCode&&t.statusCode[g.status]&&t.statusCode[g.status](g),e.statusCode[g.status]&&e.statusCode[g.status](g)),o("ajaxComplete",{xhr:g},"complete",g,g.status)},g.onerror=function(e){v&&clearTimeout(v),o("ajaxError",{xhr:g},"error",g,g.status)},o("ajaxStart",{xhr:g},"start",g),o(void 0,void 0,"beforeSend",g),g.send(w),e.timeout>0&&(v=setTimeout(function(){g.abort(),o("ajaxError",{xhr:g,timeout:!0},"error",g,"timeout"),o("ajaxComplete",{xhr:g,timeout:!0},"complete",g,"timeout")},e.timeout)),g},function(){var e="get post getJSON".split(" ");function t(e){a[e]=function(t,n,r){return a.ajax({url:t,method:"post"===e?"POST":"GET",data:"function"==typeof n?void 0:n,success:"function"==typeof n?n:r,dataType:"getJSON"===e?"json":void 0})}}for(var n=0;n<e.length;n++)t(e[n])}(),a.parseUrlQuery=function(e){var a,t,n,r={};if(!(e.indexOf("?")>=0))return r;for(t=(e=e.split("?")[1]).split("&"),a=0;a<t.length;a++)r[(n=t[a].split("="))[0]]=n[1];return r},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},a.each=function(t,n){var r,i;if("object"==typeof t&&n)if(a.isArray(t)||t instanceof e)for(r=0;r<t.length;r++)n(r,t[r]);else for(i in t)t.hasOwnProperty(i)&&n(i,t[i])},a.unique=function(e){for(var a=[],t=0;t<e.length;t++)-1===a.indexOf(e[t])&&a.push(e[t]);return a},a.serializeObject=function(e){if("string"==typeof e)return e;var t=[];for(var n in e)if(a.isArray(e[n])){for(var r=[],i=0;i<e[n].length;i++)r.push(n+"="+e[n][i]);t.push(r.join("&"))}else t.push(n+"="+e[n]);return t.join("&")},a.camelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,a){return a.toUpperCase()})},a.dataset=function(e){return a(e).dataset()},a.getTranslate=function(e,a){var t,n,r,i;return void 0===a&&(a="x"),r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?i=new WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):t=(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===a&&(n=window.WebKitCSSMatrix?i.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(n=window.WebKitCSSMatrix?i.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0},a.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},a.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},a.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),a.fn=e.prototype,a.fn.scrollTo=function(e,t,n,r,i){return 4===arguments.length&&"function"==typeof r&&(i=r,r=void 0),this.each(function(){var o,s,l,p,c,d,u,m,h=this,f=t>0||0===t,g=e>0||0===e;if(void 0===r&&(r="swing"),f&&(o=h.scrollTop,n||(h.scrollTop=t)),g&&(s=h.scrollLeft,n||(h.scrollLeft=e)),n){f&&(l=h.scrollHeight-h.offsetHeight,c=Math.max(Math.min(t,l),0)),g&&(p=h.scrollWidth-h.offsetWidth,d=Math.max(Math.min(e,p),0));var v=null;f&&c===o&&(f=!1),g&&d===s&&(g=!1),a.requestAnimationFrame(function e(t){var l;void 0===t&&(t=(new Date).getTime()),null===v&&(v=t);var p=Math.max(Math.min((t-v)/n,1),0),w="linear"===r?p:.5-Math.cos(p*Math.PI)/2;f&&(u=o+w*(c-o)),g&&(m=s+w*(d-s)),f&&c>o&&u>=c&&(h.scrollTop=c,l=!0),f&&c<o&&u<=c&&(h.scrollTop=c,l=!0),g&&d>s&&m>=d&&(h.scrollLeft=d,l=!0),g&&d<s&&m<=d&&(h.scrollLeft=d,l=!0),l?i&&i():(f&&(h.scrollTop=u),g&&(h.scrollLeft=m),a.requestAnimationFrame(e))})}})},a.fn.scrollTop=function(e,a,t,n){3===arguments.length&&"function"==typeof t&&(n=t,t=void 0);return void 0===e?this.length>0?this[0].scrollTop:null:this.scrollTo(void 0,e,a,t,n)},a.fn.scrollLeft=function(e,a,t,n){3===arguments.length&&"function"==typeof t&&(n=t,t=void 0);return void 0===e?this.length>0?this[0].scrollLeft:null:this.scrollTo(e,void 0,a,t,n)},a}();Framework7.$=e;var a,t;window.Dom7=e,Framework7.prototype.support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},Framework7.prototype.device=function(){var a={},t=navigator.userAgent,n=e,r=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),s=!i&&t.match(/(iPhone\sOS)\s([\d_]+)/);if(a.ios=a.android=a.iphone=a.ipad=a.androidChrome=!1,r&&(a.os="android",a.osVersion=r[2],a.android=!0,a.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(i||s||o)&&(a.os="ios",a.ios=!0),s&&!o&&(a.osVersion=s[2].replace(/_/g,"."),a.iphone=!0),i&&(a.osVersion=i[2].replace(/_/g,"."),a.ipad=!0),o&&(a.osVersion=o[3]?o[3].replace(/_/g,"."):null,a.iphone=!0),a.ios&&a.osVersion&&t.indexOf("Version/")>=0&&"10"===a.osVersion.split(".")[0]&&(a.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),a.webView=(s||i||o)&&t.match(/.*AppleWebKit(?!.*Safari)/i),a.os&&"ios"===a.os){var l=a.osVersion.split(".");a.minimalUi=!a.webView&&(o||s)&&(1*l[0]==7?1*l[1]>=1:1*l[0]>7)&&n('meta[name="viewport"]').length>0&&n('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var p=n(window).width(),c=n(window).height();a.statusBar=!1,a.webView&&p*c==screen.width*screen.height?a.statusBar=!0:a.statusBar=!1;var d=[];if(a.pixelRatio=window.devicePixelRatio||1,d.push("pixel-ratio-"+Math.floor(a.pixelRatio)),a.pixelRatio>=2&&d.push("retina"),a.os&&(d.push(a.os,a.os+"-"+a.osVersion.split(".")[0],a.os+"-"+a.osVersion.replace(/\./g,"-")),"ios"===a.os))for(var u=parseInt(a.osVersion.split(".")[0],10)-1;u>=6;u--)d.push("ios-gt-"+u);return a.statusBar?d.push("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay"),d.length>0&&n("html").addClass(d.join(" ")),a}(),Framework7.prototype.plugins={},window.Template7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function a(e){return"function"==typeof e}function t(e){var a,t,n,r=e.replace(/[{}#}]/g,"").split(" "),i=[];for(t=0;t<r.length;t++){var o=r[t];if(0===t)i.push(o);else if(0===o.indexOf('"'))if(2===o.match(/"/g).length)i.push(o);else{for(a=0,n=t+1;n<r.length;n++)if(o+=" "+r[n],r[n].indexOf('"')>=0){a=n,i.push(o);break}a&&(t=a)}else if(o.indexOf("=")>0){var s=o.split("="),l=s[0],p=s[1];if(2!==p.match(/"/g).length){for(a=0,n=t+1;n<r.length;n++)if(p+=" "+r[n],r[n].indexOf('"')>=0){a=n;break}a&&(t=a)}var c=[l,p.replace(/"/g,"")];i.push(c)}else i.push(o)}return i}var n=function(a){var n=this;function r(e,a){return e.content?l(e.content,a):function(){return""}}function i(e,a){return e.inverseContent?l(e.inverseContent,a):function(){return""}}function o(e,a){var t;if(e.indexOf("@global")>=0)t="(Template7.global && Template7.global."+e.split("@global.")[1]+")";else if(e.indexOf("@")>=0)t="(data && data."+e.replace("@","")+")";else if(e.indexOf(".")>0)t=0===e.indexOf("this")?e.replace("this",a):a+"."+e;else if(0===e.indexOf("../")){var n=e.split("../").length-1,r=e.split("../")[e.split("../").length-1],i=a.split("_")[1]-n;t="ctx_"+(i>=1?i:1)+"."+r}else t="this"===e?a:a+"."+e;return t}function s(e,a){for(var t=[],n=0;n<e.length;n++)0===e[n].indexOf('"')?t.push(e[n]):t.push(o(e[n],a));return t.join(", ")}function l(a,l){if(l=l||1,"string"!=typeof(a=a||n.template))throw new Error("Template7: Template must be a string");var p=function(a){var n,r,i=[];if(!a)return[];var o=a.split(/({{[^{^}]*}})/);for(n=0;n<o.length;n++){var s=o[n];if(""!==s)if(s.indexOf("{{")<0)i.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){i.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var l=t(s),p=l[0],c=[],d={};for(r=1;r<l.length;r++){var u=l[r];e(u)?d[u[0]]="false"!==u[1]&&u[1]:c.push(u)}if(s.indexOf("{#")>=0){var m,h="",f="",g=0,v=!1,w=!1,b=0;for(r=n+1;r<o.length;r++)if(o[r].indexOf("{{#")>=0&&b++,o[r].indexOf("{{/")>=0&&b--,o[r].indexOf("{{#"+p)>=0)h+=o[r],w&&(f+=o[r]),g++;else if(o[r].indexOf("{{/"+p)>=0){if(!(g>0)){m=r,v=!0;break}g--,h+=o[r],w&&(f+=o[r])}else o[r].indexOf("else")>=0&&0===b?w=!0:(w||(h+=o[r]),w&&(f+=o[r]));v&&(m&&(n=m),i.push({type:"helper",helperName:p,contextName:c,content:h,inverseContent:f,hash:d}))}else s.indexOf(" ")>0&&i.push({type:"helper",helperName:p,contextName:c,hash:d})}}return i}(a);if(0===p.length)return function(){return""};var c,d="ctx_"+l,u="(function ("+d+", data) {\n";for(1===l&&(u+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",u+="function isFunction(func){return (typeof func === 'function');}\n",u+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),u+="var r = '';\n",c=0;c<p.length;c++){var m,h,f=p[c];if("plain"!==f.type){if("variable"===f.type&&(u+="r += c("+(m=o(f.contextName,d))+", "+d+");"),"helper"===f.type)if(f.helperName in n.helpers)h=s(f.contextName,d),u+="r += (Template7.helpers."+f.helperName+").call("+d+", "+(h&&h+",")+"{hash:"+JSON.stringify(f.hash)+", data: data || {}, fn: "+r(f,l+1)+", inverse: "+i(f,l+1)+"});";else{if(f.contextName.length>0)throw new Error('Template7: Missing helper: "'+f.helperName+'"');u+="if ("+(m=o(f.helperName,d))+") {",u+="if (isArray("+m+")) {",u+="r += (Template7.helpers.each).call("+d+", "+m+", {hash:"+JSON.stringify(f.hash)+", data: data || {}, fn: "+r(f,l+1)+", inverse: "+i(f,l+1)+"});",u+="}else {",u+="r += (Template7.helpers.with).call("+d+", "+m+", {hash:"+JSON.stringify(f.hash)+", data: data || {}, fn: "+r(f,l+1)+", inverse: "+i(f,l+1)+"});",u+="}}"}}else u+="r +='"+f.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return u+="\nreturn r;})",eval.call(window,u)}n.template=a,n.compile=function(e){return n.compiled||(n.compiled=l(e)),n.compiled}};n.prototype={options:{},helpers:{if:function(e,t){return a(e)&&(e=e.call(this)),e?t.fn(this,t.data):t.inverse(this,t.data)},unless:function(e,t){return a(e)&&(e=e.call(this)),e?t.inverse(this,t.data):t.fn(this,t.data)},each:function(t,n){var r="",i=0;if(a(t)&&(t=t.call(this)),e(t)){for(n.hash.reverse&&(t=t.reverse()),i=0;i<t.length;i++)r+=n.fn(t[i],{first:0===i,last:i===t.length-1,index:i});n.hash.reverse&&(t=t.reverse())}else for(var o in t)i++,r+=n.fn(t[o],{key:o});return i>0?r:n.inverse(this)},with:function(e,t){return a(e)&&(e=e.call(this)),t.fn(e)},join:function(e,t){return a(e)&&(e=e.call(this)),e.join(t.hash.delimiter||t.hash.delimeter)}}};var r=function(e,a){if(2===arguments.length){var t=new n(e),r=t.compile()(a);return t=null,r}return new n(e)};return r.registerHelper=function(e,a){n.prototype.helpers[e]=a},r.unregisterHelper=function(e){n.prototype.helpers[e]=void 0,delete n.prototype.helpers[e]},r.compile=function(e,a){return new n(e,a).compile()},r.options=n.prototype.options,r.helpers=n.prototype.helpers,r}(),window.Swiper=function(a,t){if(!(this instanceof Swiper))return new Swiper(a,t);var n={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0};for(var r in t=t||{},n)if(void 0===t[r])t[r]=n[r];else if("object"==typeof t[r])for(var i in n[r])void 0===t[r][i]&&(t[r][i]=n[r][i]);var o,s=this;if(s.params=t,s.classNames=[],(o=void 0===e?window.Dom7||window.Zepto||window.jQuery:e)&&(s.$=o,s.container=o(a),0!==s.container.length)){if(!(s.container.length>1)){s.container[0].swiper=s,s.container.data("swiper",s),s.classNames.push("swiper-container-"+s.params.direction),s.params.freeMode&&s.classNames.push("swiper-container-free-mode"),s.support.flexbox||(s.classNames.push("swiper-container-no-flexbox"),s.params.slidesPerColumn=1),(s.params.parallax||s.params.watchSlidesVisibility)&&(s.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(s.params.effect)>=0&&(s.support.transforms3d?(s.params.watchSlidesProgress=!0,s.classNames.push("swiper-container-3d")):s.params.effect="slide"),"slide"!==s.params.effect&&s.classNames.push("swiper-container-"+s.params.effect),"cube"===s.params.effect&&(s.params.resistanceRatio=0,s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.centeredSlides=!1,s.params.spaceBetween=0,s.params.virtualTranslate=!0,s.params.setWrapperSize=!1),"fade"===s.params.effect&&(s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.watchSlidesProgress=!0,s.params.spaceBetween=0,s.params.virtualTranslate=!0),s.params.grabCursor&&s.support.touch&&(s.params.grabCursor=!1),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=o(s.params.pagination),s.params.paginationClickable&&s.paginationContainer.addClass("swiper-pagination-clickable")),s.rtl=S()&&("rtl"===s.container[0].dir.toLowerCase()||"rtl"===s.container.css("direction")),s.rtl&&s.classNames.push("swiper-container-rtl"),s.rtl&&(s.wrongRTL="-webkit-box"===s.wrapper.css("display")),s.params.slidesPerColumn>1&&s.classNames.push("swiper-container-multirow"),s.device.android&&s.classNames.push("swiper-container-android"),s.container.addClass(s.classNames.join(" ")),s.translate=0,s.progress=0,s.velocity=0,s.lockSwipeToNext=function(){s.params.allowSwipeToNext=!1},s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=!1},s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!1},s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=!0},s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=!0},s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!0},s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab"),s.imagesToLoad=[],s.imagesLoaded=0,s.loadImage=function(e,a,t,n){var r;function i(){n&&n()}e.complete&&t?i():a?((r=new Image).onload=i,r.onerror=i,r.src=a):i()},s.preloadImages=function(){function e(){null!=s&&(void 0!==s.imagesLoaded&&s.imagesLoaded++,s.imagesLoaded===s.imagesToLoad.length&&(s.params.updateOnImagesReady&&s.update(),s.emit("onImagesReady",s)))}s.imagesToLoad=s.container.find("img");for(var a=0;a<s.imagesToLoad.length;a++)s.loadImage(s.imagesToLoad[a],s.imagesToLoad[a].currentSrc||s.imagesToLoad[a].getAttribute("src"),!0,e)},s.autoplayTimeoutId=void 0,s.autoplaying=!1,s.autoplayPaused=!1,s.startAutoplay=function(){return void 0===s.autoplayTimeoutId&&(!!s.params.autoplay&&(!s.autoplaying&&(s.autoplaying=!0,s.emit("onAutoplayStart",s),void P())))},s.stopAutoplay=function(e){s.autoplayTimeoutId&&(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplaying=!1,s.autoplayTimeoutId=void 0,s.emit("onAutoplayStop",s))},s.pauseAutoplay=function(e){s.autoplayPaused||(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplayPaused=!0,0===e?(s.autoplayPaused=!1,P()):s.wrapper.transitionEnd(function(){s.autoplayPaused=!1,s.autoplaying?P():s.stopAutoplay()}))},s.minTranslate=function(){return-s.snapGrid[0]},s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]},s.updateContainerSize=function(){s.width=s.container[0].clientWidth,s.height=s.container[0].clientHeight,s.size=S()?s.width:s.height},s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass),s.snapGrid=[],s.slidesGrid=[],s.slidesSizesGrid=[];var e,a,t,n,r=s.params.spaceBetween,i=0,o=0,l=0;for("string"==typeof r&&r.indexOf("%")>=0&&(r=parseFloat(r.replace("%",""))/100*s.size),s.virtualSize=-r,s.rtl?s.slides.css({marginLeft:"",marginTop:""}):s.slides.css({marginRight:"",marginBottom:""}),s.params.slidesPerColumn>1&&(a=Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn?s.slides.length:Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn),e=0;e<s.slides.length;e++){t=0;var p=s.slides.eq(e);if(s.params.slidesPerColumn>1){var c,d,u,m,h=s.params.slidesPerColumn;"column"===s.params.slidesPerColumnFill?(c=(d=Math.floor(e/h))+(u=e-d*h)*a/h,p.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(m=a/h,d=e-(u=Math.floor(e/m))*m),p.css({"margin-top":0!==u&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",d).attr("data-swiper-row",u)}"none"!==p.css("display")&&("auto"===s.params.slidesPerView?t=S()?p.outerWidth(!0):p.outerHeight(!0):(t=(s.size-(s.params.slidesPerView-1)*r)/s.params.slidesPerView,S()?s.slides[e].style.width=t+"px":s.slides[e].style.height=t+"px"),s.slides[e].swiperSlideSize=t,s.slidesSizesGrid.push(t),s.params.centeredSlides?(i=i+t/2+o/2+r,0===e&&(i=i-s.size/2-r),Math.abs(i)<.001&&(i=0),l%s.params.slidesPerGroup==0&&s.snapGrid.push(i),s.slidesGrid.push(i)):(l%s.params.slidesPerGroup==0&&s.snapGrid.push(i),s.slidesGrid.push(i),i=i+t+r),s.virtualSize+=t+r,o=t,l++)}if(s.virtualSize=Math.max(s.virtualSize,s.size),s.rtl&&s.wrongRTL&&("slide"===s.params.effect||"coverflow"===s.params.effect)&&s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.support.flexbox&&!s.params.setWrapperSize||(S()?s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}):s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})),s.params.slidesPerColumn>1&&(s.virtualSize=(t+s.params.spaceBetween)*a,s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween,s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.params.centeredSlides)){for(n=[],e=0;e<s.snapGrid.length;e++)s.snapGrid[e]<s.virtualSize+s.snapGrid[0]&&n.push(s.snapGrid[e]);s.snapGrid=n}if(!s.params.centeredSlides){for(n=[],e=0;e<s.snapGrid.length;e++)s.snapGrid[e]<=s.virtualSize-s.size&&n.push(s.snapGrid[e]);s.snapGrid=n,Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])&&s.snapGrid.push(s.virtualSize-s.size)}0===s.snapGrid.length&&(s.snapGrid=[0]),0!==s.params.spaceBetween&&(S()?s.rtl?s.slides.css({marginLeft:r+"px"}):s.slides.css({marginRight:r+"px"}):s.slides.css({marginBottom:r+"px"})),s.params.watchSlidesProgress&&s.updateSlidesOffset()},s.updateSlidesOffset=function(){for(var e=0;e<s.slides.length;e++)s.slides[e].swiperSlideOffset=S()?s.slides[e].offsetLeft:s.slides[e].offsetTop},s.updateSlidesProgress=function(e){if(void 0===e&&(e=s.translate||0),0!==s.slides.length){void 0===s.slides[0].swiperSlideOffset&&s.updateSlidesOffset();var a=s.params.centeredSlides?-e+s.size/2:-e;s.rtl&&(a=s.params.centeredSlides?e-s.size/2:e);s.container[0].getBoundingClientRect(),S(),S();s.slides.removeClass(s.params.slideVisibleClass);for(var t=0;t<s.slides.length;t++){var n=s.slides[t],r=!0===s.params.centeredSlides?n.swiperSlideSize/2:0,i=(a-n.swiperSlideOffset-r)/(n.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var o=-(a-n.swiperSlideOffset-r),l=o+s.slidesSizesGrid[t];(o>=0&&o<s.size||l>0&&l<=s.size||o<=0&&l>=s.size)&&s.slides.eq(t).addClass(s.params.slideVisibleClass)}n.progress=s.rtl?-i:i}}},s.updateProgress=function(e){void 0===e&&(e=s.translate||0);var a=s.maxTranslate()-s.minTranslate();0===a?(s.progress=0,s.isBeginning=s.isEnd=!0):(s.progress=(e-s.minTranslate())/a,s.isBeginning=s.progress<=0,s.isEnd=s.progress>=1),s.isBeginning&&s.emit("onReachBeginning",s),s.isEnd&&s.emit("onReachEnd",s),s.params.watchSlidesProgress&&s.updateSlidesProgress(e),s.emit("onProgress",s,s.progress)},s.updateActiveIndex=function(){var e,a,t,n=s.rtl?s.translate:-s.translate;for(a=0;a<s.slidesGrid.length;a++)void 0!==s.slidesGrid[a+1]?n>=s.slidesGrid[a]&&n<s.slidesGrid[a+1]-(s.slidesGrid[a+1]-s.slidesGrid[a])/2?e=a:n>=s.slidesGrid[a]&&n<s.slidesGrid[a+1]&&(e=a+1):n>=s.slidesGrid[a]&&(e=a);(e<0||void 0===e)&&(e=0),(t=Math.floor(e/s.params.slidesPerGroup))>=s.snapGrid.length&&(t=s.snapGrid.length-1),e!==s.activeIndex&&(s.snapIndex=t,s.previousIndex=s.activeIndex,s.activeIndex=e,s.updateClasses())},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var e,a=s.slides.eq(s.activeIndex);(a.addClass(s.params.slideActiveClass),a.next("."+s.params.slideClass).addClass(s.params.slideNextClass),a.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0)&&(s.bullets.removeClass(s.params.bulletActiveClass),s.params.loop?((e=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup)>s.slides.length-1-2*s.loopedSlides&&(e-=s.slides.length-2*s.loopedSlides),e>s.bullets.length-1&&(e-=s.bullets.length)):e=void 0!==s.snapIndex?s.snapIndex:s.activeIndex||0,s.paginationContainer.length>1?s.bullets.each(function(){o(this).index()===e&&o(this).addClass(s.params.bulletActiveClass)}):s.bullets.eq(e).addClass(s.params.bulletActiveClass));s.params.loop||(s.params.prevButton&&(s.isBeginning?(o(s.params.prevButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable(o(s.params.prevButton))):(o(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable(o(s.params.prevButton)))),s.params.nextButton&&(s.isEnd?(o(s.params.nextButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable(o(s.params.nextButton))):(o(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable(o(s.params.nextButton)))))},s.updatePagination=function(){if(s.params.pagination&&s.paginationContainer&&s.paginationContainer.length>0){for(var e="",a=s.params.loop?Math.ceil((s.slides.length-2*s.loopedSlides)/s.params.slidesPerGroup):s.snapGrid.length,t=0;t<a;t++)s.params.paginationBulletRender?e+=s.params.paginationBulletRender(t,s.params.bulletClass):e+='<span class="'+s.params.bulletClass+'"></span>';s.paginationContainer.html(e),s.bullets=s.paginationContainer.find("."+s.params.bulletClass)}},s.update=function(e){function a(){t=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate()),s.setWrapperTranslate(t),s.updateActiveIndex(),s.updateClasses()}var t;(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),s.updatePagination(),s.updateClasses(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),e)&&(s.params.freeMode?a():("auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0))||a())},s.onResize=function(){if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),("auto"===s.params.slidesPerView||s.params.freeMode)&&s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),s.params.freeMode){var e=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(e),s.updateActiveIndex(),s.updateClasses()}else s.updateClasses(),"auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0)};var l=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?l=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(l=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":l[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":l[1],end:s.support.touch||!s.params.simulateTouch?"touchend":l[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===s.params.touchEventsTarget?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction),s.initEvents=function(e){var a=e?"off":"on",n=e?"removeEventListener":"addEventListener",r="container"===s.params.touchEventsTarget?s.container[0]:s.wrapper[0],i=s.support.touch?r:document,l=!!s.params.nested;s.browser.ie?(r[n](s.touchEvents.start,s.onTouchStart,!1),i[n](s.touchEvents.move,s.onTouchMove,l),i[n](s.touchEvents.end,s.onTouchEnd,!1)):(s.support.touch&&(r[n](s.touchEvents.start,s.onTouchStart,!1),r[n](s.touchEvents.move,s.onTouchMove,l),r[n](s.touchEvents.end,s.onTouchEnd,!1)),!t.simulateTouch||s.device.ios||s.device.android||(r[n]("mousedown",s.onTouchStart,!1),i[n]("mousemove",s.onTouchMove,l),i[n]("mouseup",s.onTouchEnd,!1))),window[n]("resize",s.onResize),s.params.nextButton&&(o(s.params.nextButton)[a]("click",s.onClickNext),s.params.a11y&&s.a11y&&o(s.params.nextButton)[a]("keydown",s.a11y.onEnterKey)),s.params.prevButton&&(o(s.params.prevButton)[a]("click",s.onClickPrev),s.params.a11y&&s.a11y&&o(s.params.prevButton)[a]("keydown",s.a11y.onEnterKey)),s.params.pagination&&s.params.paginationClickable&&o(s.paginationContainer)[a]("click","."+s.params.bulletClass,s.onClickIndex),(s.params.preventClicks||s.params.preventClicksPropagation)&&r[n]("click",s.preventClicks,!0)},s.attachEvents=function(e){s.initEvents()},s.detachEvents=function(){s.initEvents(!0)},s.allowClick=!0,s.preventClicks=function(e){s.allowClick||(s.params.preventClicks&&e.preventDefault(),s.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onClickNext=function(e){e.preventDefault(),s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.slidePrev()},s.onClickIndex=function(e){e.preventDefault();var a=o(this).index()*s.params.slidesPerGroup;s.params.loop&&(a+=s.loopedSlides),s.slideTo(a)},s.updateClickedSlide=function(e){var a=M(e,"."+s.params.slideClass);if(!a)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);if(s.clickedSlide=a,s.clickedIndex=o(a).index(),s.params.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex){var t,n=s.clickedIndex;if(s.params.loop)if(t=o(s.clickedSlide).attr("data-swiper-slide-index"),n>s.slides.length-s.params.slidesPerView)s.fixLoop(),n=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+t+'"]').eq(0).index(),setTimeout(function(){s.slideTo(n)},0);else if(n<s.params.slidesPerView-1){s.fixLoop();var r=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+t+'"]');n=r.eq(r.length-1).index(),setTimeout(function(){s.slideTo(n)},0)}else s.slideTo(n);else s.slideTo(n)}};var p,c,d,u,m,h,f,g,v,w,b,C="input, select, textarea, button",y=Date.now(),x=[];for(var T in s.animating=!1,s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},s.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),(w="touchstart"===e.type)||!("which"in e)||3!==e.which)if(s.params.noSwiping&&M(e,"."+s.params.noSwipingClass))s.allowClick=!0;else if(!s.params.swipeHandler||M(e,s.params.swipeHandler)){if(p=!0,c=!1,u=void 0,b=void 0,s.touches.startX=s.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.startY=s.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=Date.now(),s.allowClick=!0,s.updateContainerSize(),s.swipeDirection=void 0,s.params.threshold>0&&(f=!1),"touchstart"!==e.type){var a=!0;o(e.target).is(C)&&(a=!1),document.activeElement&&o(document.activeElement).is(C)&&document.activeElement.blur(),a&&e.preventDefault()}s.emit("onTouchStart",s,e)}},s.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(w&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(s.params.onlyExternal)return c=!0,void(s.allowClick=!1);if(w&&document.activeElement&&e.target===document.activeElement&&o(e.target).is(C))return c=!0,void(s.allowClick=!1);if(s.emit("onTouchMove",s,e),!(e.targetTouches&&e.targetTouches.length>1)){if(s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===u){var a=180*Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))/Math.PI;u=S()?a>s.params.touchAngle:90-a>s.params.touchAngle}if(u&&s.emit("onTouchMoveOpposite",s,e),void 0===b&&s.browser.ieTouch&&(s.touches.currentX===s.touches.startX&&s.touches.currentY===s.touches.startY||(b=!0)),p)if(u)p=!1;else if(b||!s.browser.ieTouch){s.allowClick=!1,s.emit("onSliderMove",s,e),e.preventDefault(),s.params.touchMoveStopPropagation&&!s.params.nested&&e.stopPropagation(),c||(t.loop&&s.fixLoop(),h=s.getWrapperTranslate(),s.setWrapperTransition(0),s.animating&&s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),s.params.autoplay&&s.autoplaying&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():s.pauseAutoplay()),v=!1,s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grabbing",s.container[0].style.cursor="-moz-grabbin",s.container[0].style.cursor="grabbing")),c=!0;var n=s.touches.diff=S()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;n*=s.params.touchRatio,s.rtl&&(n=-n),s.swipeDirection=n>0?"prev":"next",m=n+h;var r=!0;if(n>0&&m>s.minTranslate()?(r=!1,s.params.resistance&&(m=s.minTranslate()-1+Math.pow(-s.minTranslate()+h+n,s.params.resistanceRatio))):n<0&&m<s.maxTranslate()&&(r=!1,s.params.resistance&&(m=s.maxTranslate()+1-Math.pow(s.maxTranslate()-h-n,s.params.resistanceRatio))),r&&(e.preventedByNestedSwiper=!0),!s.params.allowSwipeToNext&&"next"===s.swipeDirection&&m<h&&(m=h),!s.params.allowSwipeToPrev&&"prev"===s.swipeDirection&&m>h&&(m=h),s.params.followFinger){if(s.params.threshold>0){if(!(Math.abs(n)>s.params.threshold||f))return void(m=h);if(!f)return f=!0,s.touches.startX=s.touches.currentX,s.touches.startY=s.touches.currentY,m=h,void(s.touches.diff=S()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY)}(s.params.freeMode||s.params.watchSlidesProgress)&&s.updateActiveIndex(),s.params.freeMode&&(0===x.length&&x.push({position:s.touches[S()?"startX":"startY"],time:d}),x.push({position:s.touches[S()?"currentX":"currentY"],time:(new Date).getTime()})),s.updateProgress(m),s.setWrapperTranslate(m)}}}}},s.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),s.emit("onTouchEnd",s,e),p){s.params.grabCursor&&c&&p&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab");var a,t=Date.now(),n=t-d;if(s.allowClick&&(s.updateClickedSlide(e),s.emit("onTap",s,e),n<300&&t-y>300&&(g&&clearTimeout(g),g=setTimeout(function(){s&&(s.params.paginationHide&&s.paginationContainer.length>0&&!o(e.target).hasClass(s.params.bulletClass)&&s.paginationContainer.toggleClass(s.params.paginationHiddenClass),s.emit("onClick",s,e))},300)),n<300&&t-y<300&&(g&&clearTimeout(g),s.emit("onDoubleTap",s,e))),y=Date.now(),setTimeout(function(){s&&s.allowClick&&(s.allowClick=!0)},0),p&&c&&s.swipeDirection&&0!==s.touches.diff&&m!==h)if(p=c=!1,a=s.params.followFinger?s.rtl?s.translate:-s.translate:-m,s.params.freeMode){if(a<-s.minTranslate())return void s.slideTo(s.activeIndex);if(a>-s.maxTranslate())return void s.slideTo(s.slides.length-1);if(s.params.freeModeMomentum){if(x.length>1){var r=x.pop(),i=x.pop(),l=r.position-i.position,u=r.time-i.time;s.velocity=l/u,s.velocity=s.velocity/2,Math.abs(s.velocity)<.02&&(s.velocity=0),(u>150||(new Date).getTime()-r.time>300)&&(s.velocity=0)}else s.velocity=0;x.length=0;var f=1e3*s.params.freeModeMomentumRatio,w=s.velocity*f,b=s.translate+w;s.rtl&&(b=-b);var C,T=!1,k=20*Math.abs(s.velocity)*s.params.freeModeMomentumBounceRatio;b<s.maxTranslate()&&(s.params.freeModeMomentumBounce?(b+s.maxTranslate()<-k&&(b=s.maxTranslate()-k),C=s.maxTranslate(),T=!0,v=!0):b=s.maxTranslate()),b>s.minTranslate()&&(s.params.freeModeMomentumBounce?(b-s.minTranslate()>k&&(b=s.minTranslate()+k),C=s.minTranslate(),T=!0,v=!0):b=s.minTranslate()),0!==s.velocity&&(f=s.rtl?Math.abs((-b-s.translate)/s.velocity):Math.abs((b-s.translate)/s.velocity)),s.params.freeModeMomentumBounce&&T?(s.updateProgress(C),s.setWrapperTransition(f),s.setWrapperTranslate(b),s.onTransitionStart(),s.animating=!0,s.wrapper.transitionEnd(function(){v&&(s.emit("onMomentumBounce",s),s.setWrapperTransition(s.params.speed),s.setWrapperTranslate(C),s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))})):s.velocity?(s.updateProgress(b),s.setWrapperTransition(f),s.setWrapperTranslate(b),s.onTransitionStart(),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))):s.updateProgress(b),s.updateActiveIndex()}(!s.params.freeModeMomentum||n>=s.params.longSwipesMs)&&(s.updateProgress(),s.updateActiveIndex())}else{var S,P=0,M=s.slidesSizesGrid[0];for(S=0;S<s.slidesGrid.length;S+=s.params.slidesPerGroup)void 0!==s.slidesGrid[S+s.params.slidesPerGroup]?a>=s.slidesGrid[S]&&a<s.slidesGrid[S+s.params.slidesPerGroup]&&(P=S,M=s.slidesGrid[S+s.params.slidesPerGroup]-s.slidesGrid[S]):a>=s.slidesGrid[S]&&(P=S,M=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]);var I=(a-s.slidesGrid[P])/M;if(n>s.params.longSwipesMs){if(!s.params.longSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&(I>=s.params.longSwipesRatio?s.slideTo(P+s.params.slidesPerGroup):s.slideTo(P)),"prev"===s.swipeDirection&&(I>1-s.params.longSwipesRatio?s.slideTo(P+s.params.slidesPerGroup):s.slideTo(P))}else{if(!s.params.shortSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&s.slideTo(P+s.params.slidesPerGroup),"prev"===s.swipeDirection&&s.slideTo(P)}}else p=c=!1}},s._slideTo=function(e,a){return s.slideTo(e,a,!0,!0)},s.slideTo=function(e,a,t,n){void 0===t&&(t=!0),void 0===e&&(e=0),e<0&&(e=0),s.snapIndex=Math.floor(e/s.params.slidesPerGroup),s.snapIndex>=s.snapGrid.length&&(s.snapIndex=s.snapGrid.length-1);var r=-s.snapGrid[s.snapIndex];s.params.autoplay&&s.autoplaying&&(n||!s.params.autoplayDisableOnInteraction?s.pauseAutoplay(a):s.stopAutoplay()),s.updateProgress(r);for(var i=0;i<s.slidesGrid.length;i++)-r>=s.slidesGrid[i]&&(e=i);if(void 0===a&&(a=s.params.speed),s.previousIndex=s.activeIndex||0,s.activeIndex=e,r===s.translate)return s.updateClasses(),!1;s.onTransitionStart(t);S(),S();return 0===a?(s.setWrapperTransition(0),s.setWrapperTranslate(r),s.onTransitionEnd(t)):(s.setWrapperTransition(a),s.setWrapperTranslate(r),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd(t)}))),s.updateClasses(),!0},s.onTransitionStart=function(e){void 0===e&&(e=!0),s.lazy&&s.lazy.onTransitionStart(),e&&(s.emit("onTransitionStart",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeStart",s))},s.onTransitionEnd=function(e){s.animating=!1,s.setWrapperTransition(0),void 0===e&&(e=!0),s.lazy&&s.lazy.onTransitionEnd(),e&&(s.emit("onTransitionEnd",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeEnd",s)),s.params.hashnav&&s.hashnav&&s.hashnav.setHash()},s.slideNext=function(e,a,t){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,a,e,t)}return s.slideTo(s.activeIndex+s.params.slidesPerGroup,a,e,t)},s._slideNext=function(e){return s.slideNext(!0,e,!0)},s.slidePrev=function(e,a,t){if(s.params.loop){if(s.animating)return!1;s.fixLoop();s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,a,e,t)}return s.slideTo(s.activeIndex-1,a,e,t)},s._slidePrev=function(e){return s.slidePrev(!0,e,!0)},s.slideReset=function(e,a,t){return s.slideTo(s.activeIndex,a,e)},s.setWrapperTransition=function(e,a){s.wrapper.transition(e),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTransition(e),s.params.parallax&&s.parallax&&s.parallax.setTransition(e),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTransition(e),s.params.control&&s.controller&&s.controller.setTransition(e,a),s.emit("onSetTransition",s,e)},s.setWrapperTranslate=function(e,a,t){var n=0,r=0;S()?n=s.rtl?-e:e:r=e,s.params.virtualTranslate||(s.support.transforms3d?s.wrapper.transform("translate3d("+n+"px, "+r+"px, 0px)"):s.wrapper.transform("translate("+n+"px, "+r+"px)")),s.translate=S()?n:r,a&&s.updateActiveIndex(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTranslate(s.translate),s.params.parallax&&s.parallax&&s.parallax.setTranslate(s.translate),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTranslate(s.translate),s.params.control&&s.controller&&s.controller.setTranslate(s.translate,t),s.emit("onSetTranslate",s,s.translate)},s.getTranslate=function(e,a){var t,n,r,i;return void 0===a&&(a="x"),s.params.virtualTranslate?s.rtl?-s.translate:s.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?i=new WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):t=(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===a&&(n=window.WebKitCSSMatrix?i.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(n=window.WebKitCSSMatrix?i.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),s.rtl&&n&&(n=-n),n||0)},s.getWrapperTranslate=function(e){return void 0===e&&(e=S()?"x":"y"),s.getTranslate(s.wrapper[0],e)},s.observers=[],s.initObservers=function(){if(s.params.observeParents)for(var e=s.container.parents(),a=0;a<e.length;a++)I(e[a]);I(s.container[0],{childList:!1}),I(s.wrapper[0],{attributes:!1})},s.disconnectObservers=function(){for(var e=0;e<s.observers.length;e++)s.observers[e].disconnect();s.observers=[]},s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var e=s.wrapper.children("."+s.params.slideClass);s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10),s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides,s.loopedSlides>e.length&&(s.loopedSlides=e.length);var a,t=[],n=[];for(e.each(function(a,r){var i=o(this);a<s.loopedSlides&&n.push(r),a<e.length&&a>=e.length-s.loopedSlides&&t.push(r),i.attr("data-swiper-slide-index",a)}),a=0;a<n.length;a++)s.wrapper.append(o(n[a].cloneNode(!0)).addClass(s.params.slideDuplicateClass));for(a=t.length-1;a>=0;a--)s.wrapper.prepend(o(t[a].cloneNode(!0)).addClass(s.params.slideDuplicateClass))},s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove()},s.fixLoop=function(){var e;s.activeIndex<s.loopedSlides?(e=s.slides.length-3*s.loopedSlides+s.activeIndex,e+=s.loopedSlides,s.slideTo(e,0,!1,!0)):("auto"===s.params.slidesPerView&&s.activeIndex>=2*s.loopedSlides||s.activeIndex>s.slides.length-2*s.params.slidesPerView)&&(e=-s.slides.length+s.activeIndex+s.loopedSlides,e+=s.loopedSlides,s.slideTo(e,0,!1,!0))},s.appendSlide=function(e){if(s.params.loop&&s.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&s.wrapper.append(e[a]);else s.wrapper.append(e);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0)},s.prependSlide=function(e){s.params.loop&&s.destroyLoop();var a=s.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&s.wrapper.prepend(e[t]);a=s.activeIndex+e.length}else s.wrapper.prepend(e);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.slideTo(a,0,!1)},s.removeSlide=function(e){s.params.loop&&s.destroyLoop();var a,t=s.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)a=e[n],s.slides[a]&&s.slides.eq(a).remove(),a<t&&t--;t=Math.max(t,0)}else a=e,s.slides[a]&&s.slides.eq(a).remove(),a<t&&t--,t=Math.max(t,0);s.params.observer&&s.support.observer||s.update(!0),s.slideTo(t,0,!1)},s.removeAllSlides=function(){for(var e=[],a=0;a<s.slides.length;a++)e.push(a);s.removeSlide(e)},s.effects={fade:{setTranslate:function(){for(var e=0;e<s.slides.length;e++){var a=s.slides.eq(e),t=-a[0].swiperSlideOffset;s.params.virtualTranslate||(t-=s.translate);var n=0;S()||(n=t,t=0);var r=s.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+t+"px, "+n+"px, 0px)")}},setTransition:function(e){s.slides.transition(e),s.params.virtualTranslate&&0!==e&&s.slides.eq(s.activeIndex).transitionEnd(function(){for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<e.length;a++)s.wrapper.trigger(e[a])})}},cube:{setTranslate:function(){var e,a=0;s.params.cube.shadow&&(S()?(0===(e=s.wrapper.find(".swiper-cube-shadow")).length&&(e=o('<div class="swiper-cube-shadow"></div>'),s.wrapper.append(e)),e.css({height:s.width+"px"})):0===(e=s.container.find(".swiper-cube-shadow")).length&&(e=o('<div class="swiper-cube-shadow"></div>'),s.container.append(e)));for(var t=0;t<s.slides.length;t++){var n=s.slides.eq(t),r=90*t,i=Math.floor(r/360);s.rtl&&(r=-r,i=Math.floor(-r/360));var l=Math.max(Math.min(n[0].progress,1),-1),p=0,c=0,d=0;t%4==0?(p=4*-i*s.size,d=0):(t-1)%4==0?(p=0,d=4*-i*s.size):(t-2)%4==0?(p=s.size+4*i*s.size,d=s.size):(t-3)%4==0&&(p=-s.size,d=3*s.size+4*s.size*i),s.rtl&&(p=-p),S()||(c=p,p=0);var u="rotateX("+(S()?0:-r)+"deg) rotateY("+(S()?r:0)+"deg) translate3d("+p+"px, "+c+"px, "+d+"px)";if(l<=1&&l>-1&&(a=90*t+90*l,s.rtl&&(a=90*-t-90*l)),n.transform(u),s.params.cube.slideShadows){var m=S()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),h=S()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===m.length&&(m=o('<div class="swiper-slide-shadow-'+(S()?"left":"top")+'"></div>'),n.append(m)),0===h.length&&(h=o('<div class="swiper-slide-shadow-'+(S()?"right":"bottom")+'"></div>'),n.append(h));n[0].progress;m.length&&(m[0].style.opacity=-n[0].progress),h.length&&(h[0].style.opacity=n[0].progress)}}if(s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"}),s.params.cube.shadow)if(S())e.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var f=Math.abs(a)-90*Math.floor(Math.abs(a)/90),g=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),v=s.params.cube.shadowScale,w=s.params.cube.shadowScale/g,b=s.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+w+") translate3d(0px, "+(s.height/2+b)+"px, "+-s.height/2/w+"px) rotateX(-90deg)")}var C=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+C+"px) rotateX("+(S()?0:a)+"deg) rotateY("+(S()?-a:0)+"deg)")},setTransition:function(e){s.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),s.params.cube.shadow&&!S()&&s.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=s.translate,a=S()?-e+s.width/2:-e+s.height/2,t=S()?s.params.coverflow.rotate:-s.params.coverflow.rotate,n=s.params.coverflow.depth,r=0,i=s.slides.length;r<i;r++){var l=s.slides.eq(r),p=s.slidesSizesGrid[r],c=(a-l[0].swiperSlideOffset-p/2)/p*s.params.coverflow.modifier,d=S()?t*c:0,u=S()?0:t*c,m=-n*Math.abs(c),h=S()?0:s.params.coverflow.stretch*c,f=S()?s.params.coverflow.stretch*c:0;Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(d)<.001&&(d=0),Math.abs(u)<.001&&(u=0);var g="translate3d("+f+"px,"+h+"px,"+m+"px)  rotateX("+u+"deg) rotateY("+d+"deg)";if(l.transform(g),l[0].style.zIndex=1-Math.abs(Math.round(c)),s.params.coverflow.slideShadows){var v=S()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),w=S()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");0===v.length&&(v=o('<div class="swiper-slide-shadow-'+(S()?"left":"top")+'"></div>'),l.append(v)),0===w.length&&(w=o('<div class="swiper-slide-shadow-'+(S()?"right":"bottom")+'"></div>'),l.append(w)),v.length&&(v[0].style.opacity=c>0?c:0),w.length&&(w[0].style.opacity=-c>0?-c:0)}}s.browser.ie&&(s.wrapper[0].style.perspectiveOrigin=a+"px 50%")},setTransition:function(e){s.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},s.lazy={initialImageLoaded:!1,loadImageInSlide:function(e){if(void 0!==e&&0!==s.slides.length){var a=s.slides.eq(e),t=a.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==t.length&&t.each(function(){var e=o(this);e.addClass("swiper-lazy-loading");var t=e.attr("data-src");s.loadImage(e[0],t,!1,function(){e.attr("src",t),e.removeAttr("data-src"),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),a.find(".swiper-lazy-preloader, .preloader").remove(),s.emit("onLazyImageReady",s,a[0],e[0])}),s.emit("onLazyImageLoad",s,a[0],e[0])})}},load:function(){if(s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide(o(this).index())});else if(s.params.slidesPerView>1)for(var e=s.activeIndex;e<s.activeIndex+s.params.slidesPerView;e++)s.slides[e]&&s.lazy.loadImageInSlide(e);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext){var a=s.wrapper.children("."+s.params.slideNextClass);a.length>0&&s.lazy.loadImageInSlide(a.index());var t=s.wrapper.children("."+s.params.slidePrevClass);t.length>0&&s.lazy.loadImageInSlide(t.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&(s.lazy.initialImageLoaded=!0,s.lazy.load())},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}},s.scrollbar={set:function(){if(s.params.scrollbar){var e=s.scrollbar;e.track=o(s.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=o('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=S()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=s.size/s.virtualSize,e.moveDivider=e.divider*(e.trackSize/s.size),e.dragSize=e.trackSize*e.divider,S()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",s.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var e,a=s.scrollbar,t=(s.translate,a.dragSize);e=(a.trackSize-a.dragSize)*s.progress,s.rtl&&S()?(e=-e)>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e):e<0?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),S()?(s.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(s.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),s.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){s.params.scrollbar&&s.scrollbar.drag.transition(e)}},s.controller={setTranslate:function(e,a){var t,n,r=s.params.control;if(s.isArray(r))for(var i=0;i<r.length;i++)r[i]!==a&&r[i]instanceof Swiper&&(e=r[i].rtl&&"horizontal"===r[i].params.direction?-s.translate:s.translate,t=(r[i].maxTranslate()-r[i].minTranslate())/(s.maxTranslate()-s.minTranslate()),n=(e-s.minTranslate())*t+r[i].minTranslate(),s.params.controlInverse&&(n=r[i].maxTranslate()-n),r[i].updateProgress(n),r[i].setWrapperTranslate(n,!1,s),r[i].updateActiveIndex());else r instanceof Swiper&&a!==r&&(e=r.rtl&&"horizontal"===r.params.direction?-s.translate:s.translate,t=(r.maxTranslate()-r.minTranslate())/(s.maxTranslate()-s.minTranslate()),n=(e-s.minTranslate())*t+r.minTranslate(),s.params.controlInverse&&(n=r.maxTranslate()-n),r.updateProgress(n),r.setWrapperTranslate(n,!1,s),r.updateActiveIndex())},setTransition:function(e,a){var t=s.params.control;if(s.isArray(t))for(var n=0;n<t.length;n++)t[n]!==a&&t[n]instanceof Swiper&&t[n].setWrapperTransition(e,s);else t instanceof Swiper&&a!==t&&t.setWrapperTransition(e,s)}},s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){O(this,s.progress)}),s.slides.each(function(){var e=o(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){O(this,Math.min(Math.max(e[0].progress,-1),1))})})},setTransition:function(e){void 0===e&&(e=s.params.speed),s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=o(this),t=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(t=0),a.transition(t)})}},s._plugins=[],s.plugins){var k=s.plugins[T](s,s.params[T]);k&&s._plugins.push(k)}return s.callPlugins=function(e){for(var a=0;a<s._plugins.length;a++)e in s._plugins[a]&&s._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.emitterEventListeners={},s.emit=function(e){var a;if(s.params[e]&&s.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.emitterEventListeners[e])for(a=0;a<s.emitterEventListeners[e].length;a++)s.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);s.callPlugins&&s.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.on=function(e,a){return e=E(e),s.emitterEventListeners[e]||(s.emitterEventListeners[e]=[]),s.emitterEventListeners[e].push(a),s},s.off=function(e,a){var t;if(e=E(e),void 0===a)return s.emitterEventListeners[e]=[],s;if(s.emitterEventListeners[e]&&0!==s.emitterEventListeners[e].length){for(t=0;t<s.emitterEventListeners[e].length;t++)s.emitterEventListeners[e][t]===a&&s.emitterEventListeners[e].splice(t,1);return s}},s.once=function(e,a){e=E(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),s.off(e,t)};return s.on(e,t),s},s.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(o(e.target).is(s.params.nextButton)?(s.onClickNext(e),s.isEnd?s.a11y.notify(s.params.lastSlideMsg):s.a11y.notify(s.params.nextSlideMsg)):o(e.target).is(s.params.prevButton)&&(s.onClickPrev(e),s.isBeginning?s.a11y.notify(s.params.firstSlideMsg):s.a11y.notify(s.params.prevSlideMsg)))},liveRegion:o('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=s.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){if(s.params.nextButton){var e=o(s.params.nextButton);s.a11y.makeFocusable(e),s.a11y.addRole(e,"button"),s.a11y.addLabel(e,s.params.nextSlideMsg)}if(s.params.prevButton){var a=o(s.params.prevButton);s.a11y.makeFocusable(a),s.a11y.addRole(a,"button"),s.a11y.addLabel(a,s.params.prevSlideMsg)}o(s.container).append(s.a11y.liveRegion)},destroy:function(){s.a11y.liveRegion&&s.a11y.liveRegion.length>0&&s.a11y.liveRegion.remove()}},s.init=function(){s.params.loop&&s.createLoop(),s.updateContainerSize(),s.updateSlidesSize(),s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&(s.params.loop||s.updateProgress(),s.effects[s.params.effect].setTranslate()),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit):(s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit),0===s.params.initialSlide&&(s.parallax&&s.params.parallax&&s.parallax.setTranslate(),s.lazy&&s.params.lazyLoading&&s.lazy.load())),s.attachEvents(),s.params.observer&&s.support.observer&&s.initObservers(),s.params.preloadImages&&!s.params.lazyLoading&&s.preloadImages(),s.params.autoplay&&s.startAutoplay(),s.params.keyboardControl&&s.enableKeyboardControl&&s.enableKeyboardControl(),s.params.mousewheelControl&&s.enableMousewheelControl&&s.enableMousewheelControl(),s.params.hashnav&&s.hashnav&&s.hashnav.init(),s.params.a11y&&s.a11y&&s.a11y.init(),s.emit("onInit",s)},s.destroy=function(e){s.detachEvents(),s.disconnectObservers(),s.params.keyboardControl&&s.disableKeyboardControl&&s.disableKeyboardControl(),s.params.mousewheelControl&&s.disableMousewheelControl&&s.disableMousewheelControl(),s.params.a11y&&s.a11y&&s.a11y.destroy(),s.emit("onDestroy"),!1!==e&&(s=null)},s.init(),s}s.container.each(function(){new Swiper(this,t)})}function S(){return"horizontal"===s.params.direction}function P(){s.autoplayTimeoutId=setTimeout(function(){s.params.loop?(s.fixLoop(),s._slideNext()):s.isEnd?t.autoplayStopOnLast?s.stopAutoplay():s._slideTo(0):s._slideNext()},s.params.autoplay)}function M(e,a){var t=o(e.target);if(!t.is(a))if("string"==typeof a)t=t.parents(a);else if(a.nodeType){var n;return t.parents().each(function(e,t){t===a&&(n=a)}),n?a:void 0}if(0!==t.length)return t[0]}function I(e,a){a=a||{};var t=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){s.onResize(),s.emit("onObserverUpdate",s,e)})});t.observe(e,{attributes:void 0===a.attributes||a.attributes,childList:void 0===a.childList||a.childList,characterData:void 0===a.characterData||a.characterData}),s.observers.push(t)}function O(e,a){var t,n,r;t=(e=o(e)).attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),r=e.attr("data-swiper-parallax-y"),n||r?(n=n||"0",r=r||"0"):S()?(n=t,r="0"):(r=t,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*a+"%":n*a+"px",r=r.indexOf("%")>=0?parseInt(r,10)*a+"%":r*a+"px",e.transform("translate3d("+n+", "+r+",0px)")}function E(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}},Swiper.prototype={isSafari:(t=navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),n=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!t&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:t||n||t,android:a}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||(a=document.createElement("div").style,"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window},plugins:{}}}();